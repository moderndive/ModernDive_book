<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>C Tips and Tricks | Statistical Inference via Data Science</title>
  <meta name="description" content="An open-source and fully-reproducible electronic textbook for teaching statistical inference using tidyverse data science tools." />
  <meta name="generator" content="bookdown 0.40.1 and GitBook 2.6.7" />

  <meta property="og:title" content="C Tips and Tricks | Statistical Inference via Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://moderndive.com//images/logos/book_cover.png" />
  <meta property="og:description" content="An open-source and fully-reproducible electronic textbook for teaching statistical inference using tidyverse data science tools." />
  <meta name="github-repo" content="moderndive/ModernDive_book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="C Tips and Tricks | Statistical Inference via Data Science" />
  <meta name="twitter:site" content="@ModernDive" />
  <meta name="twitter:description" content="An open-source and fully-reproducible electronic textbook for teaching statistical inference using tidyverse data science tools." />
  <meta name="twitter:image" content="https://moderndive.com//images/logos/book_cover.png" />

<meta name="author" content="Chester Ismay, Albert Y. Kim, and Arturo Valdivia   Foreword by Kelly S. McConville" />


<meta name="date" content="2024-09-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="images/logos/favicons/apple-touch-icon.png" />
  <link rel="shortcut icon" href="images/logos/favicons/favicon.ico" type="image/x-icon" />
<link rel="prev" href="B-appendixB.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YVFBK9P73R"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YVFBK9P73R');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome to ModernDive</a></li>
<li class="chapter" data-level="" data-path="foreword.html"><a href="foreword.html"><i class="fa fa-check"></i>Foreword</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#introduction-for-students"><i class="fa fa-check"></i>Introduction for students</a>
<ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#what-we-hope-you-will-learn-from-this-book"><i class="fa fa-check"></i>What we hope you will learn from this book</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#datascience-pipeline"><i class="fa fa-check"></i>Data/science pipeline</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#reproducible-research"><i class="fa fa-check"></i>Reproducible research</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#final-note-for-students"><i class="fa fa-check"></i>Final note for students</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#introduction-for-instructors"><i class="fa fa-check"></i>Introduction for instructors</a>
<ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#resources"><i class="fa fa-check"></i>Resources</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#why-did-we-write-this-book"><i class="fa fa-check"></i>Why did we write this book?</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#who-is-this-book-for"><i class="fa fa-check"></i>Who is this book for?</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#connect-and-contribute"><i class="fa fa-check"></i>Connect and contribute</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#about-this-book"><i class="fa fa-check"></i>About this book</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#versions-of-r-packages-used"><i class="fa fa-check"></i>Versions of R packages used</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-authors.html"><a href="about-the-authors.html"><i class="fa fa-check"></i>About the authors</a></li>
<li class="chapter" data-level="1" data-path="1-getting-started.html"><a href="1-getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting Started with Data in R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="1-getting-started.html"><a href="1-getting-started.html#r-rstudio"><i class="fa fa-check"></i><b>1.1</b> What are R and RStudio?</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="1-getting-started.html"><a href="1-getting-started.html#installing"><i class="fa fa-check"></i><b>1.1.1</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="1.1.2" data-path="1-getting-started.html"><a href="1-getting-started.html#using-r-via-rstudio"><i class="fa fa-check"></i><b>1.1.2</b> Using R via RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="1-getting-started.html"><a href="1-getting-started.html#code"><i class="fa fa-check"></i><b>1.2</b> How do I code in R?</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="1-getting-started.html"><a href="1-getting-started.html#programming-concepts"><i class="fa fa-check"></i><b>1.2.1</b> Basic programming concepts and terminology</a></li>
<li class="chapter" data-level="1.2.2" data-path="1-getting-started.html"><a href="1-getting-started.html#messages"><i class="fa fa-check"></i><b>1.2.2</b> Errors, warnings, and messages</a></li>
<li class="chapter" data-level="1.2.3" data-path="1-getting-started.html"><a href="1-getting-started.html#tips-code"><i class="fa fa-check"></i><b>1.2.3</b> Tips on learning to code</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="1-getting-started.html"><a href="1-getting-started.html#packages"><i class="fa fa-check"></i><b>1.3</b> What are R packages?</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="1-getting-started.html"><a href="1-getting-started.html#package-installation"><i class="fa fa-check"></i><b>1.3.1</b> Package installation</a></li>
<li class="chapter" data-level="1.3.2" data-path="1-getting-started.html"><a href="1-getting-started.html#package-loading"><i class="fa fa-check"></i><b>1.3.2</b> Package loading</a></li>
<li class="chapter" data-level="1.3.3" data-path="1-getting-started.html"><a href="1-getting-started.html#package-use"><i class="fa fa-check"></i><b>1.3.3</b> Package use</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="1-getting-started.html"><a href="1-getting-started.html#nycflights"><i class="fa fa-check"></i><b>1.4</b> Explore your first datasets</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="1-getting-started.html"><a href="1-getting-started.html#nycflights23-package"><i class="fa fa-check"></i><b>1.4.1</b> <code>nycflights23</code> package</a></li>
<li class="chapter" data-level="1.4.2" data-path="1-getting-started.html"><a href="1-getting-started.html#flights-data-frame"><i class="fa fa-check"></i><b>1.4.2</b> <code>flights</code> data frame</a></li>
<li class="chapter" data-level="1.4.3" data-path="1-getting-started.html"><a href="1-getting-started.html#exploredataframes"><i class="fa fa-check"></i><b>1.4.3</b> Exploring data frames</a></li>
<li class="chapter" data-level="1.4.4" data-path="1-getting-started.html"><a href="1-getting-started.html#identification-vs-measurement-variables"><i class="fa fa-check"></i><b>1.4.4</b> Identification and measurement variables</a></li>
<li class="chapter" data-level="1.4.5" data-path="1-getting-started.html"><a href="1-getting-started.html#help-files"><i class="fa fa-check"></i><b>1.4.5</b> Help files</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="1-getting-started.html"><a href="1-getting-started.html#conclusion"><i class="fa fa-check"></i><b>1.5</b> Conclusion</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="1-getting-started.html"><a href="1-getting-started.html#additional-resources"><i class="fa fa-check"></i><b>1.5.1</b> Additional resources</a></li>
<li class="chapter" data-level="1.5.2" data-path="1-getting-started.html"><a href="1-getting-started.html#whats-to-come"><i class="fa fa-check"></i><b>1.5.2</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Data Science with tidyverse</b></span></li>
<li class="chapter" data-level="2" data-path="2-viz.html"><a href="2-viz.html"><i class="fa fa-check"></i><b>2</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="" data-path="2-viz.html"><a href="2-viz.html#needed-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="2.1" data-path="2-viz.html"><a href="2-viz.html#grammarofgraphics"><i class="fa fa-check"></i><b>2.1</b> The grammar of graphics</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="2-viz.html"><a href="2-viz.html#components-of-the-grammar"><i class="fa fa-check"></i><b>2.1.1</b> Components of the grammar</a></li>
<li class="chapter" data-level="2.1.2" data-path="2-viz.html"><a href="2-viz.html#gapminder"><i class="fa fa-check"></i><b>2.1.2</b> Gapminder data</a></li>
<li class="chapter" data-level="2.1.3" data-path="2-viz.html"><a href="2-viz.html#other-components"><i class="fa fa-check"></i><b>2.1.3</b> Other components</a></li>
<li class="chapter" data-level="2.1.4" data-path="2-viz.html"><a href="2-viz.html#ggplot2-package"><i class="fa fa-check"></i><b>2.1.4</b> ggplot2 package</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="2-viz.html"><a href="2-viz.html#FiveNG"><i class="fa fa-check"></i><b>2.2</b> Five named graphs - the 5NG</a></li>
<li class="chapter" data-level="2.3" data-path="2-viz.html"><a href="2-viz.html#scatterplots"><i class="fa fa-check"></i><b>2.3</b> 5NG#1: Scatterplots</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="2-viz.html"><a href="2-viz.html#geompoint"><i class="fa fa-check"></i><b>2.3.1</b> Scatterplots via <code>geom_point</code></a></li>
<li class="chapter" data-level="2.3.2" data-path="2-viz.html"><a href="2-viz.html#overplotting"><i class="fa fa-check"></i><b>2.3.2</b> Overplotting</a></li>
<li class="chapter" data-level="2.3.3" data-path="2-viz.html"><a href="2-viz.html#summary"><i class="fa fa-check"></i><b>2.3.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="2-viz.html"><a href="2-viz.html#linegraphs"><i class="fa fa-check"></i><b>2.4</b> 5NG#2: Linegraphs</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="2-viz.html"><a href="2-viz.html#geomline"><i class="fa fa-check"></i><b>2.4.1</b> Linegraphs via <code>geom_line</code></a></li>
<li class="chapter" data-level="2.4.2" data-path="2-viz.html"><a href="2-viz.html#summary-1"><i class="fa fa-check"></i><b>2.4.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="2-viz.html"><a href="2-viz.html#histograms"><i class="fa fa-check"></i><b>2.5</b> 5NG#3: Histograms</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="2-viz.html"><a href="2-viz.html#geomhistogram"><i class="fa fa-check"></i><b>2.5.1</b> Histograms via <code>geom_histogram</code></a></li>
<li class="chapter" data-level="2.5.2" data-path="2-viz.html"><a href="2-viz.html#adjustbins"><i class="fa fa-check"></i><b>2.5.2</b> Adjusting the bins</a></li>
<li class="chapter" data-level="2.5.3" data-path="2-viz.html"><a href="2-viz.html#summary-2"><i class="fa fa-check"></i><b>2.5.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="2-viz.html"><a href="2-viz.html#facets"><i class="fa fa-check"></i><b>2.6</b> Facets</a></li>
<li class="chapter" data-level="2.7" data-path="2-viz.html"><a href="2-viz.html#boxplots"><i class="fa fa-check"></i><b>2.7</b> 5NG#4: Boxplots</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="2-viz.html"><a href="2-viz.html#geomboxplot"><i class="fa fa-check"></i><b>2.7.1</b> Boxplots via <code>geom_boxplot</code></a></li>
<li class="chapter" data-level="2.7.2" data-path="2-viz.html"><a href="2-viz.html#summary-3"><i class="fa fa-check"></i><b>2.7.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="2-viz.html"><a href="2-viz.html#geombar"><i class="fa fa-check"></i><b>2.8</b> 5NG#5: Barplots</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="2-viz.html"><a href="2-viz.html#barplots-via-geom_bar-or-geom_col"><i class="fa fa-check"></i><b>2.8.1</b> Barplots via <code>geom_bar</code> or <code>geom_col</code></a></li>
<li class="chapter" data-level="2.8.2" data-path="2-viz.html"><a href="2-viz.html#must-avoid-pie-charts"><i class="fa fa-check"></i><b>2.8.2</b> Must avoid pie charts!</a></li>
<li class="chapter" data-level="2.8.3" data-path="2-viz.html"><a href="2-viz.html#two-categ-barplot"><i class="fa fa-check"></i><b>2.8.3</b> Two categorical variables</a></li>
<li class="chapter" data-level="2.8.4" data-path="2-viz.html"><a href="2-viz.html#summary-4"><i class="fa fa-check"></i><b>2.8.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="2-viz.html"><a href="2-viz.html#data-vis-conclusion"><i class="fa fa-check"></i><b>2.9</b> Conclusion</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="2-viz.html"><a href="2-viz.html#summary-table"><i class="fa fa-check"></i><b>2.9.1</b> Summary table</a></li>
<li class="chapter" data-level="2.9.2" data-path="2-viz.html"><a href="2-viz.html#function-argument-specification"><i class="fa fa-check"></i><b>2.9.2</b> Function argument specification</a></li>
<li class="chapter" data-level="2.9.3" data-path="2-viz.html"><a href="2-viz.html#additional-resources-1"><i class="fa fa-check"></i><b>2.9.3</b> Additional resources</a></li>
<li class="chapter" data-level="2.9.4" data-path="2-viz.html"><a href="2-viz.html#whats-to-come-3"><i class="fa fa-check"></i><b>2.9.4</b> What’s to come</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-wrangling.html"><a href="3-wrangling.html"><i class="fa fa-check"></i><b>3</b> Data Wrangling</a>
<ul>
<li class="chapter" data-level="" data-path="3-wrangling.html"><a href="3-wrangling.html#wrangling-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="3.1" data-path="3-wrangling.html"><a href="3-wrangling.html#piping"><i class="fa fa-check"></i><b>3.1</b> The pipe operator: <code>|&gt;</code></a></li>
<li class="chapter" data-level="3.2" data-path="3-wrangling.html"><a href="3-wrangling.html#filter"><i class="fa fa-check"></i><b>3.2</b> <code>filter</code> rows</a></li>
<li class="chapter" data-level="3.3" data-path="3-wrangling.html"><a href="3-wrangling.html#summarize"><i class="fa fa-check"></i><b>3.3</b> <code>summarize</code> variables</a></li>
<li class="chapter" data-level="3.4" data-path="3-wrangling.html"><a href="3-wrangling.html#groupby"><i class="fa fa-check"></i><b>3.4</b> <code>group_by</code> rows</a></li>
<li class="chapter" data-level="3.5" data-path="3-wrangling.html"><a href="3-wrangling.html#mutate"><i class="fa fa-check"></i><b>3.5</b> <code>mutate</code> existing variables</a></li>
<li class="chapter" data-level="3.6" data-path="3-wrangling.html"><a href="3-wrangling.html#arrange"><i class="fa fa-check"></i><b>3.6</b> <code>arrange</code> and sort rows</a></li>
<li class="chapter" data-level="3.7" data-path="3-wrangling.html"><a href="3-wrangling.html#joins"><i class="fa fa-check"></i><b>3.7</b> <code>join</code> data frames</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="3-wrangling.html"><a href="3-wrangling.html#matching-key-variable-names"><i class="fa fa-check"></i><b>3.7.1</b> Matching key variable names</a></li>
<li class="chapter" data-level="3.7.2" data-path="3-wrangling.html"><a href="3-wrangling.html#diff-key"><i class="fa fa-check"></i><b>3.7.2</b> Different key variable names</a></li>
<li class="chapter" data-level="3.7.3" data-path="3-wrangling.html"><a href="3-wrangling.html#multiple-key-variables"><i class="fa fa-check"></i><b>3.7.3</b> Multiple key variables</a></li>
<li class="chapter" data-level="3.7.4" data-path="3-wrangling.html"><a href="3-wrangling.html#normal-forms"><i class="fa fa-check"></i><b>3.7.4</b> Normal forms</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="3-wrangling.html"><a href="3-wrangling.html#other-verbs"><i class="fa fa-check"></i><b>3.8</b> Other verbs</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="3-wrangling.html"><a href="3-wrangling.html#select"><i class="fa fa-check"></i><b>3.8.1</b> <code>select</code> variables</a></li>
<li class="chapter" data-level="3.8.2" data-path="3-wrangling.html"><a href="3-wrangling.html#relocate"><i class="fa fa-check"></i><b>3.8.2</b> <code>relocate</code> variables</a></li>
<li class="chapter" data-level="3.8.3" data-path="3-wrangling.html"><a href="3-wrangling.html#rename"><i class="fa fa-check"></i><b>3.8.3</b> <code>rename</code> variables</a></li>
<li class="chapter" data-level="3.8.4" data-path="3-wrangling.html"><a href="3-wrangling.html#top_n-values-of-a-variable"><i class="fa fa-check"></i><b>3.8.4</b> <code>top_n</code> values of a variable</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="3-wrangling.html"><a href="3-wrangling.html#wrangling-conclusion"><i class="fa fa-check"></i><b>3.9</b> Conclusion</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="3-wrangling.html"><a href="3-wrangling.html#summary-table-1"><i class="fa fa-check"></i><b>3.9.1</b> Summary table</a></li>
<li class="chapter" data-level="3.9.2" data-path="3-wrangling.html"><a href="3-wrangling.html#additional-resources-2"><i class="fa fa-check"></i><b>3.9.2</b> Additional resources</a></li>
<li class="chapter" data-level="3.9.3" data-path="3-wrangling.html"><a href="3-wrangling.html#whats-to-come-1"><i class="fa fa-check"></i><b>3.9.3</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-tidy.html"><a href="4-tidy.html"><i class="fa fa-check"></i><b>4</b> Data Importing and Tidy Data</a>
<ul>
<li class="chapter" data-level="" data-path="4-tidy.html"><a href="4-tidy.html#tidy-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="4.1" data-path="4-tidy.html"><a href="4-tidy.html#csv"><i class="fa fa-check"></i><b>4.1</b> Importing data</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="4-tidy.html"><a href="4-tidy.html#using-the-console"><i class="fa fa-check"></i><b>4.1.1</b> Using the console</a></li>
<li class="chapter" data-level="4.1.2" data-path="4-tidy.html"><a href="4-tidy.html#using-rstudios-interface"><i class="fa fa-check"></i><b>4.1.2</b> Using RStudio’s interface</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4-tidy.html"><a href="4-tidy.html#tidy-data-ex"><i class="fa fa-check"></i><b>4.2</b> Tidy data</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="4-tidy.html"><a href="4-tidy.html#tidy-definition"><i class="fa fa-check"></i><b>4.2.1</b> Definition of tidy data</a></li>
<li class="chapter" data-level="4.2.2" data-path="4-tidy.html"><a href="4-tidy.html#converting-to-tidy-data"><i class="fa fa-check"></i><b>4.2.2</b> Converting to tidy data</a></li>
<li class="chapter" data-level="4.2.3" data-path="4-tidy.html"><a href="4-tidy.html#nycflights23-package-1"><i class="fa fa-check"></i><b>4.2.3</b> <code>nycflights23</code> package</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="4-tidy.html"><a href="4-tidy.html#case-study-tidy"><i class="fa fa-check"></i><b>4.3</b> Case Study: Democracy in Guatemala</a></li>
<li class="chapter" data-level="4.4" data-path="4-tidy.html"><a href="4-tidy.html#tidyverse-package"><i class="fa fa-check"></i><b>4.4</b> <code>tidyverse</code> package</a></li>
<li class="chapter" data-level="4.5" data-path="4-tidy.html"><a href="4-tidy.html#tidy-data-conclusion"><i class="fa fa-check"></i><b>4.5</b> Conclusion</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="4-tidy.html"><a href="4-tidy.html#additional-resources-3"><i class="fa fa-check"></i><b>4.5.1</b> Additional resources</a></li>
<li class="chapter" data-level="4.5.2" data-path="4-tidy.html"><a href="4-tidy.html#whats-to-come-2"><i class="fa fa-check"></i><b>4.5.2</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Statistical Modeling with moderndive</b></span></li>
<li class="chapter" data-level="5" data-path="5-regression.html"><a href="5-regression.html"><i class="fa fa-check"></i><b>5</b> Simple Linear Regression</a>
<ul>
<li class="chapter" data-level="" data-path="5-regression.html"><a href="5-regression.html#reg-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="5.1" data-path="5-regression.html"><a href="5-regression.html#model1"><i class="fa fa-check"></i><b>5.1</b> One numerical explanatory variable</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="5-regression.html"><a href="5-regression.html#model1EDA"><i class="fa fa-check"></i><b>5.1.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="5.1.2" data-path="5-regression.html"><a href="5-regression.html#model1table"><i class="fa fa-check"></i><b>5.1.2</b> Simple linear regression</a></li>
<li class="chapter" data-level="5.1.3" data-path="5-regression.html"><a href="5-regression.html#model1points"><i class="fa fa-check"></i><b>5.1.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="5-regression.html"><a href="5-regression.html#model2"><i class="fa fa-check"></i><b>5.2</b> One categorical explanatory variable</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="5-regression.html"><a href="5-regression.html#model2EDA"><i class="fa fa-check"></i><b>5.2.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="5.2.2" data-path="5-regression.html"><a href="5-regression.html#model2table"><i class="fa fa-check"></i><b>5.2.2</b> Linear regression</a></li>
<li class="chapter" data-level="5.2.3" data-path="5-regression.html"><a href="5-regression.html#model2points"><i class="fa fa-check"></i><b>5.2.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="5-regression.html"><a href="5-regression.html#reg-related-topics"><i class="fa fa-check"></i><b>5.3</b> Related topics</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="5-regression.html"><a href="5-regression.html#correlation-is-not-causation"><i class="fa fa-check"></i><b>5.3.1</b> Correlation is not necessarily causation</a></li>
<li class="chapter" data-level="5.3.2" data-path="5-regression.html"><a href="5-regression.html#leastsquares"><i class="fa fa-check"></i><b>5.3.2</b> Best-fitting line</a></li>
<li class="chapter" data-level="5.3.3" data-path="5-regression.html"><a href="5-regression.html#underthehood"><i class="fa fa-check"></i><b>5.3.3</b> get_regression_x() functions</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="5-regression.html"><a href="5-regression.html#reg-conclusion"><i class="fa fa-check"></i><b>5.4</b> Conclusion</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="5-regression.html"><a href="5-regression.html#additional-resources-basic-regression"><i class="fa fa-check"></i><b>5.4.1</b> Additional resources</a></li>
<li class="chapter" data-level="5.4.2" data-path="5-regression.html"><a href="5-regression.html#whats-to-come-4"><i class="fa fa-check"></i><b>5.4.2</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html"><i class="fa fa-check"></i><b>6</b> Multiple Regression</a>
<ul>
<li class="chapter" data-level="" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#mult-reg-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="6.1" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model4"><i class="fa fa-check"></i><b>6.1</b> One numerical and one categorical explanatory variable</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model4EDA"><i class="fa fa-check"></i><b>6.1.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="6.1.2" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model4interactiontable"><i class="fa fa-check"></i><b>6.1.2</b> Model with interactions</a></li>
<li class="chapter" data-level="6.1.3" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model4table"><i class="fa fa-check"></i><b>6.1.3</b> Model without interactions</a></li>
<li class="chapter" data-level="6.1.4" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model4points"><i class="fa fa-check"></i><b>6.1.4</b> Observed responses, fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model3"><i class="fa fa-check"></i><b>6.2</b> Two numerical explanatory variables</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model3EDA"><i class="fa fa-check"></i><b>6.2.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="6.2.2" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model3table"><i class="fa fa-check"></i><b>6.2.2</b> Multiple regression with two numerical regressors</a></li>
<li class="chapter" data-level="6.2.3" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model3points"><i class="fa fa-check"></i><b>6.2.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#mult-reg-conclusion"><i class="fa fa-check"></i><b>6.3</b> Conclusion</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#additional-resources-4"><i class="fa fa-check"></i><b>6.3.1</b> Additional resources</a></li>
<li class="chapter" data-level="6.3.2" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#whats-to-come-5"><i class="fa fa-check"></i><b>6.3.2</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Statistical Inference with infer</b></span></li>
<li class="chapter" data-level="7" data-path="7-sampling.html"><a href="7-sampling.html"><i class="fa fa-check"></i><b>7</b> Sampling</a>
<ul>
<li class="chapter" data-level="" data-path="7-sampling.html"><a href="7-sampling.html#sampling-packages"><i class="fa fa-check"></i>Needed Packages</a></li>
<li class="chapter" data-level="7.1" data-path="7-sampling.html"><a href="7-sampling.html#sampling-activity"><i class="fa fa-check"></i><b>7.1</b> First Activity: Red Balls</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="7-sampling.html"><a href="7-sampling.html#population-proportion"><i class="fa fa-check"></i><b>7.1.1</b> The proportion of red balls in the bowl</a></li>
<li class="chapter" data-level="7.1.2" data-path="7-sampling.html"><a href="7-sampling.html#sampling-manual"><i class="fa fa-check"></i><b>7.1.2</b> Manual sampling</a></li>
<li class="chapter" data-level="7.1.3" data-path="7-sampling.html"><a href="7-sampling.html#sampling-simulation"><i class="fa fa-check"></i><b>7.1.3</b> Virtual sampling</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="7-sampling.html"><a href="7-sampling.html#sampling-framework"><i class="fa fa-check"></i><b>7.2</b> Sampling Framework</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="7-sampling.html"><a href="7-sampling.html#terminology-and-notation"><i class="fa fa-check"></i><b>7.2.1</b> Population, sample, and the sampling distribution</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="7-sampling.html"><a href="7-sampling.html#central-limit-theorem"><i class="fa fa-check"></i><b>7.3</b> The Central Limit Theorem</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="7-sampling.html"><a href="7-sampling.html#random-variables"><i class="fa fa-check"></i><b>7.3.1</b> Random variables</a></li>
<li class="chapter" data-level="7.3.2" data-path="7-sampling.html"><a href="7-sampling.html#the-sampling-distribution-using-random-variables"><i class="fa fa-check"></i><b>7.3.2</b> The sampling distribution using random variables</a></li>
<li class="chapter" data-level="7.3.3" data-path="7-sampling.html"><a href="7-sampling.html#the-center-of-the-distribution-the-expected-value"><i class="fa fa-check"></i><b>7.3.3</b> The center of the distribution: the expected value</a></li>
<li class="chapter" data-level="7.3.4" data-path="7-sampling.html"><a href="7-sampling.html#sampling-variation"><i class="fa fa-check"></i><b>7.3.4</b> Sampling variation: standard deviation and standard error</a></li>
<li class="chapter" data-level="7.3.5" data-path="7-sampling.html"><a href="7-sampling.html#summary-5"><i class="fa fa-check"></i><b>7.3.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="7-sampling.html"><a href="7-sampling.html#sampling-activity-mean"><i class="fa fa-check"></i><b>7.4</b> Second Activity: Chocolate-Covered Almonds</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="7-sampling.html"><a href="7-sampling.html#population-mean"><i class="fa fa-check"></i><b>7.4.1</b> The population mean weight of almonds in the bowl</a></li>
<li class="chapter" data-level="7.4.2" data-path="7-sampling.html"><a href="7-sampling.html#resampling-tactile-bowl"><i class="fa fa-check"></i><b>7.4.2</b> Manual sampling and sample means</a></li>
<li class="chapter" data-level="7.4.3" data-path="7-sampling.html"><a href="7-sampling.html#virtual-samples-mean-bowl"><i class="fa fa-check"></i><b>7.4.3</b> Virtual sampling</a></li>
<li class="chapter" data-level="7.4.4" data-path="7-sampling.html"><a href="7-sampling.html#the-sampling-distribution-of-the-sample-mean"><i class="fa fa-check"></i><b>7.4.4</b> The sampling distribution of the sample mean</a></li>
<li class="chapter" data-level="7.4.5" data-path="7-sampling.html"><a href="7-sampling.html#random-variable-sample-mean"><i class="fa fa-check"></i><b>7.4.5</b> Random variables</a></li>
<li class="chapter" data-level="7.4.6" data-path="7-sampling.html"><a href="7-sampling.html#CLT-mean"><i class="fa fa-check"></i><b>7.4.6</b> The Central Limit Theorem revisited</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="7-sampling.html"><a href="7-sampling.html#sampling-other-scenarios"><i class="fa fa-check"></i><b>7.5</b> The Sampling Distribution in Other Scenarios</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="7-sampling.html"><a href="7-sampling.html#sampling-distribution-for-two-samples"><i class="fa fa-check"></i><b>7.5.1</b> Sampling distribution for two samples</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="7-sampling.html"><a href="7-sampling.html#sampling-final-remarks"><i class="fa fa-check"></i><b>7.6</b> Summary and Final Remarks</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="7-sampling.html"><a href="7-sampling.html#summary-of-scenarios"><i class="fa fa-check"></i><b>7.6.1</b> Summary of scenarios</a></li>
<li class="chapter" data-level="7.6.2" data-path="7-sampling.html"><a href="7-sampling.html#additional-resources-5"><i class="fa fa-check"></i><b>7.6.2</b> Additional resources</a></li>
<li class="chapter" data-level="7.6.3" data-path="7-sampling.html"><a href="7-sampling.html#whats-to-come-6"><i class="fa fa-check"></i><b>7.6.3</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html"><i class="fa fa-check"></i><b>8</b> Estimation, Confidence Intervals, and Bootstrapping</a>
<ul>
<li class="chapter" data-level="" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#CI-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="8.1" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#theory-based-CI"><i class="fa fa-check"></i><b>8.1</b> Tying Sampling Distribution to Estimation</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#revisit-almond"><i class="fa fa-check"></i><b>8.1.1</b> Revisiting the Almond Activity for Estimation</a></li>
<li class="chapter" data-level="8.1.2" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#the-normal-distribution"><i class="fa fa-check"></i><b>8.1.2</b> The Normal Distribution</a></li>
<li class="chapter" data-level="8.1.3" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#CI-general"><i class="fa fa-check"></i><b>8.1.3</b> The confidence interval</a></li>
<li class="chapter" data-level="8.1.4" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#t-distribution-CI"><i class="fa fa-check"></i><b>8.1.4</b> The t distribution</a></li>
<li class="chapter" data-level="8.1.5" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#interpreting-confidence-intervals"><i class="fa fa-check"></i><b>8.1.5</b> Interpreting Confidence Intervals</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#simulation-based-CI"><i class="fa fa-check"></i><b>8.2</b> Estimation with the Bootstrap</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#revisit-almond-bootstrap"><i class="fa fa-check"></i><b>8.2.1</b> Bootstrap samples: Revisiting the Almond Activity</a></li>
<li class="chapter" data-level="8.2.2" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#bootstrap-process"><i class="fa fa-check"></i><b>8.2.2</b> Confidence intervals and the bootstrap: original workflow</a></li>
<li class="chapter" data-level="8.2.3" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#infer-workflow"><i class="fa fa-check"></i><b>8.2.3</b> The <code>infer</code> package workflow:</a></li>
<li class="chapter" data-level="8.2.4" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#confidence-intervals-using-bootstrap-samples-with-infer"><i class="fa fa-check"></i><b>8.2.4</b> Confidence intervals using bootstrap samples with <code>infer</code></a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#boot-remarks"><i class="fa fa-check"></i><b>8.3</b> Additional remarks about the bootstrap</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#the-bootstrap-and-other-resampling-methods"><i class="fa fa-check"></i><b>8.3.1</b> The bootstrap and other resampling methods</a></li>
<li class="chapter" data-level="8.3.2" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#bootstrap-methods-in-the-context-of-confidence-intervals"><i class="fa fa-check"></i><b>8.3.2</b> Bootstrap methods in the context of confidence intervals</a></li>
<li class="chapter" data-level="8.3.3" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#why-the-bootstrap-based-approach"><i class="fa fa-check"></i><b>8.3.3</b> Why the bootstrap-based approach</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#case-study-two-prop-ci"><i class="fa fa-check"></i><b>8.4</b> Case study: Is yawning contagious?</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#mythbusters-study-data"><i class="fa fa-check"></i><b>8.4.1</b> <em>Mythbusters</em> study data</a></li>
<li class="chapter" data-level="8.4.2" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#sampling-scenario"><i class="fa fa-check"></i><b>8.4.2</b> Sampling scenario</a></li>
<li class="chapter" data-level="8.4.3" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#ci-build"><i class="fa fa-check"></i><b>8.4.3</b> Constructing the confidence interval</a></li>
<li class="chapter" data-level="8.4.4" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#interpreting-the-confidence-interval"><i class="fa fa-check"></i><b>8.4.4</b> Interpreting the confidence interval</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#summary-CI"><i class="fa fa-check"></i><b>8.5</b> Summary and Final Remarks</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#additional-resources-6"><i class="fa fa-check"></i><b>8.5.1</b> Additional resources</a></li>
<li class="chapter" data-level="8.5.2" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#whats-to-come-7"><i class="fa fa-check"></i><b>8.5.2</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html"><i class="fa fa-check"></i><b>9</b> Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#nhst-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="9.1" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#tying-CI-hypo"><i class="fa fa-check"></i><b>9.1</b> Tying confidence intervals to hypothesis testing</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#the-one-sample-hypothesis-test-for-the-population-mean"><i class="fa fa-check"></i><b>9.1.1</b> The one-sample hypothesis test for the population mean</a></li>
<li class="chapter" data-level="9.1.2" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#hypothesis-tests-and-confidence-intervals"><i class="fa fa-check"></i><b>9.1.2</b> Hypothesis tests and confidence intervals</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#ht-activity"><i class="fa fa-check"></i><b>9.2</b> Music popularity activity</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#is-metal-music-more-popular-than-deep-house-music"><i class="fa fa-check"></i><b>9.2.1</b> Is metal music more popular than deep house music?</a></li>
<li class="chapter" data-level="9.2.2" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#shuffling-once"><i class="fa fa-check"></i><b>9.2.2</b> Shuffling once</a></li>
<li class="chapter" data-level="9.2.3" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#ht-what-did-we-just-do"><i class="fa fa-check"></i><b>9.2.3</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#understanding-ht"><i class="fa fa-check"></i><b>9.3</b> Understanding hypothesis tests</a></li>
<li class="chapter" data-level="9.4" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#ht-infer"><i class="fa fa-check"></i><b>9.4</b> Conducting hypothesis tests</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#infer-workflow-ht"><i class="fa fa-check"></i><b>9.4.1</b> <code>infer</code> package workflow</a></li>
<li class="chapter" data-level="9.4.2" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#comparing-infer-workflows"><i class="fa fa-check"></i><b>9.4.2</b> Comparison with confidence intervals</a></li>
<li class="chapter" data-level="9.4.3" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#only-one-test"><i class="fa fa-check"></i><b>9.4.3</b> There is only one test</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#ht-interpretation"><i class="fa fa-check"></i><b>9.5</b> Interpreting hypothesis tests</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#trial"><i class="fa fa-check"></i><b>9.5.1</b> Two possible outcomes</a></li>
<li class="chapter" data-level="9.5.2" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#types-of-errors"><i class="fa fa-check"></i><b>9.5.2</b> Types of errors</a></li>
<li class="chapter" data-level="9.5.3" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#choosing-alpha"><i class="fa fa-check"></i><b>9.5.3</b> How do we choose alpha?</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#ht-case-study"><i class="fa fa-check"></i><b>9.6</b> Case study: Are action or romance movies rated higher?</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#imdb-data"><i class="fa fa-check"></i><b>9.6.1</b> IMDb ratings data</a></li>
<li class="chapter" data-level="9.6.2" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#sampling-scenario-1"><i class="fa fa-check"></i><b>9.6.2</b> Sampling scenario</a></li>
<li class="chapter" data-level="9.6.3" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#conducting-the-hypothesis-test"><i class="fa fa-check"></i><b>9.6.3</b> Conducting the hypothesis test</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#nhst-conclusion"><i class="fa fa-check"></i><b>9.7</b> Summary and Final Remarks</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#theory-hypo"><i class="fa fa-check"></i><b>9.7.1</b> Theory-based approach for two-sample hypothesis tests</a></li>
<li class="chapter" data-level="9.7.2" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#when-inference-is-not-needed"><i class="fa fa-check"></i><b>9.7.2</b> When inference is not needed</a></li>
<li class="chapter" data-level="9.7.3" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#problems-with-p-values"><i class="fa fa-check"></i><b>9.7.3</b> Problems with p-values</a></li>
<li class="chapter" data-level="9.7.4" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#additional-resources-7"><i class="fa fa-check"></i><b>9.7.4</b> Additional resources</a></li>
<li class="chapter" data-level="9.7.5" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#whats-to-come-8"><i class="fa fa-check"></i><b>9.7.5</b> What’s to come</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html"><i class="fa fa-check"></i><b>10</b> Inference for Regression</a>
<ul>
<li class="chapter" data-level="" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#inf-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="10.1" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#the-simple-linear-regression-model"><i class="fa fa-check"></i><b>10.1</b> The Simple Linear Regression Model</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#un-member-states-revisited"><i class="fa fa-check"></i><b>10.1.1</b> UN member states revisited</a></li>
<li class="chapter" data-level="10.1.2" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#simple-linear-model"><i class="fa fa-check"></i><b>10.1.2</b> The model</a></li>
<li class="chapter" data-level="10.1.3" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#sample-regression-inference"><i class="fa fa-check"></i><b>10.1.3</b> Using a sample for inference</a></li>
<li class="chapter" data-level="10.1.4" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#least-squares"><i class="fa fa-check"></i><b>10.1.4</b> The method of least squares</a></li>
<li class="chapter" data-level="10.1.5" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#properties-least-squares"><i class="fa fa-check"></i><b>10.1.5</b> Properties of the least squares estimators</a></li>
<li class="chapter" data-level="10.1.6" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#relating-basic-regression-to-other-methods"><i class="fa fa-check"></i><b>10.1.6</b> Relating basic regression to other methods</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#theory-simple-regression"><i class="fa fa-check"></i><b>10.2</b> Theory-based Inference for Simple Linear Regression</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#framework-simple-lm"><i class="fa fa-check"></i><b>10.2.1</b> Conceptual framework</a></li>
<li class="chapter" data-level="10.2.2" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#se-simple-lm"><i class="fa fa-check"></i><b>10.2.2</b> Standard errors for least-squares estimators</a></li>
<li class="chapter" data-level="10.2.3" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#conf-intervals-b0-b1"><i class="fa fa-check"></i><b>10.2.3</b> Confidence intervals for the least-squares estimators</a></li>
<li class="chapter" data-level="10.2.4" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#hypo-test-simple-lm"><i class="fa fa-check"></i><b>10.2.4</b> Hypothesis test for population slope</a></li>
<li class="chapter" data-level="10.2.5" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#regression-table"><i class="fa fa-check"></i><b>10.2.5</b> The regression table in R</a></li>
<li class="chapter" data-level="10.2.6" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#model-fit"><i class="fa fa-check"></i><b>10.2.6</b> Model fit and model assumptions</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#infer-regression"><i class="fa fa-check"></i><b>10.3</b> Simulation-based Inference for Simple Linear Regression</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#infer-ci-slr"><i class="fa fa-check"></i><b>10.3.1</b> Confidence intervals for the population slope using <code>infer</code></a></li>
<li class="chapter" data-level="10.3.2" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#infer-hypo-slr"><i class="fa fa-check"></i><b>10.3.2</b> Hypothesis test for population slope using <code>infer</code></a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#the-multiple-linear-regression-model"><i class="fa fa-check"></i><b>10.4</b> The Multiple Linear Regression Model</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#multiple-linear-model"><i class="fa fa-check"></i><b>10.4.1</b> The model</a></li>
<li class="chapter" data-level="10.4.2" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#example-coffee-quality-rating-scores"><i class="fa fa-check"></i><b>10.4.2</b> Example: coffee quality rating scores</a></li>
<li class="chapter" data-level="10.4.3" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#least-squares-multiple"><i class="fa fa-check"></i><b>10.4.3</b> Least squares for multiple regression</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#theory-multiple-regression"><i class="fa fa-check"></i><b>10.5</b> Theory-based Inference for Multiple Linear Regression</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#model-dependency"><i class="fa fa-check"></i><b>10.5.1</b> Model dependency of estimators</a></li>
<li class="chapter" data-level="10.5.2" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#confidence-intervals-1"><i class="fa fa-check"></i><b>10.5.2</b> Confidence intervals</a></li>
<li class="chapter" data-level="10.5.3" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#hypo-test-mult-lm"><i class="fa fa-check"></i><b>10.5.3</b> Hypothesis test for a single coefficient</a></li>
<li class="chapter" data-level="10.5.4" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#hypo-test-mult-lm-1"><i class="fa fa-check"></i><b>10.5.4</b> Hypothesis test for model comparison</a></li>
<li class="chapter" data-level="10.5.5" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#model-fit-mult"><i class="fa fa-check"></i><b>10.5.5</b> Model fit and diagnostics</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#simulation-based-inference-for-multiple-linear-regression"><i class="fa fa-check"></i><b>10.6</b> Simulation-based Inference for Multiple Linear Regression</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#confidence-intervals-for-the-partial-slopes-using-infer"><i class="fa fa-check"></i><b>10.6.1</b> Confidence intervals for the partial slopes using <code>infer</code></a></li>
<li class="chapter" data-level="10.6.2" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#hypothesis-testing-for-the-partial-slopes-using-infer"><i class="fa fa-check"></i><b>10.6.2</b> Hypothesis testing for the partial slopes using <code>infer</code></a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#inference-conclusion"><i class="fa fa-check"></i><b>10.7</b> Conclusion</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#summary-of-statistical-inference"><i class="fa fa-check"></i><b>10.7.1</b> Summary of statistical inference</a></li>
<li class="chapter" data-level="10.7.2" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#additional-resources-8"><i class="fa fa-check"></i><b>10.7.2</b> Additional resources</a></li>
<li class="chapter" data-level="10.7.3" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#whats-to-come-9"><i class="fa fa-check"></i><b>10.7.3</b> What’s to come</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Conclusion</b></span></li>
<li class="chapter" data-level="11" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html"><i class="fa fa-check"></i><b>11</b> Tell Your Story with Data</a>
<ul>
<li class="chapter" data-level="11.1" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#review"><i class="fa fa-check"></i><b>11.1</b> Review</a>
<ul>
<li class="chapter" data-level="" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#story-packages"><i class="fa fa-check"></i>Needed packages</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#seattle-house-prices"><i class="fa fa-check"></i><b>11.2</b> Case study: Seattle house prices</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#house-prices-EDA-I"><i class="fa fa-check"></i><b>11.2.1</b> Exploratory data analysis: Part I</a></li>
<li class="chapter" data-level="11.2.2" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#house-prices-EDA-II"><i class="fa fa-check"></i><b>11.2.2</b> Exploratory data analysis: Part II</a></li>
<li class="chapter" data-level="11.2.3" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#house-prices-regression"><i class="fa fa-check"></i><b>11.2.3</b> Regression modeling</a></li>
<li class="chapter" data-level="11.2.4" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#house-prices-making-predictions"><i class="fa fa-check"></i><b>11.2.4</b> Making predictions</a></li>
<li class="chapter" data-level="11.2.5" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#house-prices-inference-for-regression"><i class="fa fa-check"></i><b>11.2.5</b> Inference for multiple linear regression</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#data-journalism"><i class="fa fa-check"></i><b>11.3</b> Case study: Effective data storytelling</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#bechdel-test-for-hollywood-gender-representation"><i class="fa fa-check"></i><b>11.3.1</b> Bechdel test for Hollywood gender representation</a></li>
<li class="chapter" data-level="11.3.2" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#us-births-in-1999"><i class="fa fa-check"></i><b>11.3.2</b> US Births in 1999</a></li>
<li class="chapter" data-level="11.3.3" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#scripts-of-r-code"><i class="fa fa-check"></i><b>11.3.3</b> Scripts of R code</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#concluding-remarks"><i class="fa fa-check"></i>Concluding remarks</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="A-appendixA.html"><a href="A-appendixA.html"><i class="fa fa-check"></i><b>A</b> Statistical Background</a>
<ul>
<li class="chapter" data-level="A.1" data-path="A-appendixA.html"><a href="A-appendixA.html#appendix-stat-terms"><i class="fa fa-check"></i><b>A.1</b> Basic statistical terms</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="A-appendixA.html"><a href="A-appendixA.html#mean"><i class="fa fa-check"></i><b>A.1.1</b> Mean</a></li>
<li class="chapter" data-level="A.1.2" data-path="A-appendixA.html"><a href="A-appendixA.html#median"><i class="fa fa-check"></i><b>A.1.2</b> Median</a></li>
<li class="chapter" data-level="A.1.3" data-path="A-appendixA.html"><a href="A-appendixA.html#appendix-sd-variance"><i class="fa fa-check"></i><b>A.1.3</b> Standard deviation and variance</a></li>
<li class="chapter" data-level="A.1.4" data-path="A-appendixA.html"><a href="A-appendixA.html#five-number-summary"><i class="fa fa-check"></i><b>A.1.4</b> Five-number summary</a></li>
<li class="chapter" data-level="A.1.5" data-path="A-appendixA.html"><a href="A-appendixA.html#distribution"><i class="fa fa-check"></i><b>A.1.5</b> Distribution</a></li>
<li class="chapter" data-level="A.1.6" data-path="A-appendixA.html"><a href="A-appendixA.html#outliers"><i class="fa fa-check"></i><b>A.1.6</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="A-appendixA.html"><a href="A-appendixA.html#appendix-normal-curve"><i class="fa fa-check"></i><b>A.2</b> Normal distribution</a>
<ul>
<li class="chapter" data-level="A.2.1" data-path="A-appendixA.html"><a href="A-appendixA.html#additional-normal-calculations"><i class="fa fa-check"></i><b>A.2.1</b> Additional normal calculations</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="A-appendixA.html"><a href="A-appendixA.html#the-t-distribution-calculations"><i class="fa fa-check"></i><b>A.3</b> The t distribution calculations</a></li>
<li class="chapter" data-level="A.4" data-path="A-appendixA.html"><a href="A-appendixA.html#appendix-log10-transformations"><i class="fa fa-check"></i><b>A.4</b> log10 transformations</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="B-appendixB.html"><a href="B-appendixB.html"><i class="fa fa-check"></i><b>B</b> Inference Examples</a>
<ul>
<li class="chapter" data-level="" data-path="B-appendixB.html"><a href="B-appendixB.html#needed-packages-1"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="B.1" data-path="B-appendixB.html"><a href="B-appendixB.html#inference-mind-map"><i class="fa fa-check"></i><b>B.1</b> Inference mind map</a></li>
<li class="chapter" data-level="B.2" data-path="B-appendixB.html"><a href="B-appendixB.html#one-mean"><i class="fa fa-check"></i><b>B.2</b> One mean</a>
<ul>
<li class="chapter" data-level="B.2.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement"><i class="fa fa-check"></i><b>B.2.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.2.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses"><i class="fa fa-check"></i><b>B.2.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.2.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data"><i class="fa fa-check"></i><b>B.2.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.2.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods"><i class="fa fa-check"></i><b>B.2.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.2.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods"><i class="fa fa-check"></i><b>B.2.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.2.6" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results"><i class="fa fa-check"></i><b>B.2.6</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.3" data-path="B-appendixB.html"><a href="B-appendixB.html#one-proportion"><i class="fa fa-check"></i><b>B.3</b> One proportion</a>
<ul>
<li class="chapter" data-level="B.3.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-1"><i class="fa fa-check"></i><b>B.3.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.3.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-1"><i class="fa fa-check"></i><b>B.3.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.3.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-1"><i class="fa fa-check"></i><b>B.3.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.3.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-1"><i class="fa fa-check"></i><b>B.3.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.3.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-1"><i class="fa fa-check"></i><b>B.3.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.3.6" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-1"><i class="fa fa-check"></i><b>B.3.6</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.4" data-path="B-appendixB.html"><a href="B-appendixB.html#two-proportions"><i class="fa fa-check"></i><b>B.4</b> Two proportions</a>
<ul>
<li class="chapter" data-level="B.4.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-2"><i class="fa fa-check"></i><b>B.4.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.4.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-2"><i class="fa fa-check"></i><b>B.4.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.4.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-2"><i class="fa fa-check"></i><b>B.4.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.4.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-2"><i class="fa fa-check"></i><b>B.4.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.4.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-2"><i class="fa fa-check"></i><b>B.4.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.4.6" data-path="B-appendixB.html"><a href="B-appendixB.html#test-statistic-2"><i class="fa fa-check"></i><b>B.4.6</b> Test statistic</a></li>
<li class="chapter" data-level="B.4.7" data-path="B-appendixB.html"><a href="B-appendixB.html#state-conclusion-2"><i class="fa fa-check"></i><b>B.4.7</b> State conclusion</a></li>
<li class="chapter" data-level="B.4.8" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-2"><i class="fa fa-check"></i><b>B.4.8</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.5" data-path="B-appendixB.html"><a href="B-appendixB.html#two-means-independent-samples"><i class="fa fa-check"></i><b>B.5</b> Two means (independent samples)</a>
<ul>
<li class="chapter" data-level="B.5.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-3"><i class="fa fa-check"></i><b>B.5.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.5.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-3"><i class="fa fa-check"></i><b>B.5.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.5.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-3"><i class="fa fa-check"></i><b>B.5.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.5.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-3"><i class="fa fa-check"></i><b>B.5.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.5.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-3"><i class="fa fa-check"></i><b>B.5.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.5.6" data-path="B-appendixB.html"><a href="B-appendixB.html#test-statistic-3"><i class="fa fa-check"></i><b>B.5.6</b> Test statistic</a></li>
<li class="chapter" data-level="B.5.7" data-path="B-appendixB.html"><a href="B-appendixB.html#compute-p-value-1"><i class="fa fa-check"></i><b>B.5.7</b> Compute <span class="math inline">\(p\)</span>-value</a></li>
<li class="chapter" data-level="B.5.8" data-path="B-appendixB.html"><a href="B-appendixB.html#state-conclusion-3"><i class="fa fa-check"></i><b>B.5.8</b> State conclusion</a></li>
<li class="chapter" data-level="B.5.9" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-3"><i class="fa fa-check"></i><b>B.5.9</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.6" data-path="B-appendixB.html"><a href="B-appendixB.html#two-means-paired-samples"><i class="fa fa-check"></i><b>B.6</b> Two means (paired samples)</a>
<ul>
<li class="chapter" data-level="" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-4"><i class="fa fa-check"></i>Problem statement</a></li>
<li class="chapter" data-level="B.6.1" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-4"><i class="fa fa-check"></i><b>B.6.1</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.6.2" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-4"><i class="fa fa-check"></i><b>B.6.2</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.6.3" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-4"><i class="fa fa-check"></i><b>B.6.3</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.6.4" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-4"><i class="fa fa-check"></i><b>B.6.4</b> Traditional methods</a></li>
<li class="chapter" data-level="B.6.5" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-4"><i class="fa fa-check"></i><b>B.6.5</b> Comparing results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="C" data-path="C-appendixC.html"><a href="C-appendixC.html"><i class="fa fa-check"></i><b>C</b> Tips and Tricks</a>
<ul>
<li class="chapter" data-level="" data-path="C-appendixC.html"><a href="C-appendixC.html#needed-packages-2"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="C.1" data-path="C-appendixC.html"><a href="C-appendixC.html#data-wrangling"><i class="fa fa-check"></i><b>C.1</b> Data wrangling</a>
<ul>
<li class="chapter" data-level="C.1.1" data-path="C-appendixC.html"><a href="C-appendixC.html#appendix-missing-values"><i class="fa fa-check"></i><b>C.1.1</b> Dealing with missing values</a></li>
<li class="chapter" data-level="C.1.2" data-path="C-appendixC.html"><a href="C-appendixC.html#appendix-reordering-bars"><i class="fa fa-check"></i><b>C.1.2</b> Reordering bars in a barplot</a></li>
<li class="chapter" data-level="C.1.3" data-path="C-appendixC.html"><a href="C-appendixC.html#appendix-money-on-axis"><i class="fa fa-check"></i><b>C.1.3</b> Showing money on an axis</a></li>
<li class="chapter" data-level="C.1.4" data-path="C-appendixC.html"><a href="C-appendixC.html#appendix-changing-values"><i class="fa fa-check"></i><b>C.1.4</b> Changing values inside cells</a></li>
<li class="chapter" data-level="C.1.5" data-path="C-appendixC.html"><a href="C-appendixC.html#appendix-convert-numerical-categorical"><i class="fa fa-check"></i><b>C.1.5</b> Converting a numerical variable to a categorical one</a></li>
<li class="chapter" data-level="C.1.6" data-path="C-appendixC.html"><a href="C-appendixC.html#appendix-prop"><i class="fa fa-check"></i><b>C.1.6</b> Computing proportions</a></li>
<li class="chapter" data-level="C.1.7" data-path="C-appendixC.html"><a href="C-appendixC.html#appendix-commas"><i class="fa fa-check"></i><b>C.1.7</b> Dealing with %, commas, and $</a></li>
</ul></li>
<li class="chapter" data-level="C.2" data-path="C-appendixC.html"><a href="C-appendixC.html#interactive-graphics"><i class="fa fa-check"></i><b>C.2</b> Interactive graphics</a>
<ul>
<li class="chapter" data-level="C.2.1" data-path="C-appendixC.html"><a href="C-appendixC.html#interactive-linegraphs"><i class="fa fa-check"></i><b>C.2.1</b> Interactive linegraphs</a></li>
</ul></li>
<li class="chapter" data-level="C.3" data-path="C-appendixC.html"><a href="C-appendixC.html#the-theory-behind-the-bootstrap-method"><i class="fa fa-check"></i><b>C.3</b> The theory behind the bootstrap method</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Statistical Inference via Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<html>
<img src='https://moderndive.com/wide_format.png' alt="ModernDive">
</html>
<div id="appendixC" class="section level1 hasAnchor" number="14">
<h1><span class="header-section-number">C</span> Tips and Tricks<a href="C-appendixC.html#appendixC" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="needed-packages-2" class="section level3 unnumbered hasAnchor">
<h3>Needed packages<a href="C-appendixC.html#needed-packages-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s load all the packages needed for this chapter (this assumes you’ve already installed them). Recall from our discussion in Section <a href="4-tidy.html#tidyverse-package">4.4</a> that loading the <code>tidyverse</code> package by running <code>library(tidyverse)</code> loads the following commonly used data science packages all at once:</p>
<ul>
<li><code>ggplot2</code> for data visualization</li>
<li><code>dplyr</code> for data wrangling</li>
<li><code>tidyr</code> for converting data to “tidy” format</li>
<li><code>readr</code> for importing spreadsheet data into R</li>
<li>As well as the more advanced <code>purrr</code>, <code>tibble</code>, <code>stringr</code>, and <code>forcats</code> packages.</li>
</ul>
<p>If needed, read Section <a href="1-getting-started.html#packages">1.3</a> for information on how to install and load R packages.</p>
<div class="sourceCode" id="cb689"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb689-1"><a href="C-appendixC.html#cb689-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb689-2"><a href="C-appendixC.html#cb689-2" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb689-3"><a href="C-appendixC.html#cb689-3" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb689-4"><a href="C-appendixC.html#cb689-4" tabindex="-1"></a><span class="fu">library</span>(dygraphs)</span>
<span id="cb689-5"><a href="C-appendixC.html#cb689-5" tabindex="-1"></a><span class="fu">library</span>(nycflights23)</span></code></pre></div>
</div>
<div id="data-wrangling" class="section level2 hasAnchor" number="14.1">
<h2><span class="header-section-number">C.1</span> Data wrangling<a href="C-appendixC.html#data-wrangling" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this Section, we address some of the most common data wrangling questions we’ve encountered in student projects (shout out to <a href="https://www.scsparkscience.org/fellow/jennifer-smetzer/">Dr. Jenny Smetzer</a> for her work setting this up!):</p>
<ul>
<li><a href="C-appendixC.html#appendix-missing-values">C.1.1</a>: Dealing with missing values</li>
<li><a href="C-appendixC.html#appendix-reordering-bars">C.1.2</a>: Reordering bars in a barplot</li>
<li><a href="C-appendixC.html#appendix-money-on-axis">C.1.3</a>: Showing money on an axis</li>
<li><a href="C-appendixC.html#appendix-changing-values">C.1.4</a>: Changing values inside cells</li>
<li><a href="C-appendixC.html#appendix-convert-numerical-categorical">C.1.5</a>: Converting a numerical variable to a categorical one</li>
<li><a href="C-appendixC.html#appendix-prop">C.1.6</a>: Computing proportions</li>
<li><a href="C-appendixC.html#appendix-commas">C.1.7</a>: Dealing with %, commas, and $</li>
</ul>
<p><img src="images/data_ninja1.png" style="width:30.0%" /></p>
<p>Let’s load an example movies dataset, pare down the rows and columns a bit, and then show the first 10 rows using <code>slice()</code>.</p>
<div class="sourceCode" id="cb690"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb690-1"><a href="C-appendixC.html#cb690-1" tabindex="-1"></a>movies_ex <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://moderndive.com/data/movies.csv&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb690-2"><a href="C-appendixC.html#cb690-2" tabindex="-1"></a>  <span class="fu">filter</span>(type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;action&quot;</span>, <span class="st">&quot;comedy&quot;</span>, <span class="st">&quot;drama&quot;</span>, <span class="st">&quot;animated&quot;</span>, <span class="st">&quot;fantasy&quot;</span>, <span class="st">&quot;rom comedy&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb690-3"><a href="C-appendixC.html#cb690-3" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>over200)</span>
<span id="cb690-4"><a href="C-appendixC.html#cb690-4" tabindex="-1"></a></span>
<span id="cb690-5"><a href="C-appendixC.html#cb690-5" tabindex="-1"></a>movies_ex <span class="sc">%&gt;%</span></span>
<span id="cb690-6"><a href="C-appendixC.html#cb690-6" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code># A tibble: 10 × 5
   name               score rating type        millions
   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;          &lt;dbl&gt;
 1 2 Fast 2 Furious 48.9000 PG-13  action      NA      
 2 A Guy Thing      39.5    PG-13  rom comedy  15.545  
 3 A Man Apart      42.9000 R      action      26.2480 
 4 A Mighty Wind    79.9000 PG-13  comedy      17.781  
 5 Agent Cody Banks 57.9000 PG     action      47.8110 
 6 Alex &amp; Emma      35.1000 PG-13  rom comedy  14.219  
 7 American Wedding 50.7000 R      comedy     104.441  
 8 Anger Management 62.6000 PG-13  comedy     134.404  
 9 Anything Else    63.3000 R      rom comedy   3.21200
10 Bad Boys II      38.1000 R      action     138.397  </code></pre>
<div id="appendix-missing-values" class="section level3 hasAnchor" number="14.1.1">
<h3><span class="header-section-number">C.1.1</span> Dealing with missing values<a href="C-appendixC.html#appendix-missing-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You see the revenue in <code>million</code>s value for the movie “2 Fast 2 Furious” is <code>NA</code> (missing). So the following occurs when computing the median revenue:</p>
<div class="sourceCode" id="cb692"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb692-1"><a href="C-appendixC.html#cb692-1" tabindex="-1"></a>movies_ex <span class="sc">%&gt;%</span></span>
<span id="cb692-2"><a href="C-appendixC.html#cb692-2" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_profit =</span> <span class="fu">median</span>(millions))</span></code></pre></div>
<pre><code># A tibble: 1 × 1
  mean_profit
        &lt;dbl&gt;
1          NA</code></pre>
<p>You should always think about why a data value might be missing and what that missingness may mean. For example, imagine you are conducting a study on the effects of smoking on lung cancer and a lot of your patients’ data is missing because they died of lung cancer. If you just “sweep these patients under the rug” and ignore them, you are clearly biasing the results.</p>
<p>While there are statistical methods to deal with missing data they are beyond the reach of this class. The easiest thing to do is to remove all missing cases, but <strong>you should always at the very least report to the reader if you do so, as by removing the missing values you may be biasing your results.</strong></p>
<p>You can do this with a <code>na.rm = TRUE</code> argument like so:</p>
<div class="sourceCode" id="cb694"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb694-1"><a href="C-appendixC.html#cb694-1" tabindex="-1"></a>movies_ex <span class="sc">%&gt;%</span></span>
<span id="cb694-2"><a href="C-appendixC.html#cb694-2" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_profit =</span> <span class="fu">median</span>(millions, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code># A tibble: 1 × 1
  mean_profit
        &lt;dbl&gt;
1     43.4270</code></pre>
<p>If you decide you want to remove the row with the missing data, you can use the filter function like so:</p>
<div class="sourceCode" id="cb696"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb696-1"><a href="C-appendixC.html#cb696-1" tabindex="-1"></a>movies_no_missing <span class="ot">&lt;-</span> movies_ex <span class="sc">%&gt;%</span></span>
<span id="cb696-2"><a href="C-appendixC.html#cb696-2" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(millions))</span>
<span id="cb696-3"><a href="C-appendixC.html#cb696-3" tabindex="-1"></a></span>
<span id="cb696-4"><a href="C-appendixC.html#cb696-4" tabindex="-1"></a>movies_no_missing <span class="sc">%&gt;%</span></span>
<span id="cb696-5"><a href="C-appendixC.html#cb696-5" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code># A tibble: 10 × 5
   name               score rating type        millions
   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;          &lt;dbl&gt;
 1 A Guy Thing      39.5    PG-13  rom comedy  15.545  
 2 A Man Apart      42.9000 R      action      26.2480 
 3 A Mighty Wind    79.9000 PG-13  comedy      17.781  
 4 Agent Cody Banks 57.9000 PG     action      47.8110 
 5 Alex &amp; Emma      35.1000 PG-13  rom comedy  14.219  
 6 American Wedding 50.7000 R      comedy     104.441  
 7 Anger Management 62.6000 PG-13  comedy     134.404  
 8 Anything Else    63.3000 R      rom comedy   3.21200
 9 Bad Boys II      38.1000 R      action     138.397  
10 Bad Santa        75.8000 R      comedy      59.5230 </code></pre>
<p>We see “2 Fast 2 Furious” is now gone.</p>
</div>
<div id="appendix-reordering-bars" class="section level3 hasAnchor" number="14.1.2">
<h3><span class="header-section-number">C.1.2</span> Reordering bars in a barplot<a href="C-appendixC.html#appendix-reordering-bars" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s compute the total revenue for each movie type and plot a barplot.</p>
<div class="sourceCode" id="cb698"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb698-1"><a href="C-appendixC.html#cb698-1" tabindex="-1"></a>revenue_by_type <span class="ot">&lt;-</span> movies_ex <span class="sc">%&gt;%</span></span>
<span id="cb698-2"><a href="C-appendixC.html#cb698-2" tabindex="-1"></a>  <span class="fu">group_by</span>(type) <span class="sc">%&gt;%</span></span>
<span id="cb698-3"><a href="C-appendixC.html#cb698-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_revenue =</span> <span class="fu">sum</span>(millions))</span>
<span id="cb698-4"><a href="C-appendixC.html#cb698-4" tabindex="-1"></a>revenue_by_type</span></code></pre></div>
<pre><code># A tibble: 6 × 2
  type       total_revenue
  &lt;chr&gt;              &lt;dbl&gt;
1 action            NA    
2 animated         561.306
3 comedy          2286.81 
4 drama            840.038
5 fantasy          508.580
6 rom comedy       492.282</code></pre>
<div class="sourceCode" id="cb700"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb700-1"><a href="C-appendixC.html#cb700-1" tabindex="-1"></a><span class="fu">ggplot</span>(revenue_by_type, <span class="fu">aes</span>(<span class="at">x =</span> type, <span class="at">y =</span> total_revenue)) <span class="sc">+</span></span>
<span id="cb700-2"><a href="C-appendixC.html#cb700-2" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb700-3"><a href="C-appendixC.html#cb700-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Movie genre&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Total box office revenue (in millions of $)&quot;</span>)</span></code></pre></div>
<p><img src="ModernDive_files/figure-html/unnamed-chunk-716-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Say we want to reorder the categorical variable <code>type</code> so that the bars show in a different order. We can reorder the bars by manually defining the order of the <code>levels</code> in the <code>factor()</code> command:</p>
<div class="sourceCode" id="cb701"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb701-1"><a href="C-appendixC.html#cb701-1" tabindex="-1"></a>type_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;rom comedy&quot;</span>, <span class="st">&quot;action&quot;</span>, <span class="st">&quot;drama&quot;</span>, <span class="st">&quot;animated&quot;</span>, <span class="st">&quot;comedy&quot;</span>, <span class="st">&quot;fantasy&quot;</span>)</span>
<span id="cb701-2"><a href="C-appendixC.html#cb701-2" tabindex="-1"></a></span>
<span id="cb701-3"><a href="C-appendixC.html#cb701-3" tabindex="-1"></a>revenue_by_type <span class="ot">&lt;-</span> revenue_by_type <span class="sc">%&gt;%</span></span>
<span id="cb701-4"><a href="C-appendixC.html#cb701-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">type =</span> <span class="fu">factor</span>(type, <span class="at">levels =</span> type_levels))</span>
<span id="cb701-5"><a href="C-appendixC.html#cb701-5" tabindex="-1"></a></span>
<span id="cb701-6"><a href="C-appendixC.html#cb701-6" tabindex="-1"></a><span class="fu">ggplot</span>(revenue_by_type, <span class="fu">aes</span>(<span class="at">x =</span> type, <span class="at">y =</span> total_revenue)) <span class="sc">+</span></span>
<span id="cb701-7"><a href="C-appendixC.html#cb701-7" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb701-8"><a href="C-appendixC.html#cb701-8" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Movie genre&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Total boxoffice revenue (in millions of $)&quot;</span>)</span></code></pre></div>
<p><img src="ModernDive_files/figure-html/unnamed-chunk-717-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Or if you want to reorder <code>type</code> in ascending order of <code>total_revenue</code>, we use <code>reorder()</code>:</p>
<div class="sourceCode" id="cb702"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb702-1"><a href="C-appendixC.html#cb702-1" tabindex="-1"></a>revenue_by_type <span class="ot">&lt;-</span> revenue_by_type <span class="sc">%&gt;%</span></span>
<span id="cb702-2"><a href="C-appendixC.html#cb702-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">type =</span> <span class="fu">reorder</span>(type, total_revenue))</span>
<span id="cb702-3"><a href="C-appendixC.html#cb702-3" tabindex="-1"></a></span>
<span id="cb702-4"><a href="C-appendixC.html#cb702-4" tabindex="-1"></a><span class="fu">ggplot</span>(revenue_by_type, <span class="fu">aes</span>(<span class="at">x =</span> type, <span class="at">y =</span> total_revenue)) <span class="sc">+</span></span>
<span id="cb702-5"><a href="C-appendixC.html#cb702-5" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb702-6"><a href="C-appendixC.html#cb702-6" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb702-7"><a href="C-appendixC.html#cb702-7" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Movie genre&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Total boxoffice revenue (in millions of $)&quot;</span></span>
<span id="cb702-8"><a href="C-appendixC.html#cb702-8" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="ModernDive_files/figure-html/unnamed-chunk-718-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Or if you want to reorder <code>type</code> in descending order of <code>total_revenue</code>, just put
a <code>-</code> sign in front of <code>-total_revenue</code> in <code>reorder()</code>:</p>
<div class="sourceCode" id="cb703"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb703-1"><a href="C-appendixC.html#cb703-1" tabindex="-1"></a>revenue_by_type <span class="ot">&lt;-</span> revenue_by_type <span class="sc">%&gt;%</span></span>
<span id="cb703-2"><a href="C-appendixC.html#cb703-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">type =</span> <span class="fu">reorder</span>(type, <span class="sc">-</span>total_revenue))</span>
<span id="cb703-3"><a href="C-appendixC.html#cb703-3" tabindex="-1"></a></span>
<span id="cb703-4"><a href="C-appendixC.html#cb703-4" tabindex="-1"></a><span class="fu">ggplot</span>(revenue_by_type, <span class="fu">aes</span>(<span class="at">x =</span> type, <span class="at">y =</span> total_revenue)) <span class="sc">+</span></span>
<span id="cb703-5"><a href="C-appendixC.html#cb703-5" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb703-6"><a href="C-appendixC.html#cb703-6" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb703-7"><a href="C-appendixC.html#cb703-7" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Movie genre&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Total boxoffice revenue (in millions of $)&quot;</span></span>
<span id="cb703-8"><a href="C-appendixC.html#cb703-8" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="ModernDive_files/figure-html/unnamed-chunk-719-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>For more advanced categorical variable (i.e. factor) manipulations, check out
the <a href="https://forcats.tidyverse.org/" target="_blank"><code>forcats</code> package</a>. Note: <code>forcats</code> is an anagram of <code>factors</code>.</p>
<p><img src="https://github.com/tidyverse/forcats/blob/main/man/figures/logo.png?raw=true" style="width:20.0%" /></p>
</div>
<div id="appendix-money-on-axis" class="section level3 hasAnchor" number="14.1.3">
<h3><span class="header-section-number">C.1.3</span> Showing money on an axis<a href="C-appendixC.html#appendix-money-on-axis" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb704"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb704-1"><a href="C-appendixC.html#cb704-1" tabindex="-1"></a>movies_ex <span class="ot">&lt;-</span> movies_ex <span class="sc">%&gt;%</span></span>
<span id="cb704-2"><a href="C-appendixC.html#cb704-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">revenue =</span> millions <span class="sc">*</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">6</span>)</span>
<span id="cb704-3"><a href="C-appendixC.html#cb704-3" tabindex="-1"></a></span>
<span id="cb704-4"><a href="C-appendixC.html#cb704-4" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> movies_ex, <span class="fu">aes</span>(<span class="at">x =</span> rating, <span class="at">y =</span> revenue)) <span class="sc">+</span></span>
<span id="cb704-5"><a href="C-appendixC.html#cb704-5" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb704-6"><a href="C-appendixC.html#cb704-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;rating&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Revenue in $&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Profits for different movie ratings&quot;</span>)</span></code></pre></div>
<p><img src="ModernDive_files/figure-html/unnamed-chunk-720-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Google “ggplot2 axis scale dollars” and click on the <a href="http://www.sthda.com/english/wiki/ggplot2-axis-scales-and-transformations">first link</a> and search for the word “dollars”. You’ll find:</p>
<div class="sourceCode" id="cb705"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb705-1"><a href="C-appendixC.html#cb705-1" tabindex="-1"></a><span class="co"># Don&#39;t forget to load the scales package first!</span></span>
<span id="cb705-2"><a href="C-appendixC.html#cb705-2" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb705-3"><a href="C-appendixC.html#cb705-3" tabindex="-1"></a></span>
<span id="cb705-4"><a href="C-appendixC.html#cb705-4" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> movies_ex, <span class="fu">aes</span>(<span class="at">x =</span> rating, <span class="at">y =</span> revenue)) <span class="sc">+</span></span>
<span id="cb705-5"><a href="C-appendixC.html#cb705-5" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb705-6"><a href="C-appendixC.html#cb705-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;rating&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Revenue in $&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Profits for different movie ratings&quot;</span>) <span class="sc">+</span></span>
<span id="cb705-7"><a href="C-appendixC.html#cb705-7" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> dollar)</span></code></pre></div>
<p><img src="ModernDive_files/figure-html/unnamed-chunk-721-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
</div>
<div id="appendix-changing-values" class="section level3 hasAnchor" number="14.1.4">
<h3><span class="header-section-number">C.1.4</span> Changing values inside cells<a href="C-appendixC.html#appendix-changing-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>rename()</code> function in the <code>dplyr</code> package renames column/variable names. To “rename” values inside cells of a particular column, you need to <code>mutate()</code> the column using one of the three functions below. There might be other ones too, but these are the three we’ve seen the most. In these examples, we’ll change values in the variable <code>type</code>.</p>
<ol style="list-style-type: decimal">
<li><code>if_else()</code></li>
<li><code>recode()</code></li>
<li><code>case_when()</code></li>
</ol>
<div id="if_else" class="section level4 unnumbered hasAnchor">
<h4><code>if_else()</code><a href="C-appendixC.html#if_else" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Switch all instances of <code>rom comedy</code> with <code>romantic comedy</code> using <code>if_else()</code> from the <code>dplyr</code> package. If a particular row has <code>type == "rom comedy"</code>, then return <code>"romantic comedy"</code>, else return whatever was originally in <code>type</code>. Save everything in a new variable <code>type_new</code>:</p>
<div class="sourceCode" id="cb706"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb706-1"><a href="C-appendixC.html#cb706-1" tabindex="-1"></a>movies_ex <span class="sc">%&gt;%</span></span>
<span id="cb706-2"><a href="C-appendixC.html#cb706-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">type_new =</span> <span class="fu">if_else</span>(type <span class="sc">==</span> <span class="st">&quot;rom comedy&quot;</span>, <span class="st">&quot;romantic comedy&quot;</span>, type)) <span class="sc">%&gt;%</span></span>
<span id="cb706-3"><a href="C-appendixC.html#cb706-3" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code># A tibble: 10 × 7
   name               score rating type        millions    revenue type_new     
   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;          &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;        
 1 2 Fast 2 Furious 48.9000 PG-13  action      NA              NA  action       
 2 A Guy Thing      39.5    PG-13  rom comedy  15.545    15545000  romantic com…
 3 A Man Apart      42.9000 R      action      26.2480   26247999  action       
 4 A Mighty Wind    79.9000 PG-13  comedy      17.781    17781000  comedy       
 5 Agent Cody Banks 57.9000 PG     action      47.8110   47811001  action       
 6 Alex &amp; Emma      35.1000 PG-13  rom comedy  14.219    14219000  romantic com…
 7 American Wedding 50.7000 R      comedy     104.441   104441000  comedy       
 8 Anger Management 62.6000 PG-13  comedy     134.404   134404010  comedy       
 9 Anything Else    63.3000 R      rom comedy   3.21200   3212000. romantic com…
10 Bad Boys II      38.1000 R      action     138.397   138397000  action       </code></pre>
<p>Do the same here, but return <code>"not romantic comedy"</code> if <code>type</code> is not <code>"rom comedy"</code> and this time overwrite the original <code>type</code> variable:</p>
<div class="sourceCode" id="cb708"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb708-1"><a href="C-appendixC.html#cb708-1" tabindex="-1"></a>movies_ex <span class="sc">%&gt;%</span></span>
<span id="cb708-2"><a href="C-appendixC.html#cb708-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">type =</span> <span class="fu">if_else</span>(type <span class="sc">==</span> <span class="st">&quot;rom comedy&quot;</span>, <span class="st">&quot;romantic comedy&quot;</span>, <span class="st">&quot;not romantic comedy&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb708-3"><a href="C-appendixC.html#cb708-3" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code># A tibble: 10 × 6
   name               score rating type                 millions    revenue
   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;                   &lt;dbl&gt;      &lt;dbl&gt;
 1 2 Fast 2 Furious 48.9000 PG-13  not romantic comedy  NA              NA 
 2 A Guy Thing      39.5    PG-13  romantic comedy      15.545    15545000 
 3 A Man Apart      42.9000 R      not romantic comedy  26.2480   26247999 
 4 A Mighty Wind    79.9000 PG-13  not romantic comedy  17.781    17781000 
 5 Agent Cody Banks 57.9000 PG     not romantic comedy  47.8110   47811001 
 6 Alex &amp; Emma      35.1000 PG-13  romantic comedy      14.219    14219000 
 7 American Wedding 50.7000 R      not romantic comedy 104.441   104441000 
 8 Anger Management 62.6000 PG-13  not romantic comedy 134.404   134404010 
 9 Anything Else    63.3000 R      romantic comedy       3.21200   3212000.
10 Bad Boys II      38.1000 R      not romantic comedy 138.397   138397000 </code></pre>
</div>
<div id="recode" class="section level4 unnumbered hasAnchor">
<h4><code>recode()</code><a href="C-appendixC.html#recode" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>if_else()</code> is rather limited however. What if we want to “rename” all <code>type</code> so that they start with uppercase? Use <code>recode()</code>:</p>
<div class="sourceCode" id="cb710"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb710-1"><a href="C-appendixC.html#cb710-1" tabindex="-1"></a>movies_ex <span class="sc">%&gt;%</span></span>
<span id="cb710-2"><a href="C-appendixC.html#cb710-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">type_new =</span> <span class="fu">recode</span>(type,</span>
<span id="cb710-3"><a href="C-appendixC.html#cb710-3" tabindex="-1"></a>    <span class="st">&quot;action&quot;</span> <span class="ot">=</span> <span class="st">&quot;Action&quot;</span>,</span>
<span id="cb710-4"><a href="C-appendixC.html#cb710-4" tabindex="-1"></a>    <span class="st">&quot;animated&quot;</span> <span class="ot">=</span> <span class="st">&quot;Animated&quot;</span>,</span>
<span id="cb710-5"><a href="C-appendixC.html#cb710-5" tabindex="-1"></a>    <span class="st">&quot;comedy&quot;</span> <span class="ot">=</span> <span class="st">&quot;Comedy&quot;</span>,</span>
<span id="cb710-6"><a href="C-appendixC.html#cb710-6" tabindex="-1"></a>    <span class="st">&quot;drama&quot;</span> <span class="ot">=</span> <span class="st">&quot;Drama&quot;</span>,</span>
<span id="cb710-7"><a href="C-appendixC.html#cb710-7" tabindex="-1"></a>    <span class="st">&quot;fantasy&quot;</span> <span class="ot">=</span> <span class="st">&quot;Fantasy&quot;</span>,</span>
<span id="cb710-8"><a href="C-appendixC.html#cb710-8" tabindex="-1"></a>    <span class="st">&quot;rom comedy&quot;</span> <span class="ot">=</span> <span class="st">&quot;Romantic Comedy&quot;</span></span>
<span id="cb710-9"><a href="C-appendixC.html#cb710-9" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb710-10"><a href="C-appendixC.html#cb710-10" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code># A tibble: 10 × 7
   name               score rating type        millions    revenue type_new     
   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;          &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;        
 1 2 Fast 2 Furious 48.9000 PG-13  action      NA              NA  Action       
 2 A Guy Thing      39.5    PG-13  rom comedy  15.545    15545000  Romantic Com…
 3 A Man Apart      42.9000 R      action      26.2480   26247999  Action       
 4 A Mighty Wind    79.9000 PG-13  comedy      17.781    17781000  Comedy       
 5 Agent Cody Banks 57.9000 PG     action      47.8110   47811001  Action       
 6 Alex &amp; Emma      35.1000 PG-13  rom comedy  14.219    14219000  Romantic Com…
 7 American Wedding 50.7000 R      comedy     104.441   104441000  Comedy       
 8 Anger Management 62.6000 PG-13  comedy     134.404   134404010  Comedy       
 9 Anything Else    63.3000 R      rom comedy   3.21200   3212000. Romantic Com…
10 Bad Boys II      38.1000 R      action     138.397   138397000  Action       </code></pre>
</div>
<div id="case_when" class="section level4 unnumbered hasAnchor">
<h4><code>case_when()</code><a href="C-appendixC.html#case_when" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>case_when()</code> is a little trickier, but allows you to evaluate boolean operations using <code>==</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>&amp;</code>, <code>|</code>, etc:</p>
<div class="sourceCode" id="cb712"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb712-1"><a href="C-appendixC.html#cb712-1" tabindex="-1"></a>movies_ex <span class="sc">%&gt;%</span></span>
<span id="cb712-2"><a href="C-appendixC.html#cb712-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb712-3"><a href="C-appendixC.html#cb712-3" tabindex="-1"></a>    <span class="at">type_new =</span></span>
<span id="cb712-4"><a href="C-appendixC.html#cb712-4" tabindex="-1"></a>      <span class="fu">case_when</span>(</span>
<span id="cb712-5"><a href="C-appendixC.html#cb712-5" tabindex="-1"></a>        type <span class="sc">==</span> <span class="st">&quot;action&quot;</span> <span class="sc">&amp;</span> millions <span class="sc">&gt;</span> <span class="dv">40</span> <span class="sc">~</span> <span class="st">&quot;Big budget action&quot;</span>,</span>
<span id="cb712-6"><a href="C-appendixC.html#cb712-6" tabindex="-1"></a>        type <span class="sc">==</span> <span class="st">&quot;rom comedy&quot;</span> <span class="sc">&amp;</span> millions <span class="sc">&lt;</span> <span class="dv">40</span> <span class="sc">~</span> <span class="st">&quot;Small budget romcom&quot;</span>,</span>
<span id="cb712-7"><a href="C-appendixC.html#cb712-7" tabindex="-1"></a>        <span class="co"># Need this for everything else that aren&#39;t the two cases above:</span></span>
<span id="cb712-8"><a href="C-appendixC.html#cb712-8" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;Rest&quot;</span></span>
<span id="cb712-9"><a href="C-appendixC.html#cb712-9" tabindex="-1"></a>      )</span>
<span id="cb712-10"><a href="C-appendixC.html#cb712-10" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code># A tibble: 108 × 7
   name               score rating type        millions    revenue type_new     
   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;          &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;        
 1 2 Fast 2 Furious 48.9000 PG-13  action      NA              NA  Rest         
 2 A Guy Thing      39.5    PG-13  rom comedy  15.545    15545000  Small budget…
 3 A Man Apart      42.9000 R      action      26.2480   26247999  Rest         
 4 A Mighty Wind    79.9000 PG-13  comedy      17.781    17781000  Rest         
 5 Agent Cody Banks 57.9000 PG     action      47.8110   47811001  Big budget a…
 6 Alex &amp; Emma      35.1000 PG-13  rom comedy  14.219    14219000  Small budget…
 7 American Wedding 50.7000 R      comedy     104.441   104441000  Rest         
 8 Anger Management 62.6000 PG-13  comedy     134.404   134404010  Rest         
 9 Anything Else    63.3000 R      rom comedy   3.21200   3212000. Small budget…
10 Bad Boys II      38.1000 R      action     138.397   138397000  Big budget a…
# ℹ 98 more rows</code></pre>
</div>
</div>
<div id="appendix-convert-numerical-categorical" class="section level3 hasAnchor" number="14.1.5">
<h3><span class="header-section-number">C.1.5</span> Converting a numerical variable to a categorical one<a href="C-appendixC.html#appendix-convert-numerical-categorical" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes we want to turn a numerical, continuous variable into a categorical variable. For instance, what if we wanted to have a variable that tells us if a movie made one hundred million dollars or more. That is to say, we can create a binary variable, which is the same thing as a categorical variable with 2 levels. We can again use the <code>mutate()</code> function:</p>
<div class="sourceCode" id="cb714"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb714-1"><a href="C-appendixC.html#cb714-1" tabindex="-1"></a>movies_ex <span class="sc">%&gt;%</span></span>
<span id="cb714-2"><a href="C-appendixC.html#cb714-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">big_budget =</span> millions <span class="sc">&gt;</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb714-3"><a href="C-appendixC.html#cb714-3" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code># A tibble: 10 × 7
   name               score rating type        millions    revenue big_budget
   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;          &lt;dbl&gt;      &lt;dbl&gt; &lt;lgl&gt;     
 1 2 Fast 2 Furious 48.9000 PG-13  action      NA              NA  NA        
 2 A Guy Thing      39.5    PG-13  rom comedy  15.545    15545000  FALSE     
 3 A Man Apart      42.9000 R      action      26.2480   26247999  FALSE     
 4 A Mighty Wind    79.9000 PG-13  comedy      17.781    17781000  FALSE     
 5 Agent Cody Banks 57.9000 PG     action      47.8110   47811001  FALSE     
 6 Alex &amp; Emma      35.1000 PG-13  rom comedy  14.219    14219000  FALSE     
 7 American Wedding 50.7000 R      comedy     104.441   104441000  TRUE      
 8 Anger Management 62.6000 PG-13  comedy     134.404   134404010  TRUE      
 9 Anything Else    63.3000 R      rom comedy   3.21200   3212000. FALSE     
10 Bad Boys II      38.1000 R      action     138.397   138397000  TRUE      </code></pre>
<p>What if you want to convert a numerical variable into a categorical variable with more than 2 levels? One way is to use the <code>cut()</code> command. For instance, below, we <code>cut()</code> the <code>score</code> variable, to recode it into 4 categories:</p>
<ol style="list-style-type: decimal">
<li>0 - 40 = bad</li>
<li>40.1 - 60 = so-so</li>
<li>60.1 - 80 = good</li>
<li>80.1+ = great</li>
</ol>
<p>We set the breaking points for cutting the numerical variable with the <code>c(0, 40, 60, 80, 100)</code> part, and set the labels for each of these bins with the <code>labels = c("bad", "so-so", "good", "great")</code> part. All this action happens inside the <code>mutate()</code> command, so the new categorical variable <code>score_categ</code> is added to the data frame.</p>
<div class="sourceCode" id="cb716"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb716-1"><a href="C-appendixC.html#cb716-1" tabindex="-1"></a>movies_ex <span class="sc">%&gt;%</span></span>
<span id="cb716-2"><a href="C-appendixC.html#cb716-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">score_categ =</span> <span class="fu">cut</span>(score,</span>
<span id="cb716-3"><a href="C-appendixC.html#cb716-3" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">40</span>, <span class="dv">60</span>, <span class="dv">80</span>, <span class="dv">100</span>),</span>
<span id="cb716-4"><a href="C-appendixC.html#cb716-4" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;bad&quot;</span>, <span class="st">&quot;so-so&quot;</span>, <span class="st">&quot;good&quot;</span>, <span class="st">&quot;great&quot;</span>)</span>
<span id="cb716-5"><a href="C-appendixC.html#cb716-5" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb716-6"><a href="C-appendixC.html#cb716-6" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code># A tibble: 10 × 7
   name               score rating type        millions    revenue score_categ
   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;          &lt;dbl&gt;      &lt;dbl&gt; &lt;fct&gt;      
 1 2 Fast 2 Furious 48.9000 PG-13  action      NA              NA  so-so      
 2 A Guy Thing      39.5    PG-13  rom comedy  15.545    15545000  bad        
 3 A Man Apart      42.9000 R      action      26.2480   26247999  so-so      
 4 A Mighty Wind    79.9000 PG-13  comedy      17.781    17781000  good       
 5 Agent Cody Banks 57.9000 PG     action      47.8110   47811001  so-so      
 6 Alex &amp; Emma      35.1000 PG-13  rom comedy  14.219    14219000  bad        
 7 American Wedding 50.7000 R      comedy     104.441   104441000  so-so      
 8 Anger Management 62.6000 PG-13  comedy     134.404   134404010  good       
 9 Anything Else    63.3000 R      rom comedy   3.21200   3212000. good       
10 Bad Boys II      38.1000 R      action     138.397   138397000  bad        </code></pre>
<p>Other options with the <code>cut</code> function:</p>
<ul>
<li>By default, if the value is exactly the upper bound of an interval, it’s
included in the lessor category (e.g. 60.0 is ‘so-so’ not ‘good’), to
flip this, include the argument <code>right = FALSE</code>.</li>
<li>You could also have R equally divide the variable into a balanced
number of groups. For example, specifying <code>breaks = 3</code> would create 3 groups with
approximately the same number of values in each group.</li>
</ul>
</div>
<div id="appendix-prop" class="section level3 hasAnchor" number="14.1.6">
<h3><span class="header-section-number">C.1.6</span> Computing proportions<a href="C-appendixC.html#appendix-prop" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>By using a <code>group_by()</code> followed not by a <code>summarize()</code> as is often the case, but rather a <code>mutate()</code>. So say we compute the total revenue millions for each movie rating and type:</p>
<div class="sourceCode" id="cb718"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb718-1"><a href="C-appendixC.html#cb718-1" tabindex="-1"></a>rating_by_type_millions <span class="ot">&lt;-</span> movies_ex <span class="sc">%&gt;%</span></span>
<span id="cb718-2"><a href="C-appendixC.html#cb718-2" tabindex="-1"></a>  <span class="fu">group_by</span>(rating, type) <span class="sc">%&gt;%</span></span>
<span id="cb718-3"><a href="C-appendixC.html#cb718-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">millions =</span> <span class="fu">sum</span>(millions)) <span class="sc">%&gt;%</span></span>
<span id="cb718-4"><a href="C-appendixC.html#cb718-4" tabindex="-1"></a>  <span class="fu">arrange</span>(rating, type)</span>
<span id="cb718-5"><a href="C-appendixC.html#cb718-5" tabindex="-1"></a></span>
<span id="cb718-6"><a href="C-appendixC.html#cb718-6" tabindex="-1"></a>rating_by_type_millions</span></code></pre></div>
<pre><code># A tibble: 15 × 3
# Groups:   rating [4]
   rating type        millions
   &lt;chr&gt;  &lt;chr&gt;          &lt;dbl&gt;
 1 G      animated    495.594 
 2 PG     action       47.8110
 3 PG     animated     65.712 
 4 PG     comedy      829.616 
 5 PG     drama       160.873 
 6 PG     fantasy     147.461 
 7 PG-13  action       NA     
 8 PG-13  comedy     1208.31  
 9 PG-13  drama       306.26  
10 PG-13  fantasy     361.119 
11 PG-13  rom comedy  406.251 
12 R      action     1044.82  
13 R      comedy      248.876 
14 R      drama       372.905 
15 R      rom comedy   86.0310</code></pre>
<p>Say within each movie rating (G, PG, PG-13, R), we want to know the proportion of <code>total_millions</code> that made by each movie type (animated, action, comedy, etc). We can:</p>
<div class="sourceCode" id="cb720"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb720-1"><a href="C-appendixC.html#cb720-1" tabindex="-1"></a>rating_by_type_millions <span class="sc">%&gt;%</span></span>
<span id="cb720-2"><a href="C-appendixC.html#cb720-2" tabindex="-1"></a>  <span class="fu">group_by</span>(rating) <span class="sc">%&gt;%</span></span>
<span id="cb720-3"><a href="C-appendixC.html#cb720-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb720-4"><a href="C-appendixC.html#cb720-4" tabindex="-1"></a>    <span class="co"># Compute a new column of the sum of millions split by rating:</span></span>
<span id="cb720-5"><a href="C-appendixC.html#cb720-5" tabindex="-1"></a>    <span class="at">total_millions =</span> <span class="fu">sum</span>(millions),</span>
<span id="cb720-6"><a href="C-appendixC.html#cb720-6" tabindex="-1"></a>    <span class="co"># Compute the proportion within each rating:</span></span>
<span id="cb720-7"><a href="C-appendixC.html#cb720-7" tabindex="-1"></a>    <span class="at">prop =</span> millions <span class="sc">/</span> total_millions</span>
<span id="cb720-8"><a href="C-appendixC.html#cb720-8" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code># A tibble: 15 × 5
# Groups:   rating [4]
   rating type        millions total_millions       prop
   &lt;chr&gt;  &lt;chr&gt;          &lt;dbl&gt;          &lt;dbl&gt;      &lt;dbl&gt;
 1 G      animated    495.594         495.594  1        
 2 PG     action       47.8110       1251.47   0.0382038
 3 PG     animated     65.712        1251.47   0.0525077
 4 PG     comedy      829.616        1251.47   0.662912 
 5 PG     drama       160.873        1251.47   0.128547 
 6 PG     fantasy     147.461        1251.47   0.117830 
 7 PG-13  action       NA              NA     NA        
 8 PG-13  comedy     1208.31           NA     NA        
 9 PG-13  drama       306.26           NA     NA        
10 PG-13  fantasy     361.119          NA     NA        
11 PG-13  rom comedy  406.251          NA     NA        
12 R      action     1044.82         1752.63   0.596143 
13 R      comedy      248.876        1752.63   0.142001 
14 R      drama       372.905        1752.63   0.212769 
15 R      rom comedy   86.0310       1752.63   0.0490868</code></pre>
<p>So for example, the 4 proportions corresponding to R rated movies are 0.596 + 0.142 + 0.213 + 0.0491 = 1.</p>
</div>
<div id="appendix-commas" class="section level3 hasAnchor" number="14.1.7">
<h3><span class="header-section-number">C.1.7</span> Dealing with %, commas, and $<a href="C-appendixC.html#appendix-commas" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Say you have numerical data that are recorded as percentages, have commas, or are in dollar form and hence are character strings. How do you convert these to numerical values? Using the <code>parse_number()</code> function from the <code>readr</code> package inside a <code>mutate()</code>! Shout out to <a href="https://stackoverflow.com/a/52965808/3674500" target="_blank">Stack Overflow</a>.</p>
<div class="sourceCode" id="cb722"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb722-1"><a href="C-appendixC.html#cb722-1" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb722-2"><a href="C-appendixC.html#cb722-2" tabindex="-1"></a><span class="fu">parse_number</span>(<span class="st">&quot;10.5%&quot;</span>)</span></code></pre></div>
<pre><code>[1] 10.5</code></pre>
<div class="sourceCode" id="cb724"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb724-1"><a href="C-appendixC.html#cb724-1" tabindex="-1"></a><span class="fu">parse_number</span>(<span class="st">&quot;145,897&quot;</span>)</span></code></pre></div>
<pre><code>[1] 145897</code></pre>
<div class="sourceCode" id="cb726"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb726-1"><a href="C-appendixC.html#cb726-1" tabindex="-1"></a><span class="fu">parse_number</span>(<span class="st">&quot;$1,234.5&quot;</span>)</span></code></pre></div>
<pre><code>[1] 1234</code></pre>
<p>What about the other way around? Use the <code>scales</code> package!</p>
<div class="sourceCode" id="cb728"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb728-1"><a href="C-appendixC.html#cb728-1" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb728-2"><a href="C-appendixC.html#cb728-2" tabindex="-1"></a><span class="fu">percent</span>(<span class="fl">0.105</span>)</span></code></pre></div>
<pre><code>[1] &quot;10%&quot;</code></pre>
<div class="sourceCode" id="cb730"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb730-1"><a href="C-appendixC.html#cb730-1" tabindex="-1"></a><span class="fu">comma</span>(<span class="dv">145897</span>)</span></code></pre></div>
<pre><code>[1] &quot;145,897&quot;</code></pre>
<div class="sourceCode" id="cb732"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb732-1"><a href="C-appendixC.html#cb732-1" tabindex="-1"></a><span class="fu">dollar</span>(<span class="fl">1234.5</span>)</span></code></pre></div>
<pre><code>[1] &quot;$1,234.50&quot;</code></pre>
<hr />
<p><strong>Congratulations. You are now an R Ninja!</strong></p>
<p><img src="images/Rninja.png" style="width:40.0%" /></p>
<hr />
</div>
</div>
<div id="interactive-graphics" class="section level2 hasAnchor" number="14.2">
<h2><span class="header-section-number">C.2</span> Interactive graphics<a href="C-appendixC.html#interactive-graphics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="interactive-linegraphs" class="section level3 hasAnchor" number="14.2.1">
<h3><span class="header-section-number">C.2.1</span> Interactive linegraphs<a href="C-appendixC.html#interactive-linegraphs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Another useful tool for viewing linegraphs such as this is the <code>dygraph</code> function in the <code>dygraphs</code> package in combination with the <code>dyRangeSelector</code> function. This allows us to zoom in on a selected range and get an interactive plot for us to work with:</p>
<div class="sourceCode" id="cb734"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb734-1"><a href="C-appendixC.html#cb734-1" tabindex="-1"></a><span class="fu">library</span>(dygraphs)</span>
<span id="cb734-2"><a href="C-appendixC.html#cb734-2" tabindex="-1"></a><span class="fu">library</span>(nycflights23)</span>
<span id="cb734-3"><a href="C-appendixC.html#cb734-3" tabindex="-1"></a>flights_day <span class="ot">&lt;-</span> <span class="fu">mutate</span>(flights, <span class="at">date =</span> <span class="fu">as.Date</span>(time_hour))</span>
<span id="cb734-4"><a href="C-appendixC.html#cb734-4" tabindex="-1"></a>flights_summarized <span class="ot">&lt;-</span> flights_day <span class="sc">%&gt;%</span></span>
<span id="cb734-5"><a href="C-appendixC.html#cb734-5" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span></span>
<span id="cb734-6"><a href="C-appendixC.html#cb734-6" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">median_arr_delay =</span> <span class="fu">median</span>(arr_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb734-7"><a href="C-appendixC.html#cb734-7" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb734-8"><a href="C-appendixC.html#cb734-8" tabindex="-1"></a><span class="fu">rownames</span>(flights_summarized) <span class="ot">&lt;-</span> flights_summarized<span class="sc">$</span>date</span>
<span id="cb734-9"><a href="C-appendixC.html#cb734-9" tabindex="-1"></a>flights_summarized <span class="ot">&lt;-</span> <span class="fu">select</span>(flights_summarized, <span class="sc">-</span>date)</span>
<span id="cb734-10"><a href="C-appendixC.html#cb734-10" tabindex="-1"></a><span class="fu">dyRangeSelector</span>(<span class="fu">dygraph</span>(flights_summarized))</span></code></pre></div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-e4806c1bb1490fee566b" style="width:100%;height:432px;"></div>
<script type="application/json" data-for="htmlwidget-e4806c1bb1490fee566b">{"x":{"attrs":{"labels":["day","median_arr_delay"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}},"showRangeSelector":true,"rangeSelectorHeight":40,"rangeSelectorPlotFillColor":" #A7B1C4","rangeSelectorPlotStrokeColor":"#808FAB","interactionModel":"Dygraph.Interaction.defaultModel"},"scale":"daily","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-01-01T07:00:00.000Z","2023-01-02T07:00:00.000Z","2023-01-03T07:00:00.000Z","2023-01-04T07:00:00.000Z","2023-01-05T07:00:00.000Z","2023-01-06T07:00:00.000Z","2023-01-07T07:00:00.000Z","2023-01-08T07:00:00.000Z","2023-01-09T07:00:00.000Z","2023-01-10T07:00:00.000Z","2023-01-11T07:00:00.000Z","2023-01-12T07:00:00.000Z","2023-01-13T07:00:00.000Z","2023-01-14T07:00:00.000Z","2023-01-15T07:00:00.000Z","2023-01-16T07:00:00.000Z","2023-01-17T07:00:00.000Z","2023-01-18T07:00:00.000Z","2023-01-19T07:00:00.000Z","2023-01-20T07:00:00.000Z","2023-01-21T07:00:00.000Z","2023-01-22T07:00:00.000Z","2023-01-23T07:00:00.000Z","2023-01-24T07:00:00.000Z","2023-01-25T07:00:00.000Z","2023-01-26T07:00:00.000Z","2023-01-27T07:00:00.000Z","2023-01-28T07:00:00.000Z","2023-01-29T07:00:00.000Z","2023-01-30T07:00:00.000Z","2023-01-31T07:00:00.000Z","2023-02-01T07:00:00.000Z","2023-02-02T07:00:00.000Z","2023-02-03T07:00:00.000Z","2023-02-04T07:00:00.000Z","2023-02-05T07:00:00.000Z","2023-02-06T07:00:00.000Z","2023-02-07T07:00:00.000Z","2023-02-08T07:00:00.000Z","2023-02-09T07:00:00.000Z","2023-02-10T07:00:00.000Z","2023-02-11T07:00:00.000Z","2023-02-12T07:00:00.000Z","2023-02-13T07:00:00.000Z","2023-02-14T07:00:00.000Z","2023-02-15T07:00:00.000Z","2023-02-16T07:00:00.000Z","2023-02-17T07:00:00.000Z","2023-02-18T07:00:00.000Z","2023-02-19T07:00:00.000Z","2023-02-20T07:00:00.000Z","2023-02-21T07:00:00.000Z","2023-02-22T07:00:00.000Z","2023-02-23T07:00:00.000Z","2023-02-24T07:00:00.000Z","2023-02-25T07:00:00.000Z","2023-02-26T07:00:00.000Z","2023-02-27T07:00:00.000Z","2023-02-28T07:00:00.000Z","2023-03-01T07:00:00.000Z","2023-03-02T07:00:00.000Z","2023-03-03T07:00:00.000Z","2023-03-04T07:00:00.000Z","2023-03-05T07:00:00.000Z","2023-03-06T07:00:00.000Z","2023-03-07T07:00:00.000Z","2023-03-08T07:00:00.000Z","2023-03-09T07:00:00.000Z","2023-03-10T07:00:00.000Z","2023-03-11T07:00:00.000Z","2023-03-12T07:00:00.000Z","2023-03-13T07:00:00.000Z","2023-03-14T07:00:00.000Z","2023-03-15T07:00:00.000Z","2023-03-16T07:00:00.000Z","2023-03-17T07:00:00.000Z","2023-03-18T07:00:00.000Z","2023-03-19T07:00:00.000Z","2023-03-20T07:00:00.000Z","2023-03-21T07:00:00.000Z","2023-03-22T07:00:00.000Z","2023-03-23T07:00:00.000Z","2023-03-24T07:00:00.000Z","2023-03-25T07:00:00.000Z","2023-03-26T07:00:00.000Z","2023-03-27T07:00:00.000Z","2023-03-28T07:00:00.000Z","2023-03-29T07:00:00.000Z","2023-03-30T07:00:00.000Z","2023-03-31T07:00:00.000Z","2023-04-01T07:00:00.000Z","2023-04-02T07:00:00.000Z","2023-04-03T07:00:00.000Z","2023-04-04T07:00:00.000Z","2023-04-05T07:00:00.000Z","2023-04-06T07:00:00.000Z","2023-04-07T07:00:00.000Z","2023-04-08T07:00:00.000Z","2023-04-09T07:00:00.000Z","2023-04-10T07:00:00.000Z","2023-04-11T07:00:00.000Z","2023-04-12T07:00:00.000Z","2023-04-13T07:00:00.000Z","2023-04-14T07:00:00.000Z","2023-04-15T07:00:00.000Z","2023-04-16T07:00:00.000Z","2023-04-17T07:00:00.000Z","2023-04-18T07:00:00.000Z","2023-04-19T07:00:00.000Z","2023-04-20T07:00:00.000Z","2023-04-21T07:00:00.000Z","2023-04-22T07:00:00.000Z","2023-04-23T07:00:00.000Z","2023-04-24T07:00:00.000Z","2023-04-25T07:00:00.000Z","2023-04-26T07:00:00.000Z","2023-04-27T07:00:00.000Z","2023-04-28T07:00:00.000Z","2023-04-29T07:00:00.000Z","2023-04-30T07:00:00.000Z","2023-05-01T07:00:00.000Z","2023-05-02T07:00:00.000Z","2023-05-03T07:00:00.000Z","2023-05-04T07:00:00.000Z","2023-05-05T07:00:00.000Z","2023-05-06T07:00:00.000Z","2023-05-07T07:00:00.000Z","2023-05-08T07:00:00.000Z","2023-05-09T07:00:00.000Z","2023-05-10T07:00:00.000Z","2023-05-11T07:00:00.000Z","2023-05-12T07:00:00.000Z","2023-05-13T07:00:00.000Z","2023-05-14T07:00:00.000Z","2023-05-15T07:00:00.000Z","2023-05-16T07:00:00.000Z","2023-05-17T07:00:00.000Z","2023-05-18T07:00:00.000Z","2023-05-19T07:00:00.000Z","2023-05-20T07:00:00.000Z","2023-05-21T07:00:00.000Z","2023-05-22T07:00:00.000Z","2023-05-23T07:00:00.000Z","2023-05-24T07:00:00.000Z","2023-05-25T07:00:00.000Z","2023-05-26T07:00:00.000Z","2023-05-27T07:00:00.000Z","2023-05-28T07:00:00.000Z","2023-05-29T07:00:00.000Z","2023-05-30T07:00:00.000Z","2023-05-31T07:00:00.000Z","2023-06-01T07:00:00.000Z","2023-06-02T07:00:00.000Z","2023-06-03T07:00:00.000Z","2023-06-04T07:00:00.000Z","2023-06-05T07:00:00.000Z","2023-06-06T07:00:00.000Z","2023-06-07T07:00:00.000Z","2023-06-08T07:00:00.000Z","2023-06-09T07:00:00.000Z","2023-06-10T07:00:00.000Z","2023-06-11T07:00:00.000Z","2023-06-12T07:00:00.000Z","2023-06-13T07:00:00.000Z","2023-06-14T07:00:00.000Z","2023-06-15T07:00:00.000Z","2023-06-16T07:00:00.000Z","2023-06-17T07:00:00.000Z","2023-06-18T07:00:00.000Z","2023-06-19T07:00:00.000Z","2023-06-20T07:00:00.000Z","2023-06-21T07:00:00.000Z","2023-06-22T07:00:00.000Z","2023-06-23T07:00:00.000Z","2023-06-24T07:00:00.000Z","2023-06-25T07:00:00.000Z","2023-06-26T07:00:00.000Z","2023-06-27T07:00:00.000Z","2023-06-28T07:00:00.000Z","2023-06-29T07:00:00.000Z","2023-06-30T07:00:00.000Z","2023-07-01T07:00:00.000Z","2023-07-02T07:00:00.000Z","2023-07-03T07:00:00.000Z","2023-07-04T07:00:00.000Z","2023-07-05T07:00:00.000Z","2023-07-06T07:00:00.000Z","2023-07-07T07:00:00.000Z","2023-07-08T07:00:00.000Z","2023-07-09T07:00:00.000Z","2023-07-10T07:00:00.000Z","2023-07-11T07:00:00.000Z","2023-07-12T07:00:00.000Z","2023-07-13T07:00:00.000Z","2023-07-14T07:00:00.000Z","2023-07-15T07:00:00.000Z","2023-07-16T07:00:00.000Z","2023-07-17T07:00:00.000Z","2023-07-18T07:00:00.000Z","2023-07-19T07:00:00.000Z","2023-07-20T07:00:00.000Z","2023-07-21T07:00:00.000Z","2023-07-22T07:00:00.000Z","2023-07-23T07:00:00.000Z","2023-07-24T07:00:00.000Z","2023-07-25T07:00:00.000Z","2023-07-26T07:00:00.000Z","2023-07-27T07:00:00.000Z","2023-07-28T07:00:00.000Z","2023-07-29T07:00:00.000Z","2023-07-30T07:00:00.000Z","2023-07-31T07:00:00.000Z","2023-08-01T07:00:00.000Z","2023-08-02T07:00:00.000Z","2023-08-03T07:00:00.000Z","2023-08-04T07:00:00.000Z","2023-08-05T07:00:00.000Z","2023-08-06T07:00:00.000Z","2023-08-07T07:00:00.000Z","2023-08-08T07:00:00.000Z","2023-08-09T07:00:00.000Z","2023-08-10T07:00:00.000Z","2023-08-11T07:00:00.000Z","2023-08-12T07:00:00.000Z","2023-08-13T07:00:00.000Z","2023-08-14T07:00:00.000Z","2023-08-15T07:00:00.000Z","2023-08-16T07:00:00.000Z","2023-08-17T07:00:00.000Z","2023-08-18T07:00:00.000Z","2023-08-19T07:00:00.000Z","2023-08-20T07:00:00.000Z","2023-08-21T07:00:00.000Z","2023-08-22T07:00:00.000Z","2023-08-23T07:00:00.000Z","2023-08-24T07:00:00.000Z","2023-08-25T07:00:00.000Z","2023-08-26T07:00:00.000Z","2023-08-27T07:00:00.000Z","2023-08-28T07:00:00.000Z","2023-08-29T07:00:00.000Z","2023-08-30T07:00:00.000Z","2023-08-31T07:00:00.000Z","2023-09-01T07:00:00.000Z","2023-09-02T07:00:00.000Z","2023-09-03T07:00:00.000Z","2023-09-04T07:00:00.000Z","2023-09-05T07:00:00.000Z","2023-09-06T07:00:00.000Z","2023-09-07T07:00:00.000Z","2023-09-08T07:00:00.000Z","2023-09-09T07:00:00.000Z","2023-09-10T07:00:00.000Z","2023-09-11T07:00:00.000Z","2023-09-12T07:00:00.000Z","2023-09-13T07:00:00.000Z","2023-09-14T07:00:00.000Z","2023-09-15T07:00:00.000Z","2023-09-16T07:00:00.000Z","2023-09-17T07:00:00.000Z","2023-09-18T07:00:00.000Z","2023-09-19T07:00:00.000Z","2023-09-20T07:00:00.000Z","2023-09-21T07:00:00.000Z","2023-09-22T07:00:00.000Z","2023-09-23T07:00:00.000Z","2023-09-24T07:00:00.000Z","2023-09-25T07:00:00.000Z","2023-09-26T07:00:00.000Z","2023-09-27T07:00:00.000Z","2023-09-28T07:00:00.000Z","2023-09-29T07:00:00.000Z","2023-09-30T07:00:00.000Z","2023-10-01T07:00:00.000Z","2023-10-02T07:00:00.000Z","2023-10-03T07:00:00.000Z","2023-10-04T07:00:00.000Z","2023-10-05T07:00:00.000Z","2023-10-06T07:00:00.000Z","2023-10-07T07:00:00.000Z","2023-10-08T07:00:00.000Z","2023-10-09T07:00:00.000Z","2023-10-10T07:00:00.000Z","2023-10-11T07:00:00.000Z","2023-10-12T07:00:00.000Z","2023-10-13T07:00:00.000Z","2023-10-14T07:00:00.000Z","2023-10-15T07:00:00.000Z","2023-10-16T07:00:00.000Z","2023-10-17T07:00:00.000Z","2023-10-18T07:00:00.000Z","2023-10-19T07:00:00.000Z","2023-10-20T07:00:00.000Z","2023-10-21T07:00:00.000Z","2023-10-22T07:00:00.000Z","2023-10-23T07:00:00.000Z","2023-10-24T07:00:00.000Z","2023-10-25T07:00:00.000Z","2023-10-26T07:00:00.000Z","2023-10-27T07:00:00.000Z","2023-10-28T07:00:00.000Z","2023-10-29T07:00:00.000Z","2023-10-30T07:00:00.000Z","2023-10-31T07:00:00.000Z","2023-11-01T07:00:00.000Z","2023-11-02T07:00:00.000Z","2023-11-03T07:00:00.000Z","2023-11-04T07:00:00.000Z","2023-11-05T07:00:00.000Z","2023-11-06T07:00:00.000Z","2023-11-07T07:00:00.000Z","2023-11-08T07:00:00.000Z","2023-11-09T07:00:00.000Z","2023-11-10T07:00:00.000Z","2023-11-11T07:00:00.000Z","2023-11-12T07:00:00.000Z","2023-11-13T07:00:00.000Z","2023-11-14T07:00:00.000Z","2023-11-15T07:00:00.000Z","2023-11-16T07:00:00.000Z","2023-11-17T07:00:00.000Z","2023-11-18T07:00:00.000Z","2023-11-19T07:00:00.000Z","2023-11-20T07:00:00.000Z","2023-11-21T07:00:00.000Z","2023-11-22T07:00:00.000Z","2023-11-23T07:00:00.000Z","2023-11-24T07:00:00.000Z","2023-11-25T07:00:00.000Z","2023-11-26T07:00:00.000Z","2023-11-27T07:00:00.000Z","2023-11-28T07:00:00.000Z","2023-11-29T07:00:00.000Z","2023-11-30T07:00:00.000Z","2023-12-01T07:00:00.000Z","2023-12-02T07:00:00.000Z","2023-12-03T07:00:00.000Z","2023-12-04T07:00:00.000Z","2023-12-05T07:00:00.000Z","2023-12-06T07:00:00.000Z","2023-12-07T07:00:00.000Z","2023-12-08T07:00:00.000Z","2023-12-09T07:00:00.000Z","2023-12-10T07:00:00.000Z","2023-12-11T07:00:00.000Z","2023-12-12T07:00:00.000Z","2023-12-13T07:00:00.000Z","2023-12-14T07:00:00.000Z","2023-12-15T07:00:00.000Z","2023-12-16T07:00:00.000Z","2023-12-17T07:00:00.000Z","2023-12-18T07:00:00.000Z","2023-12-19T07:00:00.000Z","2023-12-20T07:00:00.000Z","2023-12-21T07:00:00.000Z","2023-12-22T07:00:00.000Z","2023-12-23T07:00:00.000Z","2023-12-24T07:00:00.000Z","2023-12-25T07:00:00.000Z","2023-12-26T07:00:00.000Z","2023-12-27T07:00:00.000Z","2023-12-28T07:00:00.000Z","2023-12-29T07:00:00.000Z","2023-12-30T07:00:00.000Z","2023-12-31T07:00:00.000Z"],[-10.5,-6,-6,-8,-5,-19,-18,-12,-16,-19,50,2,-7,-15,-17,-13,-18,-13,-6,-15,-16,-4,-3,-13,-1,-4,-8,-13,-6,-12,6,8,-6,7,-9,-11,-15,-19,-18,-17,-12,-15,-15,-18,-18,-11,-10,11,-11,-12,-10,-1,2,-2,17,-1,-2,-10,8,-7,7,-3,-5,-1,-6,5,-9,-6,-4,-8,-3,-1,19,4,-15,-8,-3,-4,-11,-13,-13,-2,-5,0,5,5,1,-7,-1,-3,22,0,-6,-11,5,3,-1,-9,-13,-15,-24,-22,-20,-13,8,6,10,-10,-16,-7,-10,4,-3,-9,-10,-8,-8,-7,6,32,-9,-16,-18,-13,-14,-18,-8,-10,-12,-17,-15,-18,-17,-11,-14,-17,-8,-14,-12,-9,-14,-12,-16,-14,-12,-10,-21,-21,-16,-15,-19,-17,-8,-9,-10,-14,-1,-6,-8.5,-14,-18,-12,-5,-13,3,-10,9,-9,-11,-13,-10,-7,-8,10,14,37,41.5,30,0.5,-5,-10,-5,-2,-9,-1,-6,-6,10,4.5,19,8,-15,-11,-2,52,13,39,-1,15,3,0,14,-10,-7,0,3,-7,-5,3,4.5,-6,-8,-9,-14,-13,-3,-12,-7,4,-8,-12,3,-13,2,-9,-8,-4,-13,-9,1,-15,-21,-22,-22,-17,-7,0,-14,-11,-12,-15,-3,-13,-13,-19,-25,-14,-20,-17,-3,9,10,34.5,17,-7,-9,-7,-11,-17,-10,-1,-15,-14,-9,-7.5,-3,0.5,12,-3,-12,-10,8,-17,-14,-15,-18,-18,-15,-9,-6,-16,-16,-17,-11,-5,-6,-8,-13,-18,-20,-21,-17,-9,-12,-12,-15,-17,-15,-14,-13,-11,2,-4,-8,-5,-12,-15,-18,-18,-14,-16,-14,-12,-10,-12,-12,-15,-16,-18,-16,-14,-17,-19,-14,-7,-7,-23,-16,-14,4,-6,-9,-19,-15,-10,-7,5,-11,-14,-22,-19,-19,-20,-3,-3,-18,-14,-24,-21,-16,-7,-6,-18,-19,-18,-20,-18,-23,-23,-13.5,-8,-12,-19,-25,-24]]},"evals":["attrs.interactionModel"],"jsHooks":[]}</script>
<p><br></p>
<p>The syntax here is a little different than what we have covered so far. The <code>dygraph</code> function is expecting for the dates to be given as the <code>rownames</code> of the object. We convert our data to a data frame (since tibbles don’t allow for easy row name manipulation), and then remove the <code>date</code> variable from the <code>flights_summarized</code> data frame since it is accounted for in the <code>rownames</code>. Lastly, we run the <code>dygraph</code> function on the new data frame that only contains the median arrival delay as a column and then provide the ability to have a selector to zoom in on the interactive plot via <code>dyRangeSelector</code>. (Note that this plot will only be interactive in the HTML version of this book.)</p>

</div>
</div>
<div id="the-theory-behind-the-bootstrap-method" class="section level2 hasAnchor" number="14.3">
<h2><span class="header-section-number">C.3</span> The theory behind the bootstrap method<a href="C-appendixC.html#the-theory-behind-the-bootstrap-method" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We explain the bootstrap method when use to construct an interval estimate for
<span class="math inline">\(\mu\)</span>, but the explanation can be easily generalized to confidence intervals for
other parameters. We let the letter <span class="math inline">\(F\)</span> represent the
population distribution. We can think of this distribution as the set of
possible values that can be observed and the probability or chance that those
values may appear in a sample taken from this population. Recall that a
histogram can be thought of as the visual representation of this distribution.
Moreover, imagine that <span class="math inline">\(\mu\)</span> is the parameter we wish to estimate. Observe that,
in general, we do not need to restrict our treatment to <span class="math inline">\(\mu\)</span> but any other
parameter or characteristic of this population.</p>
<p>We then take a sample of size
<span class="math inline">\(n\)</span> to estimate <span class="math inline">\(\mu\)</span>, and we construct an empirical distribution based on this
sample, by assigning a probability <span class="math inline">\(1/n\)</span> to each value in the sample.
We call this empirical distribution <span class="math inline">\(F_n\)</span>. We treat this empirical distribution
as if it would be an estimate of the population distribution.
For example, the population mean of this empirical distribution is precisely
the average of all the values in the sample, or the sample mean, but we call it
<span class="math inline">\(\mu_n\)</span> to emphasize that we are treating this as a population.</p>
<p>The bootstrap consists in using the empirical distribution only and nothing else
for the construction of estimates, confidence intervals, etc. We are not
introducing additional assumptions to the population distribution, or to the
structure of the sample, we are simply taking advantage of the sample we have
collected.</p>
<p>So now, <span class="math inline">\(F_n\)</span> is considered the population distribution, and as described in
Section <a href="8-confidence-intervals.html#simulation-based-CI">8.2</a> we obtain a
bootstrap sample by sampling, with replacement, a sample of size <span class="math inline">\(n\)</span> from this
empirical distribution. This bootstrap sample is now considered an empirical
distribution, and we call it <span class="math inline">\(F^*_n\)</span>.</p>
<p>Let’s recap. We want to study the population distribution <span class="math inline">\(F\)</span>, and we take a
sample of size <span class="math inline">\(n\)</span> from this distribution, call it <span class="math inline">\(F_n\)</span>, and use it as an
empirical distribution that estimates <span class="math inline">\(F\)</span>. We then let <span class="math inline">\(F_n\)</span> play
the role of the population distribution, take a bootstrap sample from <span class="math inline">\(F_n\)</span>
(also of size <span class="math inline">\(n\)</span>), call it <span class="math inline">\(F^*_n\)</span>, and use it as an empirical distribution that
estimates <span class="math inline">\(F_n\)</span>.</p>
<p>So, at the first stage we do not know anything about <span class="math inline">\(F\)</span> other than the sample
we have taken. At the second stage, we know everything about <span class="math inline">\(F_n\)</span>, and we can
study how <span class="math inline">\(F^*_n\)</span> behaves with respect to <span class="math inline">\(F_n\)</span>. The idea of bootstrap is to
translate whatever we learn from the relationship between <span class="math inline">\(F^*_n\)</span> and <span class="math inline">\(F_n\)</span> into
the possible relationship between <span class="math inline">\(F_n\)</span> and <span class="math inline">\(F\)</span>.</p>
<p>Furthermore, we could obtain every possible bootstrap sample <span class="math inline">\(F^*_n\)</span> from <span class="math inline">\(F_n\)</span>,
but this is a really large number, as discussed in Section
<a href="8-confidence-intervals.html#simulation-based-CI">8.2</a>. Instead, only a few thousand bootstrap samples are
used.</p>
<p>Let’s translate these ideas to parameters and estimators. We are interested in
estimating <span class="math inline">\(\mu\)</span> from <span class="math inline">\(F\)</span>. We have constructed <span class="math inline">\(\mu_n\)</span> from <span class="math inline">\(F_n\)</span>, that is, we
know what the mean is from our empirical distribution, it is just the sample
mean from the sample taken. Now, we can obtain the distribution of <span class="math inline">\(\mu^*_n\)</span>,
that is, the distribution of the sample means from all the bootstrap samples,
study how much variation they have to approximate the standard error, and use
this information to construct confidence intervals, perform hypothesis tests,
etc.</p>
<p>Hall (1992)<span class="citation">(<a href="#ref-Hall1992">Hall 1992</a>)</span> has provided the theoretical justification to use
bootstrap confidence intervals using Edgeworth expansions. The description of
Edgeworth expansions are beyond the scope of this book, but in simple terms,
you can think of them as approximations to the population distribution and of
parameter estimates, that in certain context provide better approximations than
the central limit theorem.</p>
<p>In the next section we discuss bootstrap methods in the context of confidence
intervals and make comparisons between the theory-based approach and the
simulation-based approach using the percentile method and more advanced
bootstrap methods.</p>

</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Hall1992" class="csl-entry">
———. 1992. <em>The Bootstrap and Edgeworth Expansion</em>. First. New York: Springer series in statistics.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="B-appendixB.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/moderndive/moderndive_book/edit/master/93-appendixC.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["ModernDive.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
