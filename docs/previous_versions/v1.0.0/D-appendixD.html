<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>D Learning Check Solutions | Statistical Inference via Data Science</title>
  <meta name="description" content="An open-source and fully-reproducible electronic textbook for teaching statistical inference using tidyverse data science tools." />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="D Learning Check Solutions | Statistical Inference via Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://moderndive.com/" />
  <meta property="og:image" content="https://moderndive.com/images/logos/book_cover.png" />
  <meta property="og:description" content="An open-source and fully-reproducible electronic textbook for teaching statistical inference using tidyverse data science tools." />
  <meta name="github-repo" content="moderndive/ModernDive_book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="D Learning Check Solutions | Statistical Inference via Data Science" />
  <meta name="twitter:site" content="@ModernDive" />
  <meta name="twitter:description" content="An open-source and fully-reproducible electronic textbook for teaching statistical inference using tidyverse data science tools." />
  <meta name="twitter:image" content="https://moderndive.com/images/logos/book_cover.png" />

<meta name="author" content="Chester Ismay and Albert Y. Kim   Foreword by Kelly S. McConville" />


<meta name="date" content="2019-11-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="images/logos/favicons/apple-touch-icon.png" />
  <link rel="shortcut icon" href="images/logos/favicons/favicon.ico" type="image/x-icon" />
<link rel="prev" href="C-appendixC.html"/>
<link rel="next" href="E-appendixE.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-89938436-1', 'auto');
  ga('send', 'pageview');

</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome to ModernDive</a></li>
<li class="chapter" data-level="" data-path="foreword.html"><a href="foreword.html"><i class="fa fa-check"></i>Foreword</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#introduction-for-students"><i class="fa fa-check"></i>Introduction for students</a><ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#what-we-hope-you-will-learn-from-this-book"><i class="fa fa-check"></i>What we hope you will learn from this book</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#datascience-pipeline"><i class="fa fa-check"></i>Data/science pipeline</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#reproducible-research"><i class="fa fa-check"></i>Reproducible research</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#final-note-for-students"><i class="fa fa-check"></i>Final note for students</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#introduction-for-instructors"><i class="fa fa-check"></i>Introduction for instructors</a><ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#resources"><i class="fa fa-check"></i>Resources</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#why-did-we-write-this-book"><i class="fa fa-check"></i>Why did we write this book?</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#who-is-this-book-for"><i class="fa fa-check"></i>Who is this book for?</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#connect-and-contribute"><i class="fa fa-check"></i>Connect and contribute</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#about-this-book"><i class="fa fa-check"></i>About this book</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-authors.html"><a href="about-the-authors.html"><i class="fa fa-check"></i>About the authors</a></li>
<li class="chapter" data-level="1" data-path="1-getting-started.html"><a href="1-getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting Started with Data in R</a><ul>
<li class="chapter" data-level="1.1" data-path="1-getting-started.html"><a href="1-getting-started.html#r-rstudio"><i class="fa fa-check"></i><b>1.1</b> What are R and RStudio?</a><ul>
<li class="chapter" data-level="1.1.1" data-path="1-getting-started.html"><a href="1-getting-started.html#installing"><i class="fa fa-check"></i><b>1.1.1</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="1.1.2" data-path="1-getting-started.html"><a href="1-getting-started.html#using-r-via-rstudio"><i class="fa fa-check"></i><b>1.1.2</b> Using R via RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="1-getting-started.html"><a href="1-getting-started.html#code"><i class="fa fa-check"></i><b>1.2</b> How do I code in R?</a><ul>
<li class="chapter" data-level="1.2.1" data-path="1-getting-started.html"><a href="1-getting-started.html#programming-concepts"><i class="fa fa-check"></i><b>1.2.1</b> Basic programming concepts and terminology</a></li>
<li class="chapter" data-level="1.2.2" data-path="1-getting-started.html"><a href="1-getting-started.html#messages"><i class="fa fa-check"></i><b>1.2.2</b> Errors, warnings, and messages</a></li>
<li class="chapter" data-level="1.2.3" data-path="1-getting-started.html"><a href="1-getting-started.html#tips-code"><i class="fa fa-check"></i><b>1.2.3</b> Tips on learning to code</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="1-getting-started.html"><a href="1-getting-started.html#packages"><i class="fa fa-check"></i><b>1.3</b> What are R packages?</a><ul>
<li class="chapter" data-level="1.3.1" data-path="1-getting-started.html"><a href="1-getting-started.html#package-installation"><i class="fa fa-check"></i><b>1.3.1</b> Package installation</a></li>
<li class="chapter" data-level="1.3.2" data-path="1-getting-started.html"><a href="1-getting-started.html#package-loading"><i class="fa fa-check"></i><b>1.3.2</b> Package loading</a></li>
<li class="chapter" data-level="1.3.3" data-path="1-getting-started.html"><a href="1-getting-started.html#package-use"><i class="fa fa-check"></i><b>1.3.3</b> Package use</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="1-getting-started.html"><a href="1-getting-started.html#nycflights13"><i class="fa fa-check"></i><b>1.4</b> Explore your first datasets</a><ul>
<li class="chapter" data-level="1.4.1" data-path="1-getting-started.html"><a href="1-getting-started.html#nycflights13-package"><i class="fa fa-check"></i><b>1.4.1</b> <code>nycflights13</code> package</a></li>
<li class="chapter" data-level="1.4.2" data-path="1-getting-started.html"><a href="1-getting-started.html#flights-data-frame"><i class="fa fa-check"></i><b>1.4.2</b> <code>flights</code> data frame</a></li>
<li class="chapter" data-level="1.4.3" data-path="1-getting-started.html"><a href="1-getting-started.html#exploredataframes"><i class="fa fa-check"></i><b>1.4.3</b> Exploring data frames</a></li>
<li class="chapter" data-level="1.4.4" data-path="1-getting-started.html"><a href="1-getting-started.html#identification-vs-measurement-variables"><i class="fa fa-check"></i><b>1.4.4</b> Identification and measurement variables</a></li>
<li class="chapter" data-level="1.4.5" data-path="1-getting-started.html"><a href="1-getting-started.html#help-files"><i class="fa fa-check"></i><b>1.4.5</b> Help files</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="1-getting-started.html"><a href="1-getting-started.html#conclusion"><i class="fa fa-check"></i><b>1.5</b> Conclusion</a><ul>
<li class="chapter" data-level="1.5.1" data-path="1-getting-started.html"><a href="1-getting-started.html#additional-resources"><i class="fa fa-check"></i><b>1.5.1</b> Additional resources</a></li>
<li class="chapter" data-level="1.5.2" data-path="1-getting-started.html"><a href="1-getting-started.html#whats-to-come"><i class="fa fa-check"></i><b>1.5.2</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Data Science with tidyverse</b></span></li>
<li class="chapter" data-level="2" data-path="2-viz.html"><a href="2-viz.html"><i class="fa fa-check"></i><b>2</b> Data Visualization</a><ul>
<li class="chapter" data-level="" data-path="2-viz.html"><a href="2-viz.html#needed-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="2.1" data-path="2-viz.html"><a href="2-viz.html#grammarofgraphics"><i class="fa fa-check"></i><b>2.1</b> The grammar of graphics</a><ul>
<li class="chapter" data-level="2.1.1" data-path="2-viz.html"><a href="2-viz.html#components-of-the-grammar"><i class="fa fa-check"></i><b>2.1.1</b> Components of the grammar</a></li>
<li class="chapter" data-level="2.1.2" data-path="2-viz.html"><a href="2-viz.html#gapminder"><i class="fa fa-check"></i><b>2.1.2</b> Gapminder data</a></li>
<li class="chapter" data-level="2.1.3" data-path="2-viz.html"><a href="2-viz.html#other-components"><i class="fa fa-check"></i><b>2.1.3</b> Other components</a></li>
<li class="chapter" data-level="2.1.4" data-path="2-viz.html"><a href="2-viz.html#ggplot2-package"><i class="fa fa-check"></i><b>2.1.4</b> ggplot2 package</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="2-viz.html"><a href="2-viz.html#FiveNG"><i class="fa fa-check"></i><b>2.2</b> Five named graphs - the 5NG</a></li>
<li class="chapter" data-level="2.3" data-path="2-viz.html"><a href="2-viz.html#scatterplots"><i class="fa fa-check"></i><b>2.3</b> 5NG#1: Scatterplots</a><ul>
<li class="chapter" data-level="2.3.1" data-path="2-viz.html"><a href="2-viz.html#geompoint"><i class="fa fa-check"></i><b>2.3.1</b> Scatterplots via <code>geom_point</code></a></li>
<li class="chapter" data-level="2.3.2" data-path="2-viz.html"><a href="2-viz.html#overplotting"><i class="fa fa-check"></i><b>2.3.2</b> Overplotting</a></li>
<li class="chapter" data-level="2.3.3" data-path="2-viz.html"><a href="2-viz.html#summary"><i class="fa fa-check"></i><b>2.3.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="2-viz.html"><a href="2-viz.html#linegraphs"><i class="fa fa-check"></i><b>2.4</b> 5NG#2: Linegraphs</a><ul>
<li class="chapter" data-level="2.4.1" data-path="2-viz.html"><a href="2-viz.html#geomline"><i class="fa fa-check"></i><b>2.4.1</b> Linegraphs via <code>geom_line</code></a></li>
<li class="chapter" data-level="2.4.2" data-path="2-viz.html"><a href="2-viz.html#summary-1"><i class="fa fa-check"></i><b>2.4.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="2-viz.html"><a href="2-viz.html#histograms"><i class="fa fa-check"></i><b>2.5</b> 5NG#3: Histograms</a><ul>
<li class="chapter" data-level="2.5.1" data-path="2-viz.html"><a href="2-viz.html#geomhistogram"><i class="fa fa-check"></i><b>2.5.1</b> Histograms via <code>geom_histogram</code></a></li>
<li class="chapter" data-level="2.5.2" data-path="2-viz.html"><a href="2-viz.html#adjustbins"><i class="fa fa-check"></i><b>2.5.2</b> Adjusting the bins</a></li>
<li class="chapter" data-level="2.5.3" data-path="2-viz.html"><a href="2-viz.html#summary-2"><i class="fa fa-check"></i><b>2.5.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="2-viz.html"><a href="2-viz.html#facets"><i class="fa fa-check"></i><b>2.6</b> Facets</a></li>
<li class="chapter" data-level="2.7" data-path="2-viz.html"><a href="2-viz.html#boxplots"><i class="fa fa-check"></i><b>2.7</b> 5NG#4: Boxplots</a><ul>
<li class="chapter" data-level="2.7.1" data-path="2-viz.html"><a href="2-viz.html#geomboxplot"><i class="fa fa-check"></i><b>2.7.1</b> Boxplots via <code>geom_boxplot</code></a></li>
<li class="chapter" data-level="2.7.2" data-path="2-viz.html"><a href="2-viz.html#summary-3"><i class="fa fa-check"></i><b>2.7.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="2-viz.html"><a href="2-viz.html#geombar"><i class="fa fa-check"></i><b>2.8</b> 5NG#5: Barplots</a><ul>
<li class="chapter" data-level="2.8.1" data-path="2-viz.html"><a href="2-viz.html#barplots-via-geom_bar-or-geom_col"><i class="fa fa-check"></i><b>2.8.1</b> Barplots via <code>geom_bar</code> or <code>geom_col</code></a></li>
<li class="chapter" data-level="2.8.2" data-path="2-viz.html"><a href="2-viz.html#must-avoid-pie-charts"><i class="fa fa-check"></i><b>2.8.2</b> Must avoid pie charts!</a></li>
<li class="chapter" data-level="2.8.3" data-path="2-viz.html"><a href="2-viz.html#two-categ-barplot"><i class="fa fa-check"></i><b>2.8.3</b> Two categorical variables</a></li>
<li class="chapter" data-level="2.8.4" data-path="2-viz.html"><a href="2-viz.html#summary-4"><i class="fa fa-check"></i><b>2.8.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="2-viz.html"><a href="2-viz.html#conclusion-1"><i class="fa fa-check"></i><b>2.9</b> Conclusion</a><ul>
<li class="chapter" data-level="2.9.1" data-path="2-viz.html"><a href="2-viz.html#summary-table"><i class="fa fa-check"></i><b>2.9.1</b> Summary table</a></li>
<li class="chapter" data-level="2.9.2" data-path="2-viz.html"><a href="2-viz.html#function-argument-specification"><i class="fa fa-check"></i><b>2.9.2</b> Function argument specification</a></li>
<li class="chapter" data-level="2.9.3" data-path="2-viz.html"><a href="2-viz.html#additional-resources-1"><i class="fa fa-check"></i><b>2.9.3</b> Additional resources</a></li>
<li class="chapter" data-level="2.9.4" data-path="2-viz.html"><a href="2-viz.html#whats-to-come-3"><i class="fa fa-check"></i><b>2.9.4</b> What’s to come</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-wrangling.html"><a href="3-wrangling.html"><i class="fa fa-check"></i><b>3</b> Data Wrangling</a><ul>
<li class="chapter" data-level="" data-path="3-wrangling.html"><a href="3-wrangling.html#needed-packages-1"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="3.1" data-path="3-wrangling.html"><a href="3-wrangling.html#piping"><i class="fa fa-check"></i><b>3.1</b> The pipe operator: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="3.2" data-path="3-wrangling.html"><a href="3-wrangling.html#filter"><i class="fa fa-check"></i><b>3.2</b> <code>filter</code> rows</a></li>
<li class="chapter" data-level="3.3" data-path="3-wrangling.html"><a href="3-wrangling.html#summarize"><i class="fa fa-check"></i><b>3.3</b> <code>summarize</code> variables</a></li>
<li class="chapter" data-level="3.4" data-path="3-wrangling.html"><a href="3-wrangling.html#groupby"><i class="fa fa-check"></i><b>3.4</b> <code>group_by</code> rows</a><ul>
<li class="chapter" data-level="3.4.1" data-path="3-wrangling.html"><a href="3-wrangling.html#grouping-by-more-than-one-variable"><i class="fa fa-check"></i><b>3.4.1</b> Grouping by more than one variable</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="3-wrangling.html"><a href="3-wrangling.html#mutate"><i class="fa fa-check"></i><b>3.5</b> <code>mutate</code> existing variables</a></li>
<li class="chapter" data-level="3.6" data-path="3-wrangling.html"><a href="3-wrangling.html#arrange"><i class="fa fa-check"></i><b>3.6</b> <code>arrange</code> and sort rows</a></li>
<li class="chapter" data-level="3.7" data-path="3-wrangling.html"><a href="3-wrangling.html#joins"><i class="fa fa-check"></i><b>3.7</b> <code>join</code> data frames</a><ul>
<li class="chapter" data-level="3.7.1" data-path="3-wrangling.html"><a href="3-wrangling.html#matching-key-variable-names"><i class="fa fa-check"></i><b>3.7.1</b> Matching “key” variable names</a></li>
<li class="chapter" data-level="3.7.2" data-path="3-wrangling.html"><a href="3-wrangling.html#diff-key"><i class="fa fa-check"></i><b>3.7.2</b> Different “key” variable names</a></li>
<li class="chapter" data-level="3.7.3" data-path="3-wrangling.html"><a href="3-wrangling.html#multiple-key-variables"><i class="fa fa-check"></i><b>3.7.3</b> Multiple “key” variables</a></li>
<li class="chapter" data-level="3.7.4" data-path="3-wrangling.html"><a href="3-wrangling.html#normal-forms"><i class="fa fa-check"></i><b>3.7.4</b> Normal forms</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="3-wrangling.html"><a href="3-wrangling.html#other-verbs"><i class="fa fa-check"></i><b>3.8</b> Other verbs</a><ul>
<li class="chapter" data-level="3.8.1" data-path="3-wrangling.html"><a href="3-wrangling.html#select"><i class="fa fa-check"></i><b>3.8.1</b> <code>select</code> variables</a></li>
<li class="chapter" data-level="3.8.2" data-path="3-wrangling.html"><a href="3-wrangling.html#rename"><i class="fa fa-check"></i><b>3.8.2</b> <code>rename</code> variables</a></li>
<li class="chapter" data-level="3.8.3" data-path="3-wrangling.html"><a href="3-wrangling.html#top_n-values-of-a-variable"><i class="fa fa-check"></i><b>3.8.3</b> <code>top_n</code> values of a variable</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="3-wrangling.html"><a href="3-wrangling.html#conclusion-2"><i class="fa fa-check"></i><b>3.9</b> Conclusion</a><ul>
<li class="chapter" data-level="3.9.1" data-path="3-wrangling.html"><a href="3-wrangling.html#summary-table-1"><i class="fa fa-check"></i><b>3.9.1</b> Summary table</a></li>
<li class="chapter" data-level="3.9.2" data-path="3-wrangling.html"><a href="3-wrangling.html#additional-resources-2"><i class="fa fa-check"></i><b>3.9.2</b> Additional resources</a></li>
<li class="chapter" data-level="3.9.3" data-path="3-wrangling.html"><a href="3-wrangling.html#whats-to-come-1"><i class="fa fa-check"></i><b>3.9.3</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-tidy.html"><a href="4-tidy.html"><i class="fa fa-check"></i><b>4</b> Data Importing and “Tidy” Data</a><ul>
<li class="chapter" data-level="" data-path="4-tidy.html"><a href="4-tidy.html#needed-packages-2"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="4.1" data-path="4-tidy.html"><a href="4-tidy.html#csv"><i class="fa fa-check"></i><b>4.1</b> Importing data</a><ul>
<li class="chapter" data-level="4.1.1" data-path="4-tidy.html"><a href="4-tidy.html#using-the-console"><i class="fa fa-check"></i><b>4.1.1</b> Using the console</a></li>
<li class="chapter" data-level="4.1.2" data-path="4-tidy.html"><a href="4-tidy.html#using-rstudios-interface"><i class="fa fa-check"></i><b>4.1.2</b> Using RStudio’s interface</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4-tidy.html"><a href="4-tidy.html#tidy-data-ex"><i class="fa fa-check"></i><b>4.2</b> “Tidy” data</a><ul>
<li class="chapter" data-level="4.2.1" data-path="4-tidy.html"><a href="4-tidy.html#tidy-definition"><i class="fa fa-check"></i><b>4.2.1</b> Definition of “tidy” data</a></li>
<li class="chapter" data-level="4.2.2" data-path="4-tidy.html"><a href="4-tidy.html#converting-to-tidy-data"><i class="fa fa-check"></i><b>4.2.2</b> Converting to “tidy” data</a></li>
<li class="chapter" data-level="4.2.3" data-path="4-tidy.html"><a href="4-tidy.html#nycflights13-package-1"><i class="fa fa-check"></i><b>4.2.3</b> <code>nycflights13</code> package</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="4-tidy.html"><a href="4-tidy.html#case-study-tidy"><i class="fa fa-check"></i><b>4.3</b> Case study: Democracy in Guatemala</a></li>
<li class="chapter" data-level="4.4" data-path="4-tidy.html"><a href="4-tidy.html#tidyverse-package"><i class="fa fa-check"></i><b>4.4</b> <code>tidyverse</code> package</a></li>
<li class="chapter" data-level="4.5" data-path="4-tidy.html"><a href="4-tidy.html#conclusion-3"><i class="fa fa-check"></i><b>4.5</b> Conclusion</a><ul>
<li class="chapter" data-level="4.5.1" data-path="4-tidy.html"><a href="4-tidy.html#additional-resources-3"><i class="fa fa-check"></i><b>4.5.1</b> Additional resources</a></li>
<li class="chapter" data-level="4.5.2" data-path="4-tidy.html"><a href="4-tidy.html#whats-to-come-2"><i class="fa fa-check"></i><b>4.5.2</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Data Modeling with moderndive</b></span></li>
<li class="chapter" data-level="5" data-path="5-regression.html"><a href="5-regression.html"><i class="fa fa-check"></i><b>5</b> Basic Regression</a><ul>
<li class="chapter" data-level="" data-path="5-regression.html"><a href="5-regression.html#needed-packages-3"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="5.1" data-path="5-regression.html"><a href="5-regression.html#model1"><i class="fa fa-check"></i><b>5.1</b> One numerical explanatory variable</a><ul>
<li class="chapter" data-level="5.1.1" data-path="5-regression.html"><a href="5-regression.html#model1EDA"><i class="fa fa-check"></i><b>5.1.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="5.1.2" data-path="5-regression.html"><a href="5-regression.html#model1table"><i class="fa fa-check"></i><b>5.1.2</b> Simple linear regression</a></li>
<li class="chapter" data-level="5.1.3" data-path="5-regression.html"><a href="5-regression.html#model1points"><i class="fa fa-check"></i><b>5.1.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="5-regression.html"><a href="5-regression.html#model2"><i class="fa fa-check"></i><b>5.2</b> One categorical explanatory variable</a><ul>
<li class="chapter" data-level="5.2.1" data-path="5-regression.html"><a href="5-regression.html#model2EDA"><i class="fa fa-check"></i><b>5.2.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="5.2.2" data-path="5-regression.html"><a href="5-regression.html#model2table"><i class="fa fa-check"></i><b>5.2.2</b> Linear regression</a></li>
<li class="chapter" data-level="5.2.3" data-path="5-regression.html"><a href="5-regression.html#model2points"><i class="fa fa-check"></i><b>5.2.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="5-regression.html"><a href="5-regression.html#related-topics"><i class="fa fa-check"></i><b>5.3</b> Related topics</a><ul>
<li class="chapter" data-level="5.3.1" data-path="5-regression.html"><a href="5-regression.html#correlation-is-not-causation"><i class="fa fa-check"></i><b>5.3.1</b> Correlation is not necessarily causation</a></li>
<li class="chapter" data-level="5.3.2" data-path="5-regression.html"><a href="5-regression.html#leastsquares"><i class="fa fa-check"></i><b>5.3.2</b> Best-fitting line</a></li>
<li class="chapter" data-level="5.3.3" data-path="5-regression.html"><a href="5-regression.html#underthehood"><i class="fa fa-check"></i><b>5.3.3</b> <code>get_regression_x()</code> functions</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="5-regression.html"><a href="5-regression.html#conclusion-4"><i class="fa fa-check"></i><b>5.4</b> Conclusion</a><ul>
<li class="chapter" data-level="5.4.1" data-path="5-regression.html"><a href="5-regression.html#additional-resources-basic-regression"><i class="fa fa-check"></i><b>5.4.1</b> Additional resources</a></li>
<li class="chapter" data-level="5.4.2" data-path="5-regression.html"><a href="5-regression.html#whats-to-come-4"><i class="fa fa-check"></i><b>5.4.2</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html"><i class="fa fa-check"></i><b>6</b> Multiple Regression</a><ul>
<li class="chapter" data-level="" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#needed-packages-4"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="6.1" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model4"><i class="fa fa-check"></i><b>6.1</b> One numerical and one categorical explanatory variable</a><ul>
<li class="chapter" data-level="6.1.1" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model4EDA"><i class="fa fa-check"></i><b>6.1.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="6.1.2" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model4interactiontable"><i class="fa fa-check"></i><b>6.1.2</b> Interaction model</a></li>
<li class="chapter" data-level="6.1.3" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model4table"><i class="fa fa-check"></i><b>6.1.3</b> Parallel slopes model</a></li>
<li class="chapter" data-level="6.1.4" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model4points"><i class="fa fa-check"></i><b>6.1.4</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model3"><i class="fa fa-check"></i><b>6.2</b> Two numerical explanatory variables</a><ul>
<li class="chapter" data-level="6.2.1" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model3EDA"><i class="fa fa-check"></i><b>6.2.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="6.2.2" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model3table"><i class="fa fa-check"></i><b>6.2.2</b> Regression plane</a></li>
<li class="chapter" data-level="6.2.3" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model3points"><i class="fa fa-check"></i><b>6.2.3</b> Observed/fitted values and residuals</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#related-topics-1"><i class="fa fa-check"></i><b>6.3</b> Related topics</a><ul>
<li class="chapter" data-level="6.3.1" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#model-selection"><i class="fa fa-check"></i><b>6.3.1</b> Model selection</a></li>
<li class="chapter" data-level="6.3.2" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#correlationcoefficient2"><i class="fa fa-check"></i><b>6.3.2</b> Correlation coefficient</a></li>
<li class="chapter" data-level="6.3.3" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#simpsonsparadox"><i class="fa fa-check"></i><b>6.3.3</b> Simpson’s Paradox</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#conclusion-5"><i class="fa fa-check"></i><b>6.4</b> Conclusion</a><ul>
<li class="chapter" data-level="6.4.1" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#additional-resources-4"><i class="fa fa-check"></i><b>6.4.1</b> Additional resources</a></li>
<li class="chapter" data-level="6.4.2" data-path="6-multiple-regression.html"><a href="6-multiple-regression.html#whats-to-come-5"><i class="fa fa-check"></i><b>6.4.2</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Statistical Inference with infer</b></span></li>
<li class="chapter" data-level="7" data-path="7-sampling.html"><a href="7-sampling.html"><i class="fa fa-check"></i><b>7</b> Sampling</a><ul>
<li class="chapter" data-level="" data-path="7-sampling.html"><a href="7-sampling.html#needed-packages-5"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="7.1" data-path="7-sampling.html"><a href="7-sampling.html#sampling-activity"><i class="fa fa-check"></i><b>7.1</b> Sampling bowl activity</a><ul>
<li class="chapter" data-level="7.1.1" data-path="7-sampling.html"><a href="7-sampling.html#what-proportion-of-this-bowls-balls-are-red"><i class="fa fa-check"></i><b>7.1.1</b> What proportion of this bowl’s balls are red?</a></li>
<li class="chapter" data-level="7.1.2" data-path="7-sampling.html"><a href="7-sampling.html#using-the-shovel-once"><i class="fa fa-check"></i><b>7.1.2</b> Using the shovel once</a></li>
<li class="chapter" data-level="7.1.3" data-path="7-sampling.html"><a href="7-sampling.html#student-shovels"><i class="fa fa-check"></i><b>7.1.3</b> Using the shovel 33 times</a></li>
<li class="chapter" data-level="7.1.4" data-path="7-sampling.html"><a href="7-sampling.html#what-did-we-just-do"><i class="fa fa-check"></i><b>7.1.4</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="7-sampling.html"><a href="7-sampling.html#sampling-simulation"><i class="fa fa-check"></i><b>7.2</b> Virtual sampling</a><ul>
<li class="chapter" data-level="7.2.1" data-path="7-sampling.html"><a href="7-sampling.html#using-the-virtual-shovel-once"><i class="fa fa-check"></i><b>7.2.1</b> Using the virtual shovel once</a></li>
<li class="chapter" data-level="7.2.2" data-path="7-sampling.html"><a href="7-sampling.html#using-the-virtual-shovel-33-times"><i class="fa fa-check"></i><b>7.2.2</b> Using the virtual shovel 33 times</a></li>
<li class="chapter" data-level="7.2.3" data-path="7-sampling.html"><a href="7-sampling.html#shovel-1000-times"><i class="fa fa-check"></i><b>7.2.3</b> Using the virtual shovel 1000 times</a></li>
<li class="chapter" data-level="7.2.4" data-path="7-sampling.html"><a href="7-sampling.html#different-shovels"><i class="fa fa-check"></i><b>7.2.4</b> Using different shovels</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="7-sampling.html"><a href="7-sampling.html#sampling-framework"><i class="fa fa-check"></i><b>7.3</b> Sampling framework</a><ul>
<li class="chapter" data-level="7.3.1" data-path="7-sampling.html"><a href="7-sampling.html#terminology-and-notation"><i class="fa fa-check"></i><b>7.3.1</b> Terminology and notation</a></li>
<li class="chapter" data-level="7.3.2" data-path="7-sampling.html"><a href="7-sampling.html#sampling-definitions"><i class="fa fa-check"></i><b>7.3.2</b> Statistical definitions</a></li>
<li class="chapter" data-level="7.3.3" data-path="7-sampling.html"><a href="7-sampling.html#moral-of-the-story"><i class="fa fa-check"></i><b>7.3.3</b> The moral of the story</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="7-sampling.html"><a href="7-sampling.html#sampling-case-study"><i class="fa fa-check"></i><b>7.4</b> Case study: Polls</a></li>
<li class="chapter" data-level="7.5" data-path="7-sampling.html"><a href="7-sampling.html#sampling-conclusion"><i class="fa fa-check"></i><b>7.5</b> Conclusion</a><ul>
<li class="chapter" data-level="7.5.1" data-path="7-sampling.html"><a href="7-sampling.html#sampling-conclusion-table"><i class="fa fa-check"></i><b>7.5.1</b> Sampling scenarios</a></li>
<li class="chapter" data-level="7.5.2" data-path="7-sampling.html"><a href="7-sampling.html#sampling-conclusion-central-limit-theorem"><i class="fa fa-check"></i><b>7.5.2</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="7.5.3" data-path="7-sampling.html"><a href="7-sampling.html#additional-resources-5"><i class="fa fa-check"></i><b>7.5.3</b> Additional resources</a></li>
<li class="chapter" data-level="7.5.4" data-path="7-sampling.html"><a href="7-sampling.html#whats-to-come-6"><i class="fa fa-check"></i><b>7.5.4</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html"><i class="fa fa-check"></i><b>8</b> Bootstrapping and Confidence Intervals</a><ul>
<li class="chapter" data-level="" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#needed-packages-6"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="8.1" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#resampling-tactile"><i class="fa fa-check"></i><b>8.1</b> Pennies activity</a><ul>
<li class="chapter" data-level="8.1.1" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#what-is-the-average-year-on-us-pennies-in-2019"><i class="fa fa-check"></i><b>8.1.1</b> What is the average year on US pennies in 2019?</a></li>
<li class="chapter" data-level="8.1.2" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#resampling-once"><i class="fa fa-check"></i><b>8.1.2</b> Resampling once</a></li>
<li class="chapter" data-level="8.1.3" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#student-resamples"><i class="fa fa-check"></i><b>8.1.3</b> Resampling 35 times</a></li>
<li class="chapter" data-level="8.1.4" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#what-did-we-just-do-1"><i class="fa fa-check"></i><b>8.1.4</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#resampling-simulation"><i class="fa fa-check"></i><b>8.2</b> Computer simulation of resampling</a><ul>
<li class="chapter" data-level="8.2.1" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#virtually-resampling-once"><i class="fa fa-check"></i><b>8.2.1</b> Virtually resampling once</a></li>
<li class="chapter" data-level="8.2.2" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#bootstrap-35-replicates"><i class="fa fa-check"></i><b>8.2.2</b> Virtually resampling 35 times</a></li>
<li class="chapter" data-level="8.2.3" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#bootstrap-1000-replicates"><i class="fa fa-check"></i><b>8.2.3</b> Virtually resampling 1000 times</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#ci-build-up"><i class="fa fa-check"></i><b>8.3</b> Understanding confidence intervals</a><ul>
<li class="chapter" data-level="8.3.1" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#percentile-method"><i class="fa fa-check"></i><b>8.3.1</b> Percentile method</a></li>
<li class="chapter" data-level="8.3.2" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#se-method"><i class="fa fa-check"></i><b>8.3.2</b> Standard error method</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#bootstrap-process"><i class="fa fa-check"></i><b>8.4</b> Constructing confidence intervals</a><ul>
<li class="chapter" data-level="8.4.1" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#original-workflow"><i class="fa fa-check"></i><b>8.4.1</b> Original workflow</a></li>
<li class="chapter" data-level="8.4.2" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#infer-workflow"><i class="fa fa-check"></i><b>8.4.2</b> <code>infer</code> package workflow</a></li>
<li class="chapter" data-level="8.4.3" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#percentile-method-infer"><i class="fa fa-check"></i><b>8.4.3</b> Percentile method with <code>infer</code></a></li>
<li class="chapter" data-level="8.4.4" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#infer-se"><i class="fa fa-check"></i><b>8.4.4</b> Standard error method with <code>infer</code></a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#one-prop-ci"><i class="fa fa-check"></i><b>8.5</b> Interpreting confidence intervals</a><ul>
<li class="chapter" data-level="8.5.1" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#ilyas-yohan"><i class="fa fa-check"></i><b>8.5.1</b> Did the net capture the fish?</a></li>
<li class="chapter" data-level="8.5.2" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#shorthand"><i class="fa fa-check"></i><b>8.5.2</b> Precise and shorthand interpretation</a></li>
<li class="chapter" data-level="8.5.3" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#ci-width"><i class="fa fa-check"></i><b>8.5.3</b> Width of confidence intervals</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#case-study-two-prop-ci"><i class="fa fa-check"></i><b>8.6</b> Case study: Is yawning contagious?</a><ul>
<li class="chapter" data-level="8.6.1" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#mythbusters-study-data"><i class="fa fa-check"></i><b>8.6.1</b> <em>Mythbusters</em> study data</a></li>
<li class="chapter" data-level="8.6.2" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#sampling-scenario"><i class="fa fa-check"></i><b>8.6.2</b> Sampling scenario</a></li>
<li class="chapter" data-level="8.6.3" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#ci-build"><i class="fa fa-check"></i><b>8.6.3</b> Constructing the confidence interval</a></li>
<li class="chapter" data-level="8.6.4" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#interpreting-the-confidence-interval"><i class="fa fa-check"></i><b>8.6.4</b> Interpreting the confidence interval</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#ci-conclusion"><i class="fa fa-check"></i><b>8.7</b> Conclusion</a><ul>
<li class="chapter" data-level="8.7.1" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#bootstrap-vs-sampling"><i class="fa fa-check"></i><b>8.7.1</b> Comparing bootstrap and sampling distributions</a></li>
<li class="chapter" data-level="8.7.2" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#theory-ci"><i class="fa fa-check"></i><b>8.7.2</b> Theory-based confidence intervals</a></li>
<li class="chapter" data-level="8.7.3" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#additional-resources-6"><i class="fa fa-check"></i><b>8.7.3</b> Additional resources</a></li>
<li class="chapter" data-level="8.7.4" data-path="8-confidence-intervals.html"><a href="8-confidence-intervals.html#whats-to-come-7"><i class="fa fa-check"></i><b>8.7.4</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html"><i class="fa fa-check"></i><b>9</b> Hypothesis Testing</a><ul>
<li class="chapter" data-level="" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#needed-packages-7"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="9.1" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#ht-activity"><i class="fa fa-check"></i><b>9.1</b> Promotions activity</a><ul>
<li class="chapter" data-level="9.1.1" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#does-gender-affect-promotions-at-a-bank"><i class="fa fa-check"></i><b>9.1.1</b> Does gender affect promotions at a bank?</a></li>
<li class="chapter" data-level="9.1.2" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#shuffling-once"><i class="fa fa-check"></i><b>9.1.2</b> Shuffling once</a></li>
<li class="chapter" data-level="9.1.3" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#shuffling-16-times"><i class="fa fa-check"></i><b>9.1.3</b> Shuffling 16 times</a></li>
<li class="chapter" data-level="9.1.4" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#what-did-we-just-do-2"><i class="fa fa-check"></i><b>9.1.4</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#understanding-ht"><i class="fa fa-check"></i><b>9.2</b> Understanding hypothesis tests</a></li>
<li class="chapter" data-level="9.3" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#ht-infer"><i class="fa fa-check"></i><b>9.3</b> Conducting hypothesis tests</a><ul>
<li class="chapter" data-level="9.3.1" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#infer-workflow-ht"><i class="fa fa-check"></i><b>9.3.1</b> <code>infer</code> package workflow</a></li>
<li class="chapter" data-level="9.3.2" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#comparing-infer-workflows"><i class="fa fa-check"></i><b>9.3.2</b> Comparison with confidence intervals</a></li>
<li class="chapter" data-level="9.3.3" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#only-one-test"><i class="fa fa-check"></i><b>9.3.3</b> “There is only one test”</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#ht-interpretation"><i class="fa fa-check"></i><b>9.4</b> Interpreting hypothesis tests</a><ul>
<li class="chapter" data-level="9.4.1" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#trial"><i class="fa fa-check"></i><b>9.4.1</b> Two possible outcomes</a></li>
<li class="chapter" data-level="9.4.2" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#types-of-errors"><i class="fa fa-check"></i><b>9.4.2</b> Types of errors</a></li>
<li class="chapter" data-level="9.4.3" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#choosing-alpha"><i class="fa fa-check"></i><b>9.4.3</b> How do we choose alpha?</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#ht-case-study"><i class="fa fa-check"></i><b>9.5</b> Case study: Are action or romance movies rated higher?</a><ul>
<li class="chapter" data-level="9.5.1" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#imdb-data"><i class="fa fa-check"></i><b>9.5.1</b> IMDb ratings data</a></li>
<li class="chapter" data-level="9.5.2" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#sampling-scenario-1"><i class="fa fa-check"></i><b>9.5.2</b> Sampling scenario</a></li>
<li class="chapter" data-level="9.5.3" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#conducting-the-hypothesis-test"><i class="fa fa-check"></i><b>9.5.3</b> Conducting the hypothesis test</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#conclusion-6"><i class="fa fa-check"></i><b>9.6</b> Conclusion</a><ul>
<li class="chapter" data-level="9.6.1" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#theory-hypo"><i class="fa fa-check"></i><b>9.6.1</b> Theory-based hypothesis tests</a></li>
<li class="chapter" data-level="9.6.2" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#when-inference-is-not-needed"><i class="fa fa-check"></i><b>9.6.2</b> When inference is not needed</a></li>
<li class="chapter" data-level="9.6.3" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#problems-with-p-values"><i class="fa fa-check"></i><b>9.6.3</b> Problems with p-values</a></li>
<li class="chapter" data-level="9.6.4" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#additional-resources-7"><i class="fa fa-check"></i><b>9.6.4</b> Additional resources</a></li>
<li class="chapter" data-level="9.6.5" data-path="9-hypothesis-testing.html"><a href="9-hypothesis-testing.html#whats-to-come-8"><i class="fa fa-check"></i><b>9.6.5</b> What’s to come</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html"><i class="fa fa-check"></i><b>10</b> Inference for Regression</a><ul>
<li class="chapter" data-level="" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#needed-packages-8"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="10.1" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#regression-refresher"><i class="fa fa-check"></i><b>10.1</b> Regression refresher</a><ul>
<li class="chapter" data-level="10.1.1" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#teaching-evaluations-analysis"><i class="fa fa-check"></i><b>10.1.1</b> Teaching evaluations analysis</a></li>
<li class="chapter" data-level="10.1.2" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#sampling-scenario-2"><i class="fa fa-check"></i><b>10.1.2</b> Sampling scenario</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#regression-interp"><i class="fa fa-check"></i><b>10.2</b> Interpreting regression tables</a><ul>
<li class="chapter" data-level="10.2.1" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#regression-se"><i class="fa fa-check"></i><b>10.2.1</b> Standard error</a></li>
<li class="chapter" data-level="10.2.2" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#regression-test-statistic"><i class="fa fa-check"></i><b>10.2.2</b> Test statistic</a></li>
<li class="chapter" data-level="10.2.3" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#p-value"><i class="fa fa-check"></i><b>10.2.3</b> p-value</a></li>
<li class="chapter" data-level="10.2.4" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#confidence-interval"><i class="fa fa-check"></i><b>10.2.4</b> Confidence interval</a></li>
<li class="chapter" data-level="10.2.5" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#regression-table-computation"><i class="fa fa-check"></i><b>10.2.5</b> How does R compute the table?</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#regression-conditions"><i class="fa fa-check"></i><b>10.3</b> Conditions for inference for regression</a><ul>
<li class="chapter" data-level="10.3.1" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#residuals-refresher"><i class="fa fa-check"></i><b>10.3.1</b> Residuals refresher</a></li>
<li class="chapter" data-level="10.3.2" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#linearity-of-relationship"><i class="fa fa-check"></i><b>10.3.2</b> Linearity of relationship</a></li>
<li class="chapter" data-level="10.3.3" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#independence-of-residuals"><i class="fa fa-check"></i><b>10.3.3</b> Independence of residuals</a></li>
<li class="chapter" data-level="10.3.4" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#normality-of-residuals"><i class="fa fa-check"></i><b>10.3.4</b> Normality of residuals</a></li>
<li class="chapter" data-level="10.3.5" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#equality-of-variance"><i class="fa fa-check"></i><b>10.3.5</b> Equality of variance</a></li>
<li class="chapter" data-level="10.3.6" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#what-is-the-conclusion"><i class="fa fa-check"></i><b>10.3.6</b> What’s the conclusion?</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#infer-regression"><i class="fa fa-check"></i><b>10.4</b> Simulation-based inference for regression</a><ul>
<li class="chapter" data-level="10.4.1" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#confidence-interval-for-slope"><i class="fa fa-check"></i><b>10.4.1</b> Confidence interval for slope</a></li>
<li class="chapter" data-level="10.4.2" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#hypothesis-test-for-slope"><i class="fa fa-check"></i><b>10.4.2</b> Hypothesis test for slope</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#conclusion-7"><i class="fa fa-check"></i><b>10.5</b> Conclusion</a><ul>
<li class="chapter" data-level="10.5.1" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#theory-regression"><i class="fa fa-check"></i><b>10.5.1</b> Theory-based inference for regression</a></li>
<li class="chapter" data-level="10.5.2" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#summary-of-statistical-inference"><i class="fa fa-check"></i><b>10.5.2</b> Summary of statistical inference</a></li>
<li class="chapter" data-level="10.5.3" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#additional-resources-8"><i class="fa fa-check"></i><b>10.5.3</b> Additional resources</a></li>
<li class="chapter" data-level="10.5.4" data-path="10-inference-for-regression.html"><a href="10-inference-for-regression.html#whats-to-come-9"><i class="fa fa-check"></i><b>10.5.4</b> What’s to come</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Conclusion</b></span></li>
<li class="chapter" data-level="11" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html"><i class="fa fa-check"></i><b>11</b> Tell Your Story with Data</a><ul>
<li class="chapter" data-level="11.1" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#review"><i class="fa fa-check"></i><b>11.1</b> Review</a><ul>
<li class="chapter" data-level="" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#needed-packages-9"><i class="fa fa-check"></i>Needed packages</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#seattle-house-prices"><i class="fa fa-check"></i><b>11.2</b> Case study: Seattle house prices</a><ul>
<li class="chapter" data-level="11.2.1" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#house-prices-EDA-I"><i class="fa fa-check"></i><b>11.2.1</b> Exploratory data analysis: Part I</a></li>
<li class="chapter" data-level="11.2.2" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#house-prices-EDA-II"><i class="fa fa-check"></i><b>11.2.2</b> Exploratory data analysis: Part II</a></li>
<li class="chapter" data-level="11.2.3" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#house-prices-regression"><i class="fa fa-check"></i><b>11.2.3</b> Regression modeling</a></li>
<li class="chapter" data-level="11.2.4" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#house-prices-making-predictions"><i class="fa fa-check"></i><b>11.2.4</b> Making predictions</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#data-journalism"><i class="fa fa-check"></i><b>11.3</b> Case study: Effective data storytelling</a><ul>
<li class="chapter" data-level="11.3.1" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#bechdel-test-for-hollywood-gender-representation"><i class="fa fa-check"></i><b>11.3.1</b> Bechdel test for Hollywood gender representation</a></li>
<li class="chapter" data-level="11.3.2" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#us-births-in-1999"><i class="fa fa-check"></i><b>11.3.2</b> US Births in 1999</a></li>
<li class="chapter" data-level="11.3.3" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#scripts-of-r-code"><i class="fa fa-check"></i><b>11.3.3</b> Scripts of R code</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="11-thinking-with-data.html"><a href="11-thinking-with-data.html#concluding-remarks"><i class="fa fa-check"></i>Concluding remarks</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="A-appendixA.html"><a href="A-appendixA.html"><i class="fa fa-check"></i><b>A</b> Statistical Background</a><ul>
<li class="chapter" data-level="A.1" data-path="A-appendixA.html"><a href="A-appendixA.html#appendix-stat-terms"><i class="fa fa-check"></i><b>A.1</b> Basic statistical terms</a><ul>
<li class="chapter" data-level="A.1.1" data-path="A-appendixA.html"><a href="A-appendixA.html#mean"><i class="fa fa-check"></i><b>A.1.1</b> Mean</a></li>
<li class="chapter" data-level="A.1.2" data-path="A-appendixA.html"><a href="A-appendixA.html#median"><i class="fa fa-check"></i><b>A.1.2</b> Median</a></li>
<li class="chapter" data-level="A.1.3" data-path="A-appendixA.html"><a href="A-appendixA.html#standard-deviation"><i class="fa fa-check"></i><b>A.1.3</b> Standard deviation</a></li>
<li class="chapter" data-level="A.1.4" data-path="A-appendixA.html"><a href="A-appendixA.html#five-number-summary"><i class="fa fa-check"></i><b>A.1.4</b> Five-number summary</a></li>
<li class="chapter" data-level="A.1.5" data-path="A-appendixA.html"><a href="A-appendixA.html#distribution"><i class="fa fa-check"></i><b>A.1.5</b> Distribution</a></li>
<li class="chapter" data-level="A.1.6" data-path="A-appendixA.html"><a href="A-appendixA.html#outliers"><i class="fa fa-check"></i><b>A.1.6</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="A-appendixA.html"><a href="A-appendixA.html#appendix-normal-curve"><i class="fa fa-check"></i><b>A.2</b> Normal distribution</a></li>
<li class="chapter" data-level="A.3" data-path="A-appendixA.html"><a href="A-appendixA.html#appendix-log10-transformations"><i class="fa fa-check"></i><b>A.3</b> log10 transformations</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="B-appendixB.html"><a href="B-appendixB.html"><i class="fa fa-check"></i><b>B</b> Inference Examples</a><ul>
<li class="chapter" data-level="" data-path="B-appendixB.html"><a href="B-appendixB.html#needed-packages-10"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="B.1" data-path="B-appendixB.html"><a href="B-appendixB.html#inference-mind-map"><i class="fa fa-check"></i><b>B.1</b> Inference mind map</a></li>
<li class="chapter" data-level="B.2" data-path="B-appendixB.html"><a href="B-appendixB.html#one-mean"><i class="fa fa-check"></i><b>B.2</b> One mean</a><ul>
<li class="chapter" data-level="B.2.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement"><i class="fa fa-check"></i><b>B.2.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.2.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses"><i class="fa fa-check"></i><b>B.2.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.2.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data"><i class="fa fa-check"></i><b>B.2.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.2.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods"><i class="fa fa-check"></i><b>B.2.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.2.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods"><i class="fa fa-check"></i><b>B.2.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.2.6" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results"><i class="fa fa-check"></i><b>B.2.6</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.3" data-path="B-appendixB.html"><a href="B-appendixB.html#one-proportion"><i class="fa fa-check"></i><b>B.3</b> One proportion</a><ul>
<li class="chapter" data-level="B.3.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-1"><i class="fa fa-check"></i><b>B.3.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.3.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-1"><i class="fa fa-check"></i><b>B.3.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.3.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-1"><i class="fa fa-check"></i><b>B.3.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.3.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-1"><i class="fa fa-check"></i><b>B.3.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.3.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-1"><i class="fa fa-check"></i><b>B.3.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.3.6" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-1"><i class="fa fa-check"></i><b>B.3.6</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.4" data-path="B-appendixB.html"><a href="B-appendixB.html#two-proportions"><i class="fa fa-check"></i><b>B.4</b> Two proportions</a><ul>
<li class="chapter" data-level="B.4.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-2"><i class="fa fa-check"></i><b>B.4.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.4.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-2"><i class="fa fa-check"></i><b>B.4.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.4.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-2"><i class="fa fa-check"></i><b>B.4.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.4.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-2"><i class="fa fa-check"></i><b>B.4.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.4.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-2"><i class="fa fa-check"></i><b>B.4.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.4.6" data-path="B-appendixB.html"><a href="B-appendixB.html#check-conditions-2"><i class="fa fa-check"></i><b>B.4.6</b> Check conditions</a></li>
<li class="chapter" data-level="B.4.7" data-path="B-appendixB.html"><a href="B-appendixB.html#test-statistic-2"><i class="fa fa-check"></i><b>B.4.7</b> Test statistic</a></li>
<li class="chapter" data-level="B.4.8" data-path="B-appendixB.html"><a href="B-appendixB.html#state-conclusion-2"><i class="fa fa-check"></i><b>B.4.8</b> State conclusion</a></li>
<li class="chapter" data-level="B.4.9" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-2"><i class="fa fa-check"></i><b>B.4.9</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.5" data-path="B-appendixB.html"><a href="B-appendixB.html#two-means-independent-samples"><i class="fa fa-check"></i><b>B.5</b> Two means (independent samples)</a><ul>
<li class="chapter" data-level="B.5.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-3"><i class="fa fa-check"></i><b>B.5.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.5.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-3"><i class="fa fa-check"></i><b>B.5.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.5.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-3"><i class="fa fa-check"></i><b>B.5.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.5.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-3"><i class="fa fa-check"></i><b>B.5.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.5.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-3"><i class="fa fa-check"></i><b>B.5.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.5.6" data-path="B-appendixB.html"><a href="B-appendixB.html#test-statistic-3"><i class="fa fa-check"></i><b>B.5.6</b> Test statistic</a></li>
<li class="chapter" data-level="B.5.7" data-path="B-appendixB.html"><a href="B-appendixB.html#compute-p-value-1"><i class="fa fa-check"></i><b>B.5.7</b> Compute <span class="math inline">\(p\)</span>-value</a></li>
<li class="chapter" data-level="B.5.8" data-path="B-appendixB.html"><a href="B-appendixB.html#state-conclusion-3"><i class="fa fa-check"></i><b>B.5.8</b> State conclusion</a></li>
<li class="chapter" data-level="B.5.9" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-3"><i class="fa fa-check"></i><b>B.5.9</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.6" data-path="B-appendixB.html"><a href="B-appendixB.html#two-means-paired-samples"><i class="fa fa-check"></i><b>B.6</b> Two means (paired samples)</a><ul>
<li class="chapter" data-level="B.6.1" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-4"><i class="fa fa-check"></i><b>B.6.1</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.6.2" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-4"><i class="fa fa-check"></i><b>B.6.2</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.6.3" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-4"><i class="fa fa-check"></i><b>B.6.3</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.6.4" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-4"><i class="fa fa-check"></i><b>B.6.4</b> Traditional methods</a></li>
<li class="chapter" data-level="B.6.5" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-4"><i class="fa fa-check"></i><b>B.6.5</b> Comparing results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="C" data-path="C-appendixC.html"><a href="C-appendixC.html"><i class="fa fa-check"></i><b>C</b> Reach for the Stars</a><ul>
<li class="chapter" data-level="" data-path="C-appendixC.html"><a href="C-appendixC.html#needed-packages-11"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="C.1" data-path="C-appendixC.html"><a href="C-appendixC.html#sorted-barplots"><i class="fa fa-check"></i><b>C.1</b> Sorted barplots</a></li>
<li class="chapter" data-level="C.2" data-path="C-appendixC.html"><a href="C-appendixC.html#interactive-graphics"><i class="fa fa-check"></i><b>C.2</b> Interactive graphics</a><ul>
<li class="chapter" data-level="C.2.1" data-path="C-appendixC.html"><a href="C-appendixC.html#interactive-linegraphs"><i class="fa fa-check"></i><b>C.2.1</b> Interactive linegraphs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="D" data-path="D-appendixD.html"><a href="D-appendixD.html"><i class="fa fa-check"></i><b>D</b> Learning Check Solutions</a><ul>
<li class="chapter" data-level="D.1" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-1-solutions"><i class="fa fa-check"></i><b>D.1</b> Chapter 1 Solutions</a></li>
<li class="chapter" data-level="D.2" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-2-solutions"><i class="fa fa-check"></i><b>D.2</b> Chapter 2 Solutions</a></li>
<li class="chapter" data-level="D.3" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-3-solutions"><i class="fa fa-check"></i><b>D.3</b> Chapter 3 Solutions</a></li>
<li class="chapter" data-level="D.4" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-4-solutions"><i class="fa fa-check"></i><b>D.4</b> Chapter 4 Solutions</a></li>
<li class="chapter" data-level="D.5" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-5-solutions"><i class="fa fa-check"></i><b>D.5</b> Chapter 5 Solutions</a></li>
<li class="chapter" data-level="D.6" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-6-solutions"><i class="fa fa-check"></i><b>D.6</b> Chapter 6 Solutions</a></li>
<li class="chapter" data-level="D.7" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-7-solutions"><i class="fa fa-check"></i><b>D.7</b> Chapter 7 Solutions</a></li>
<li class="chapter" data-level="D.8" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-8-solutions"><i class="fa fa-check"></i><b>D.8</b> Chapter 8 Solutions</a></li>
<li class="chapter" data-level="D.9" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-9-solutions"><i class="fa fa-check"></i><b>D.9</b> Chapter 9 Solutions</a></li>
<li class="chapter" data-level="D.10" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-10-solutions"><i class="fa fa-check"></i><b>D.10</b> Chapter 10 Solutions</a></li>
<li class="chapter" data-level="D.11" data-path="D-appendixD.html"><a href="D-appendixD.html#chapter-11-solutions"><i class="fa fa-check"></i><b>D.11</b> Chapter 11 Solutions</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="E-appendixE.html"><a href="E-appendixE.html"><i class="fa fa-check"></i><b>E</b> Versions of R Packages Used</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Statistical Inference via Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<html>
<img src='https://moderndive.com/wide_format.png' alt="ModernDive">
</html>
<div id="appendixD" class="section level1">
<h1><span class="header-section-number">D</span> Learning Check Solutions</h1>
<!-- Albert will make sure the exercises here match up with exercises in the
reordering of the book. -->
<div id="chapter-1-solutions" class="section level2">
<h2><span class="header-section-number">D.1</span> Chapter 1 Solutions</h2>
<div class="sourceCode" id="cb572"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb572-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb572-2" data-line-number="2"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb572-3" data-line-number="3"><span class="kw">library</span>(nycflights13)</a></code></pre></div>
<p><strong>(LC1.1)</strong> Repeat the above installing steps, but for the <code>dplyr</code>, <code>nycflights13</code>, and <code>knitr</code> packages. This will install the earlier mentioned <code>dplyr</code> package, the <code>nycflights13</code> package containing data on all domestic flights leaving a NYC airport in 2013, and the <code>knitr</code> package for writing reports in R.</p>
<p><strong>(LC1.2)</strong> “Load” the <code>dplyr</code>, <code>nycflights13</code>, and <code>knitr</code> packages as well by repeating the above steps.</p>
<p><strong>Solution</strong>: If the following code runs with no errors, you’ve succeeded!</p>
<div class="sourceCode" id="cb573"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb573-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb573-2" data-line-number="2"><span class="kw">library</span>(nycflights13)</a>
<a class="sourceLine" id="cb573-3" data-line-number="3"><span class="kw">library</span>(knitr)</a></code></pre></div>
<p><strong>(LC1.3)</strong> What does any <em>ONE</em> row in this <code>flights</code> dataset refer to?</p>
<ul>
<li>A. Data on an airline</li>
<li>B. Data on a flight</li>
<li>C. Data on an airport</li>
<li>D. Data on multiple flights</li>
</ul>
<p><strong>Solution</strong>: This is data on a flight. Not a flight path! Example:</p>
<ul>
<li>a flight path would be United 1545 to Houston</li>
<li>a flight would be United 1545 to Houston at a specific date/time. For example: 2013/1/1 at 5:15am.</li>
</ul>
<p><strong>(LC1.4)</strong> What are some examples in this dataset of <strong>categorical</strong> variables? What makes them different than <strong>quantitative</strong> variables?</p>
<p><strong>Solution</strong>: Hint: Type <code>?flights</code> in the console to see what all the variables mean!</p>
<ul>
<li>Categorical:
<ul>
<li><code>carrier</code> the company</li>
<li><code>dest</code> the destination</li>
<li><code>flight</code> the flight number. Even though this is a number, its simply a label. Example United 1545 is not less than United 1714</li>
</ul></li>
<li>Quantitative:
<ul>
<li><code>distance</code> the distance in miles</li>
<li><code>time_hour</code> time</li>
</ul></li>
</ul>
<p><strong>(LC1.5)</strong> What properties of the observational unit do each of <code>lat</code>, <code>lon</code>, <code>alt</code>, <code>tz</code>, <code>dst</code>, and <code>tzone</code> describe for the <code>airports</code> data frame? Note that you may want to use <code>?airports</code> to get more information.</p>
<p><strong>Solution</strong>: <code>lat</code> <code>long</code> represent the airport geographic coordinates, <code>alt</code> is the altitude above sea level of the airport (Run <code>airports %&gt;% filter(faa == &quot;DEN&quot;)</code> to see the altitude of Denver International Airport), <code>tz</code> is the time zone difference with respect to GMT in London UK, <code>dst</code> is the daylight savings time zone, and <code>tzone</code> is the time zone label.</p>
<p><strong>(LC1.6)</strong> Provide the names of variables in a data frame with at least three variables in which one of them is an identification variable and the other two are not. In other words, create your own tidy dataset that matches these conditions.</p>
<p><strong>Solution</strong>:</p>
<ul>
<li>In the <code>weather</code> example in LC2.8, the combination of <code>origin</code>, <code>year</code>, <code>month</code>, <code>day</code>, <code>hour</code> are identification variables as they identify the observation in question.</li>
<li>Anything else pertains to observations: <code>temp</code>, <code>humid</code>, <code>wind_speed</code>, etc.</li>
</ul>
<hr />
</div>
<div id="chapter-2-solutions" class="section level2">
<h2><span class="header-section-number">D.2</span> Chapter 2 Solutions</h2>
<div class="sourceCode" id="cb574"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb574-1" data-line-number="1"><span class="kw">library</span>(nycflights13)</a>
<a class="sourceLine" id="cb574-2" data-line-number="2"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb574-3" data-line-number="3"><span class="kw">library</span>(dplyr)</a></code></pre></div>
<p><strong>(LC2.1)</strong> Take a look at both the <code>flights</code> and <code>alaska_flights</code> data frames by running <code>View(flights)</code> and <code>View(alaska_flights)</code> in the console. In what respect do these data frames differ? For example, think about the number of rows in each dataset.</p>
<p><strong>Solution</strong>: <code>flights</code> contains all flight data, while <code>alaska_flights</code> contains only data from Alaskan carrier “AS”. We can see that flights has 336776 rows while <code>alaska_flights</code> has only 714</p>
<p><strong>(LC2.2)</strong> What are some practical reasons why <code>dep_delay</code> and <code>arr_delay</code> have a positive relationship?</p>
<p><strong>Solution</strong>: The later a plane departs, typically the later it will arrive.</p>
<p><strong>(LC2.3)</strong> What variables in the <code>weather</code> data frame would you expect to have a negative correlation (i.e. a negative relationship) with <code>dep_delay</code>? Why? Remember that we are focusing on numerical variables here. Hint: Explore the <code>weather</code> dataset by using the <code>View()</code> function.</p>
<p><strong>Solution</strong>: An example in the <code>weather</code> dataset is <code>visibility</code>, which measure visibility in miles. As visibility increases, we would expect departure delays to decrease.</p>
<p><strong>(LC2.4)</strong> Why do you believe there is a cluster of points near (0, 0)? What does (0, 0) correspond to in terms of the Alaskan flights?</p>
<p><strong>Solution</strong>: The point (0,0) means no delay in departure nor arrival. From the point of view of Alaska airlines, this means the flight was on time. It seems most flights are at least close to being on time.</p>
<p><strong>(LC2.5)</strong> What are some other features of the plot that stand out to you?</p>
<p><strong>Solution</strong>: Different people will answer this one differently. One answer is most flights depart and arrive less than an hour late.</p>
<p><strong>(LC2.6)</strong> Create a new scatterplot using different variables in the <code>alaska_flights</code> data frame by modifying the example above.</p>
<p><strong>Solution</strong>: Many possibilities for this one, see the plot below. Is there a pattern in departure delay depending on when the flight is scheduled to depart? Interestingly, there seems to be only two blocks of time where flights depart.</p>
<div class="sourceCode" id="cb575"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb575-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> alaska_flights, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> dep_time, <span class="dt">y =</span> dep_delay)) <span class="op">+</span></a>
<a class="sourceLine" id="cb575-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p><img src="ModernDive_files/figure-html/unnamed-chunk-553-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p><strong>(LC2.7)</strong> Why is setting the <code>alpha</code> argument value useful with scatterplots? What further information does it give you that a regular scatterplot cannot?</p>
<p><strong>Solution</strong>: It thins out the points so we address overplotting. But more importantly it hints at the (statistical) <strong>density</strong> and <strong>distribution</strong> of the points: where are the points concentrated, where do they occur.</p>
<p><strong>(LC2.8)</strong> After viewing the Figure <a href="2-viz.html#fig:alpha">2.4</a> above, give an approximate range of arrival delays and departure delays that occur the most frequently. How has that region changed compared to when you observed the same plot without the <code>alpha = 0.2</code> set in Figure <a href="2-viz.html#fig:noalpha">2.2</a>?</p>
<p><strong>Solution</strong>: The lower plot suggests that most Alaska flights from NYC depart between 12 minutes early and on time and arrive between 50 minutes early and on time.</p>
<p><strong>(LC2.9)</strong> Take a look at both the <code>weather</code> and <code>early_january_weather</code> data frames by running <code>View(weather)</code> and <code>View(early_january_weather)</code> in the console. In what respect do these data frames differ?</p>
<p><strong>Solution</strong>: <em>The rows of <code>early_january_weather</code> are a subset of <code>weather</code>.</em></p>
<p><strong>(LC2.10)</strong> <code>View()</code> the <code>flights</code> data frame again. Why does the <code>time_hour</code> variable uniquely identify the hour of the measurement whereas the <code>hour</code> variable does not?</p>
<p><strong>Solution</strong>: Because to uniquely identify an hour, we need the <code>year</code>/<code>month</code>/<code>day</code>/<code>hour</code> sequence, whereas there are only 24 possible <code>hour</code>’s.</p>
<p><strong>(LC2.11)</strong> Why should linegraphs be avoided when there is not a clear ordering of the horizontal axis?</p>
<p><strong>Solution</strong>: Because lines suggest connectedness and ordering.</p>
<p><strong>(LC2.12)</strong> Why are linegraphs frequently used when time is the explanatory variable?</p>
<p><strong>Solution</strong>: Because time is sequential: subsequent observations are closely related to each other.</p>
<p><strong>(LC2.13)</strong> Plot a time series of a variable other than <code>temp</code> for Newark Airport in the first 15 days of January 2013.</p>
<p><strong>Solution</strong>: Humidity is a good one to look at, since this very closely related to the cycles of a day.</p>
<div class="sourceCode" id="cb576"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb576-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> early_january_weather, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> time_hour, <span class="dt">y =</span> humid)) <span class="op">+</span></a>
<a class="sourceLine" id="cb576-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_line</span>()</a></code></pre></div>
<p><img src="ModernDive_files/figure-html/unnamed-chunk-554-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p><strong>(LC2.14)</strong> What does changing the number of bins from 30 to 40 tell us about the distribution of temperatures?</p>
<p><strong>Solution</strong>: The distribution doesn’t change much. But by refining the bin width, we see that the temperature data has a high degree of accuracy. What do I mean by accuracy? Looking at the <code>temp</code> variable by <code>View(weather)</code>, we see that the precision of each temperature recording is 2 decimal places.</p>
<p><strong>(LC2.15)</strong> Would you classify the distribution of temperatures as symmetric or skewed?</p>
<p><strong>Solution</strong>: It is rather symmetric, i.e. there are no <strong>long tails</strong> on only one side of the distribution</p>
<p><strong>(LC2.16)</strong> What would you guess is the “center” value in this distribution? Why did you make that choice?</p>
<p><strong>Solution</strong>: The center is around 55.26°F. By running the <code>summary()</code> command, we see that the mean and median are very similar. In fact, when the distribution is symmetric the mean equals the median.</p>
<p><strong>(LC2.17)</strong> Is this data spread out greatly from the center or is it close? Why?</p>
<p><strong>Solution</strong>: This can only be answered relatively speaking! Let’s pick things to be relative to Seattle, WA temperatures:</p>
<div class="figure" style="text-align: center"><span id="fig:SEATAC"></span>
<img src="images/SEATAC_temperatures.png" alt="Annual temperatures at SEATAC Airport." width="40%" />
<p class="caption">
FIGURE D.1: Annual temperatures at SEATAC Airport.
</p>
</div>
<p>While, it appears that Seattle weather has a similar center of 55°F, its
temperatures are almost entirely between 35°F and 75°F for a range of
about 40°F. Seattle temperatures are much less spread out than New York
i.e. much more consistent over the year. New York on the other hand has much colder
days in the winter and much hotter days in the summer. Expressed differently,
the middle 50% of values, as delineated by the interquartile range is 30°F:</p>
<p><strong>(LC2.18)</strong> What other things do you notice about the faceted plot above? How does a faceted plot help us see relationships between two variables?</p>
<p><strong>Solution</strong>:</p>
<ul>
<li>Certain months have much more consistent weather (August in particular), while others have crazy variability like January and October, representing changes in the seasons.</li>
<li>Because we see <code>temp</code> recordings split by <code>month</code>, we are considering the relationship between these two variables. For example, for summer months, temperatures tend to be higher.
<strong>(LC2.19)</strong> What do the numbers 1-12 correspond to in the plot above? What about 25, 50, 75, 100?</li>
</ul>
<p><strong>Solution</strong>:</p>
<ul>
<li>They correspond to the month of the flight. While month is technically a number between 1-12, we’re viewing it as a categorical variable here. Specifically, this is an <strong>ordinal categorical</strong> variable since there is an ordering to the categories.</li>
<li>25, 50, 75, 100 are temperatures</li>
</ul>
<p><strong>(LC2.20)</strong> For which types of datasets would these types of faceted plots not work well in comparing relationships between variables? Give an example describing the nature of these variables and other important characteristics.</p>
<p><strong>Solution</strong>:</p>
<ul>
<li>It would not work if we had a very large number of facets. For example, if we faceted by individual days rather than months, as we would have 365 facets to look at. When considering all days in 2013, it could be argued that we shouldn’t care about day-to-day fluctuation in weather so much, but rather month-to-month fluctuations, allowing us to focus on seasonal trends.</li>
</ul>
<p><strong>(LC2.21)</strong> Does the <code>temp</code> variable in the <code>weather</code> dataset have a lot of variability? Why do you say that?</p>
<p><strong>Solution</strong>: Again, like in LC (LC2.17), this is a relative question. I would say yes, because in New York City, you have 4 clear seasons with different weather. Whereas in Seattle WA and Portland OR, you have two seasons: summer and rain!</p>
<p><strong>(LC2.22)</strong> What does the dot at the bottom of the plot for May correspond to? Explain what might have occurred in May to produce this point.</p>
<p><strong>Solution</strong>: It appears to be an outlier. Let’s revisit the use of the <code>filter</code> command to hone in on it. We want all data points where the <code>month</code> is 5 and <code>temp&lt;25</code></p>
<div class="sourceCode" id="cb577"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb577-1" data-line-number="1">weather <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb577-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(month <span class="op">==</span><span class="st"> </span><span class="dv">5</span> <span class="op">&amp;</span><span class="st"> </span>temp <span class="op">&lt;</span><span class="st"> </span><span class="dv">25</span>)</a></code></pre></div>
<pre><code># A tibble: 1 x 16
  origin  year month   day  hour  temp  dewp humid wind_dir wind_speed wind_gust
  &lt;chr&gt;  &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;
1 JFK     2013     5     8    22  13.1 12.02 95.34       80    8.05546        NA
# … with 5 more variables: precip &lt;dbl&gt;, pressure &lt;dbl&gt;, visib &lt;dbl&gt;,
#   time_hour &lt;dttm&gt;, temp_in_C &lt;dbl&gt;</code></pre>
<p>There appears to be only one hour and only at JFK that recorded 13.1 F (-10.5 C) in the month of May. This is probably a data entry mistake! Why wasn’t the weather at least similar at EWR (Newark) and LGA (LaGuardia)?</p>
<p><strong>(LC2.23)</strong> Which months have the highest variability in temperature? What reasons do you think this is?</p>
<p><strong>Solution</strong>: We are now interested in the <strong>spread</strong> of the data. One measure some of you may have seen previously is the standard deviation. But in this plot we can read off the Interquartile Range (IQR):</p>
<ul>
<li>The distance from the 1st to the 3rd quartiles i.e. the length of the boxes</li>
<li>You can also think of this as the spread of the <strong>middle 50%</strong> of the data</li>
</ul>
<p>Just from eyeballing it, it seems</p>
<ul>
<li>November has the biggest IQR, i.e. the widest box, so has the most variation in temperature</li>
<li>August has the smallest IQR, i.e. the narrowest box, so is the most consistent temperature-wise</li>
</ul>
<p>Here’s how we compute the exact IQR values for each month (we’ll see this more in depth Chapter <a href="3-wrangling.html#wrangling">3</a> of the text):</p>
<ol style="list-style-type: decimal">
<li><code>group</code> the observations by <code>month</code> then</li>
<li>for each <code>group</code>, i.e. <code>month</code>, <code>summarize</code> it by applying the summary statistic function <code>IQR()</code>, while making sure to skip over missing data via <code>na.rm=TRUE</code> then</li>
<li><code>arrange</code> the table in <code>desc</code>ending order of <code>IQR</code></li>
</ol>
<div class="sourceCode" id="cb579"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb579-1" data-line-number="1">weather <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb579-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(month) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb579-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">IQR =</span> <span class="kw">IQR</span>(temp, <span class="dt">na.rm=</span><span class="ot">TRUE</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb579-4" data-line-number="4"><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(IQR))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
month
</th>
<th style="text-align:right;">
IQR
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
16.02
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
14.04
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
13.77
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
12.06
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
12.06
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
11.88
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
10.98
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
10.98
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
10.08
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
9.18
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
9.00
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
7.02
</td>
</tr>
</tbody>
</table>
<p><strong>(LC2.24)</strong> We looked at the distribution of the numerical variable <code>temp</code> split by the numerical variable <code>month</code> that we converted to a categorical variable using the <code>factor()</code> function. Why would a boxplot of <code>temp</code> split by the numerical variable <code>pressure</code> similarly converted to a categorical variable using the <code>factor()</code> not be informative?</p>
<p><strong>Solution</strong>: Because there are 12 unique values of <code>month</code> yielding only 12 boxes in our boxplot. There are many more unique values of <code>pressure</code> (469 unique values in fact), because values are to the first decimal place. This would lead to 469 boxes, which is too many for people to digest.</p>
<p><strong>(LC2.25)</strong> Boxplots provide a simple way to identify outliers. Why may outliers be easier to identify when looking at a boxplot instead of a faceted histogram?</p>
<p><strong>Solution</strong>: In a histogram, the bin corresponding to where an outlier lies may not by high enough for us to see. In a boxplot, they are explicitly labelled separately.</p>
<p><strong>(LC2.26)</strong> Why are histograms inappropriate for visualizing categorical variables?</p>
<p><strong>Solution</strong>: Histograms are for numerical variables i.e. the horizontal part of each histogram bar represents an interval, whereas for a categorical variable each bar represents only one level of the categorical variable.</p>
<p><strong>(LC2.27)</strong> What is the difference between histograms and barplots?</p>
<p><strong>Solution</strong>: See above.</p>
<p><strong>(LC2.28)</strong> How many Envoy Air flights departed NYC in 2013?</p>
<p><strong>Solution</strong>: Envoy Air is carrier code <code>MQ</code> and thus 26397 flights departed NYC in 2013.</p>
<p><strong>(LC2.29)</strong> What was the seventh highest airline in terms of departed flights from NYC in 2013? How could we better present the table to get this answer quickly?</p>
<p><strong>Solution</strong>: The answer is US, AKA U.S. Airways, with 20536 flights. However, picking out the seventh highest airline when the rows are sorted alphabetically by carrier code is difficult. This would be easier to do if the rows were sorted by number. We’ll learn how to do this in Chapter <a href="3-wrangling.html#wrangling">3</a> on data wrangling.</p>
<p><strong>(LC2.30)</strong> Why should pie charts be avoided and replaced by barplots?</p>
<p><strong>Solution</strong>: In our <strong>opinion</strong>, comparisons using horizontal lines are easier than comparing angles and areas of circles.</p>
<p><strong>(LC2.31)</strong> What is your opinion as to why pie charts continue to be used?</p>
<p><strong>Solution</strong>: In our <strong>opinion</strong>, pie charts are generally considered as a poorer method for communicating data than bar charts. People’s brains are not as good at comparing the size of angles because there is no scale, and in comparison, it is much easier to compare the heights of bars in a bar charts. However, in some circumstances, for example, when representing 25% and 75% of a sample size, if we have 2 bars, in which the higher one is three times in height of the other one, it is difficult to tell the scale of their comparison without labels. But in a bar chart, it would be easy to compare if a circle is divided by 75% and 25%. (Read more at: <a href="https://www.displayr.com/why-pie-charts-are-better-than-bar-charts/" class="uri">https://www.displayr.com/why-pie-charts-are-better-than-bar-charts/</a>)</p>
<p><strong>(LC2.32)</strong> What kinds of questions are not easily answered by looking at the above figure?</p>
<p><strong>Solution</strong>: Because the red, green, and blue bars don’t all start at 0 (only red does), it makes comparing counts hard.</p>
<p><strong>(LC2.33)</strong> What can you say, if anything, about the relationship between airline and airport in NYC in 2013 in regards to the number of departing flights?</p>
<p><strong>Solution</strong>: The different airlines prefer different airports. For example, United is mostly a Newark carrier and JetBlue is a JFK carrier. If airlines didn’t prefer airports, each color would be roughly one third of each bar.}</p>
<p><strong>(LC2.34)</strong> Why might the side-by-side (AKA dodged) barplot be preferable to a stacked barplot in this case?</p>
<p><strong>Solution</strong>: We can easily compare the different airports for a given carrier using a single comparison line i.e. things are lined up</p>
<p><strong>(LC2.35)</strong> What are the disadvantages of using a side-by-side (AKA dodged) barplot, in general?</p>
<p><strong>Solution</strong>: It is hard to get totals for each airline.</p>
<p><strong>(LC2.36)</strong> Why is the faceted barplot preferred to the side-by-side and stacked barplots in this case?</p>
<p><strong>Solution</strong>: Not that different than using side-by-side; depends on how you want to organize your presentation.</p>
<p><strong>(LC2.37)</strong> What information about the different carriers at different airports is more easily seen in the faceted barplot?</p>
<p><strong>Solution</strong>: Now we can also compare the different carriers <strong>within</strong> a particular airport easily too. For example, we can read off who the top carrier for each airport is easily using a single horizontal line.</p>
<hr />
</div>
<div id="chapter-3-solutions" class="section level2">
<h2><span class="header-section-number">D.3</span> Chapter 3 Solutions</h2>
<div class="sourceCode" id="cb580"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb580-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb580-2" data-line-number="2"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb580-3" data-line-number="3"><span class="kw">library</span>(nycflights13)</a></code></pre></div>
<p><strong>(LC3.1)</strong> What’s another way using the “not” operator <code>!</code> to filter only the rows that are not going to Burlington, VT nor Seattle, WA in the <code>flights</code> data frame? Test this out using the code above.</p>
<p><strong>Solution</strong>:</p>
<div class="sourceCode" id="cb581"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb581-1" data-line-number="1"><span class="co"># Original in book</span></a>
<a class="sourceLine" id="cb581-2" data-line-number="2">not_BTV_SEA &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb581-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span>(dest <span class="op">==</span><span class="st"> &quot;BTV&quot;</span> <span class="op">|</span><span class="st"> </span>dest <span class="op">==</span><span class="st"> &quot;SEA&quot;</span>))</a>
<a class="sourceLine" id="cb581-4" data-line-number="4"></a>
<a class="sourceLine" id="cb581-5" data-line-number="5"><span class="co"># Alternative way</span></a>
<a class="sourceLine" id="cb581-6" data-line-number="6">not_BTV_SEA &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb581-7" data-line-number="7"><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span>dest <span class="op">==</span><span class="st"> &quot;BTV&quot;</span> <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span>dest <span class="op">==</span><span class="st"> &quot;SEA&quot;</span>)</a>
<a class="sourceLine" id="cb581-8" data-line-number="8"></a>
<a class="sourceLine" id="cb581-9" data-line-number="9"><span class="co"># Yet another way</span></a>
<a class="sourceLine" id="cb581-10" data-line-number="10">not_BTV_SEA &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb581-11" data-line-number="11"><span class="st">  </span><span class="kw">filter</span>(dest <span class="op">!=</span><span class="st"> &quot;BTV&quot;</span> <span class="op">&amp;</span><span class="st"> </span>dest <span class="op">!=</span><span class="st"> &quot;SEA&quot;</span>)</a></code></pre></div>
<p><strong>(LC3.2)</strong> Say a doctor is studying the effect of smoking on lung cancer for a large number of patients who have records measured at five year intervals. She notices that a large number of patients have missing data points because the patient has died, so she chooses to ignore these patients in her analysis. What is wrong with this doctor’s approach?</p>
<p><strong>Solution</strong>: The missing patients may have died of lung cancer! So to ignore them might seriously <strong>bias</strong> your results! It is very important to think of what the consequences on your analysis are of ignoring missing data! Ask yourself:</p>
<ul>
<li>There is a systematic reasons why certain values are missing? If so, you might be biasing your results!</li>
<li>If there isn’t, then it might be ok to “sweep missing values under the rug.”</li>
</ul>
<p><strong>(LC3.3)</strong> Modify the above <code>summarize</code> function to create <code>summary_temp</code> to also use the <code>n()</code> summary function: <code>summarize(count = n())</code>. What does the returned value correspond to?</p>
<p><strong>Solution</strong>: It corresponds to a count of the number of observations/rows:</p>
<div class="sourceCode" id="cb582"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb582-1" data-line-number="1">weather <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb582-2" data-line-number="2"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">count =</span> <span class="kw">n</span>())</a></code></pre></div>
<pre><code># A tibble: 1 x 1
  count
  &lt;int&gt;
1 26115</code></pre>
<p><strong>(LC3.4)</strong> Why doesn’t the following code work? Run the code line by line instead of all at once, and then look at the data. In other words, run <code>summary_temp &lt;- weather %&gt;% summarize(mean = mean(temp, na.rm = TRUE))</code> first.</p>
<div class="sourceCode" id="cb584"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb584-1" data-line-number="1">summary_temp &lt;-<span class="st"> </span>weather <span class="op">%&gt;%</span><span class="st">   </span></a>
<a class="sourceLine" id="cb584-2" data-line-number="2"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb584-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">std_dev =</span> <span class="kw">sd</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</a></code></pre></div>
<p><strong>Solution</strong>: Consider the output of only running the first two lines:</p>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb585-1" data-line-number="1">weather <span class="op">%&gt;%</span><span class="st">   </span></a>
<a class="sourceLine" id="cb585-2" data-line-number="2"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</a></code></pre></div>
<pre><code># A tibble: 1 x 1
     mean
    &lt;dbl&gt;
1 55.2604</code></pre>
<p>Because after the first <code>summarize()</code>, the variable <code>temp</code> disappears as it has been collapsed to the value <code>mean</code>. So when we try to run the second <code>summarize()</code>, it can’t find the variable <code>temp</code> to compute the standard deviation of.</p>
<p><strong>(LC3.5)</strong> Recall from Chapter <a href="2-viz.html#viz">2</a> when we looked at plots of temperatures by months in NYC. What does the standard deviation column in the <code>summary_monthly_temp</code> data frame tell us about temperatures in New York City throughout the year?</p>
<p><strong>Solution</strong>:</p>
<table class="table" style="font-size: 16px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
month
</th>
<th style="text-align:right;">
mean
</th>
<th style="text-align:right;">
std_dev
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
35.6
</td>
<td style="text-align:right;">
10.22
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
34.3
</td>
<td style="text-align:right;">
6.98
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
39.9
</td>
<td style="text-align:right;">
6.25
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
51.7
</td>
<td style="text-align:right;">
8.79
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
61.8
</td>
<td style="text-align:right;">
9.68
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
72.2
</td>
<td style="text-align:right;">
7.55
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
80.1
</td>
<td style="text-align:right;">
7.12
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
74.5
</td>
<td style="text-align:right;">
5.19
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
67.4
</td>
<td style="text-align:right;">
8.47
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
60.1
</td>
<td style="text-align:right;">
8.85
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
45.0
</td>
<td style="text-align:right;">
10.44
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
38.4
</td>
<td style="text-align:right;">
9.98
</td>
</tr>
</tbody>
</table>
<p>The standard deviation is a quantification of <strong>spread</strong> and <strong>variability</strong>. We
see that the period in November, December, and January has the most variation in
weather, so you can expect very different temperatures on different days.</p>
<p><strong>(LC3.6)</strong> What code would be required to get the mean and standard deviation temperature for each day in 2013 for NYC?</p>
<p><strong>Solution</strong>:</p>
<div class="sourceCode" id="cb587"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb587-1" data-line-number="1">summary_temp_by_day &lt;-<span class="st"> </span>weather <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb587-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(year, month, day) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb587-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(</a>
<a class="sourceLine" id="cb587-4" data-line-number="4">          <span class="dt">mean =</span> <span class="kw">mean</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb587-5" data-line-number="5">          <span class="dt">std_dev =</span> <span class="kw">sd</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb587-6" data-line-number="6">          )</a>
<a class="sourceLine" id="cb587-7" data-line-number="7">summary_temp_by_day</a></code></pre></div>
<pre><code># A tibble: 364 x 5
# Groups:   year, month [12]
    year month   day    mean std_dev
   &lt;int&gt; &lt;int&gt; &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1  2013     1     1 36.9997 4.00117
 2  2013     1     2 28.7025 3.45205
 3  2013     1     3 29.9725 2.58472
 4  2013     1     4 34.94   2.45283
 5  2013     1     5 37.205  4.00500
 6  2013     1     6 40.0518 4.39562
 7  2013     1     7 40.5825 3.68319
 8  2013     1     8 40.1175 5.77457
 9  2013     1     9 43.225  5.39724
10  2013     1    10 43.85   2.95214
# … with 354 more rows</code></pre>
<p>Note: <code>group_by(day)</code> is not enough, because <code>day</code> is a value between 1-31. We need to <code>group_by(year, month, day)</code></p>
<div class="sourceCode" id="cb589"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb589-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb589-2" data-line-number="2"><span class="kw">library</span>(nycflights13)</a>
<a class="sourceLine" id="cb589-3" data-line-number="3"></a>
<a class="sourceLine" id="cb589-4" data-line-number="4">summary_temp_by_month &lt;-<span class="st"> </span>weather <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb589-5" data-line-number="5"><span class="st">  </span><span class="kw">group_by</span>(month) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb589-6" data-line-number="6"><span class="st">  </span><span class="kw">summarize</span>(</a>
<a class="sourceLine" id="cb589-7" data-line-number="7">          <span class="dt">mean =</span> <span class="kw">mean</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb589-8" data-line-number="8">          <span class="dt">std_dev =</span> <span class="kw">sd</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb589-9" data-line-number="9">          )</a></code></pre></div>
<p><strong>(LC3.7)</strong> Recreate <code>by_monthly_origin</code>, but instead of grouping via <code>group_by(origin, month)</code>, group variables in a different order <code>group_by(month, origin)</code>. What differs in the resulting dataset?</p>
<p><strong>Solution</strong>:</p>
<div class="sourceCode" id="cb590"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb590-1" data-line-number="1">by_monthly_origin &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb590-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(month, origin) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb590-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">count =</span> <span class="kw">n</span>())</a></code></pre></div>
<div class="sourceCode" id="cb591"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb591-1" data-line-number="1">by_monthly_origin</a></code></pre></div>
<table class="table" style="font-size: 16px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
month
</th>
<th style="text-align:left;">
origin
</th>
<th style="text-align:right;">
count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
9893
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
9161
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
7950
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
9107
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
8421
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
7423
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
10420
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
9697
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
8717
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
10531
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
9218
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
8581
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
10592
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
9397
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
8807
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
10175
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
9472
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
8596
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
10475
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
10023
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
8927
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
10359
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
9983
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
8985
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
9550
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
8908
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
9116
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
10104
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
9143
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
9642
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
9707
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
8710
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
8851
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:right;">
9922
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:right;">
9146
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:right;">
9067
</td>
</tr>
</tbody>
</table>
<p>In <code>by_monthly_origin</code> the <code>month</code> column is now first and the rows are sorted by <code>month</code> instead of origin. If you compare the values of <code>count</code> in <code>by_origin_monthly</code> and <code>by_monthly_origin</code> using the <code>View()</code> function, you’ll see that the values are actually the same, just presented in a different order.</p>
<p><strong>(LC3.8)</strong> How could we identify how many flights left each of the three airports for each <code>carrier</code>?</p>
<p><strong>Solution</strong>: We could summarize the count from each airport using the <code>n()</code> function, which <em>counts rows</em>.</p>
<div class="sourceCode" id="cb592"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb592-1" data-line-number="1">count_flights_by_airport &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb592-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(origin, carrier) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb592-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">count=</span><span class="kw">n</span>())</a></code></pre></div>
<div class="sourceCode" id="cb593"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb593-1" data-line-number="1">count_flights_by_airport</a></code></pre></div>
<table class="table" style="font-size: 16px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
origin
</th>
<th style="text-align:left;">
carrier
</th>
<th style="text-align:right;">
count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
9E
</td>
<td style="text-align:right;">
1268
</td>
</tr>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
AA
</td>
<td style="text-align:right;">
3487
</td>
</tr>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
AS
</td>
<td style="text-align:right;">
714
</td>
</tr>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
B6
</td>
<td style="text-align:right;">
6557
</td>
</tr>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
DL
</td>
<td style="text-align:right;">
4342
</td>
</tr>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
EV
</td>
<td style="text-align:right;">
43939
</td>
</tr>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
MQ
</td>
<td style="text-align:right;">
2276
</td>
</tr>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
OO
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
UA
</td>
<td style="text-align:right;">
46087
</td>
</tr>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
US
</td>
<td style="text-align:right;">
4405
</td>
</tr>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
VX
</td>
<td style="text-align:right;">
1566
</td>
</tr>
<tr>
<td style="text-align:left;">
EWR
</td>
<td style="text-align:left;">
WN
</td>
<td style="text-align:right;">
6188
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:left;">
9E
</td>
<td style="text-align:right;">
14651
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:left;">
AA
</td>
<td style="text-align:right;">
13783
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:left;">
B6
</td>
<td style="text-align:right;">
42076
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:left;">
DL
</td>
<td style="text-align:right;">
20701
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:left;">
EV
</td>
<td style="text-align:right;">
1408
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:left;">
HA
</td>
<td style="text-align:right;">
342
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:left;">
MQ
</td>
<td style="text-align:right;">
7193
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:left;">
UA
</td>
<td style="text-align:right;">
4534
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:left;">
US
</td>
<td style="text-align:right;">
2995
</td>
</tr>
<tr>
<td style="text-align:left;">
JFK
</td>
<td style="text-align:left;">
VX
</td>
<td style="text-align:right;">
3596
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:left;">
9E
</td>
<td style="text-align:right;">
2541
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:left;">
AA
</td>
<td style="text-align:right;">
15459
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:left;">
B6
</td>
<td style="text-align:right;">
6002
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:left;">
DL
</td>
<td style="text-align:right;">
23067
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:left;">
EV
</td>
<td style="text-align:right;">
8826
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:left;">
F9
</td>
<td style="text-align:right;">
685
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:left;">
FL
</td>
<td style="text-align:right;">
3260
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:left;">
MQ
</td>
<td style="text-align:right;">
16928
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:left;">
OO
</td>
<td style="text-align:right;">
26
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:left;">
UA
</td>
<td style="text-align:right;">
8044
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:left;">
US
</td>
<td style="text-align:right;">
13136
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:left;">
WN
</td>
<td style="text-align:right;">
6087
</td>
</tr>
<tr>
<td style="text-align:left;">
LGA
</td>
<td style="text-align:left;">
YV
</td>
<td style="text-align:right;">
601
</td>
</tr>
</tbody>
</table>
<p>All remarkably similar! Note: the <code>n()</code> function counts rows, whereas the <code>sum(VARIABLE_NAME)</code> function sums all values of a certain numerical variable <code>VARIABLE_NAME</code>.</p>
<p><strong>(LC3.9)</strong> How does the <code>filter</code> operation differ from a <code>group_by</code> followed by a <code>summarize</code>?</p>
<p><strong>Solution</strong>:</p>
<ul>
<li><code>filter</code> picks out rows from the original dataset without modifying them, whereas</li>
<li><code>group_by %&gt;% summarize</code> computes summaries of numerical variables, and hence
reports new values.</li>
</ul>
<p><strong>(LC3.10)</strong> What do positive values of the <code>gain</code> variable in <code>flights</code> correspond to? What about negative values? And what about a zero value?</p>
<p><strong>Solution</strong>:</p>
<ul>
<li>Say a flight departed 20 minutes late, i.e. <code>dep_delay = 20</code></li>
<li>Then arrived 10 minutes late, i.e. <code>arr_delay = 10</code>.</li>
<li>Then <code>gain = dep_delay - arr_delay = 20 - 10  = 10</code> is positive, so it “made up/gained time in the air.”</li>
<li>0 means the departure and arrival time were the same, so no time was made up in the air. We see in most cases that the <code>gain</code> is near 0 minutes.</li>
<li>I never understood this. If the pilot says “we’re going make up time in the air”
because of delay by flying faster, why don’t you always just fly faster to begin
with?</li>
</ul>
<p><strong>(LC3.11)</strong> Could we create the <code>dep_delay</code> and <code>arr_delay</code> columns by simply subtracting <code>dep_time</code> from <code>sched_dep_time</code> and similarly for arrivals? Try the code out and explain any differences between the result and what actually appears in <code>flights</code>.</p>
<p><strong>Solution</strong>: No because you can’t do direct arithmetic on times. The difference in time between 12:03 and 11:59 is 4 minutes, but <code>1203-1159 = 44</code></p>
<p><strong>(LC3.12)</strong> What can we say about the distribution of <code>gain</code>? Describe it in a few sentences using the plot and the <code>gain_summary</code> data frame values.</p>
<p><strong>Solution</strong>: Most of the time the gain is a little under zero, most of the time the gain is between -50 and 50 minutes. There are some extreme cases however!</p>
<p><strong>(LC3.13)</strong> Looking at Figure <a href="3-wrangling.html#fig:reldiagram">3.7</a>, when joining <code>flights</code> and <code>weather</code> (or, in other words, matching the hourly weather values with each flight), why do we need to join by all of <code>year</code>, <code>month</code>, <code>day</code>, <code>hour</code>, and <code>origin</code>, and not just <code>hour</code>?</p>
<p><strong>Solution</strong>: Because <code>hour</code> is simply a value between 0 and 23; to identify a <em>specific</em> hour, we need to know which year, month, day and at which airport.</p>
<p><strong>(LC3.14)</strong> What surprises you about the top 10 destinations from NYC in 2013?</p>
<p><strong>Solution</strong>: This question is subjective! What surprises me is the high number of flights to Boston. Wouldn’t it be easier and quicker to take the train?</p>
<p><strong>(LC3.15)</strong> What are some advantages of data in normal forms? What are some disadvantages?</p>
<p><strong>Solution</strong>: When datasets are in normal form, we can easily <code>_join</code> them with other datasets! For example, we can join the <code>flights</code> data with the <code>planes</code> data.</p>
<p><strong>(LC3.16)</strong> What are some ways to select all three of the <code>dest</code>, <code>air_time</code>, and <code>distance</code> variables from <code>flights</code>? Give the code showing how to do this in at least three different ways.</p>
<p><strong>Solution</strong>:</p>
<div class="sourceCode" id="cb594"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb594-1" data-line-number="1"><span class="co"># The regular way:</span></a>
<a class="sourceLine" id="cb594-2" data-line-number="2">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb594-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(dest, air_time, distance)</a></code></pre></div>
<pre><code># A tibble: 336,776 x 3
   dest  air_time distance
   &lt;chr&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1 IAH        227     1400
 2 IAH        227     1416
 3 MIA        160     1089
 4 BQN        183     1576
 5 ATL        116      762
 6 ORD        150      719
 7 FLL        158     1065
 8 IAD         53      229
 9 MCO        140      944
10 ORD        138      733
# … with 336,766 more rows</code></pre>
<div class="sourceCode" id="cb596"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb596-1" data-line-number="1"><span class="co"># Since they are sequential columns in the dataset</span></a>
<a class="sourceLine" id="cb596-2" data-line-number="2">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb596-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(dest<span class="op">:</span>distance)</a></code></pre></div>
<pre><code># A tibble: 336,776 x 3
   dest  air_time distance
   &lt;chr&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1 IAH        227     1400
 2 IAH        227     1416
 3 MIA        160     1089
 4 BQN        183     1576
 5 ATL        116      762
 6 ORD        150      719
 7 FLL        158     1065
 8 IAD         53      229
 9 MCO        140      944
10 ORD        138      733
# … with 336,766 more rows</code></pre>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb598-1" data-line-number="1"><span class="co"># Not as effective, by removing everything else</span></a>
<a class="sourceLine" id="cb598-2" data-line-number="2">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb598-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>year, <span class="op">-</span>month, <span class="op">-</span>day, <span class="op">-</span>dep_time, <span class="op">-</span>sched_dep_time, <span class="op">-</span>dep_delay, <span class="op">-</span>arr_time,</a>
<a class="sourceLine" id="cb598-4" data-line-number="4">         <span class="op">-</span>sched_arr_time, <span class="op">-</span>arr_delay, <span class="op">-</span>carrier, <span class="op">-</span>flight, <span class="op">-</span>tailnum, <span class="op">-</span>origin, </a>
<a class="sourceLine" id="cb598-5" data-line-number="5">         <span class="op">-</span>hour, <span class="op">-</span>minute, <span class="op">-</span>time_hour)</a></code></pre></div>
<pre><code># A tibble: 336,776 x 6
   dest  air_time distance  gain    hours gain_per_hour
   &lt;chr&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;         &lt;dbl&gt;
 1 IAH        227     1400    -9 3.78333       -2.37885
 2 IAH        227     1416   -16 3.78333       -4.22907
 3 MIA        160     1089   -31 2.66667      -11.625  
 4 BQN        183     1576    17 3.05           5.57377
 5 ATL        116      762    19 1.93333        9.82759
 6 ORD        150      719   -16 2.5           -6.4    
 7 FLL        158     1065   -24 2.63333       -9.11392
 8 IAD         53      229    11 0.883333      12.4528 
 9 MCO        140      944     5 2.33333        2.14286
10 ORD        138      733   -10 2.300         -4.34783
# … with 336,766 more rows</code></pre>
<p><strong>(LC3.17)</strong> How could one use <code>starts_with</code>, <code>ends_with</code>, and <code>contains</code> to select columns from the <code>flights</code> data frame? Provide three different examples in total: one for <code>starts_with</code>, one for <code>ends_with</code>, and one for <code>contains</code>.</p>
<p><strong>Solution</strong>:</p>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb600-1" data-line-number="1"><span class="co"># Anything that starts with &quot;d&quot;</span></a>
<a class="sourceLine" id="cb600-2" data-line-number="2">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb600-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(<span class="kw">starts_with</span>(<span class="st">&quot;d&quot;</span>))</a></code></pre></div>
<pre><code># A tibble: 336,776 x 5
     day dep_time dep_delay dest  distance
   &lt;int&gt;    &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;
 1     1      517         2 IAH       1400
 2     1      533         4 IAH       1416
 3     1      542         2 MIA       1089
 4     1      544        -1 BQN       1576
 5     1      554        -6 ATL        762
 6     1      554        -4 ORD        719
 7     1      555        -5 FLL       1065
 8     1      557        -3 IAD        229
 9     1      557        -3 MCO        944
10     1      558        -2 ORD        733
# … with 336,766 more rows</code></pre>
<div class="sourceCode" id="cb602"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb602-1" data-line-number="1"><span class="co"># Anything related to delays:</span></a>
<a class="sourceLine" id="cb602-2" data-line-number="2">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb602-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(<span class="kw">ends_with</span>(<span class="st">&quot;delay&quot;</span>))</a></code></pre></div>
<pre><code># A tibble: 336,776 x 2
   dep_delay arr_delay
       &lt;dbl&gt;     &lt;dbl&gt;
 1         2        11
 2         4        20
 3         2        33
 4        -1       -18
 5        -6       -25
 6        -4        12
 7        -5        19
 8        -3       -14
 9        -3        -8
10        -2         8
# … with 336,766 more rows</code></pre>
<div class="sourceCode" id="cb604"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb604-1" data-line-number="1"><span class="co"># Anything related to departures:</span></a>
<a class="sourceLine" id="cb604-2" data-line-number="2">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb604-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(<span class="kw">contains</span>(<span class="st">&quot;dep&quot;</span>))</a></code></pre></div>
<pre><code># A tibble: 336,776 x 3
   dep_time sched_dep_time dep_delay
      &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;
 1      517            515         2
 2      533            529         4
 3      542            540         2
 4      544            545        -1
 5      554            600        -6
 6      554            558        -4
 7      555            600        -5
 8      557            600        -3
 9      557            600        -3
10      558            600        -2
# … with 336,766 more rows</code></pre>
<p><strong>(LC3.18)</strong> Why might we want to use the <code>select()</code> function on a data frame?</p>
<p><strong>Solution</strong>: To narrow down the data frame, to make it easier to look at. Using <code>View()</code> for example.</p>
<p><strong>(LC3.19)</strong> Create a new data frame that shows the top 5 airports with the largest arrival delays from NYC in 2013.</p>
<p><strong>Solution</strong>:</p>
<div class="sourceCode" id="cb606"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb606-1" data-line-number="1">top_five &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb606-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(dest) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb606-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">avg_delay =</span> <span class="kw">mean</span>(arr_delay, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb606-4" data-line-number="4"><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(avg_delay)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb606-5" data-line-number="5"><span class="st">  </span><span class="kw">top_n</span>(<span class="dt">n =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb606-6" data-line-number="6">top_five</a></code></pre></div>
<pre><code># A tibble: 5 x 2
  dest  avg_delay
  &lt;chr&gt;     &lt;dbl&gt;
1 CAE     41.7642
2 TUL     33.6599
3 OKC     30.6190
4 JAC     28.0952
5 TYS     24.0692</code></pre>
<p><strong>(LC3.20)</strong> Using the datasets included in the <code>nycflights13</code> package, compute the available seat miles for each airline sorted in descending order. After completing all the necessary data wrangling steps, the resulting data frame should have 16 rows (one for each airline) and 2 columns (airline name and available seat miles). Here are some hints:</p>
<ol style="list-style-type: decimal">
<li><strong>Crucial</strong>: Unless you are very confident in what you are doing, it is worthwhile to not starting coding right away, but rather first sketch out on paper all the necessary data wrangling steps not using exact code, but rather high-level <em>pseudocode</em> that is informal yet detailed enough to articulate what you are doing. This way you won’t confuse <em>what</em> you are trying to do (the algorithm) with <em>how</em> you are going to do it (writing <code>dplyr</code> code).</li>
<li>Take a close look at all the datasets using the <code>View()</code> function: <code>flights</code>, <code>weather</code>, <code>planes</code>, <code>airports</code>, and <code>airlines</code> to identify which variables are necessary to compute available seat miles.</li>
<li>Figure <a href="3-wrangling.html#fig:reldiagram">3.7</a> above showing how the various datasets can be joined will also be useful.</li>
<li>Consider the data wrangling verbs in Table <a href="3-wrangling.html#tab:wrangle-summary-table">3.2</a> as your toolbox!</li>
</ol>
<p><strong>Solution</strong>: Here are some examples of student-written <a href="https://twitter.com/rudeboybert/status/964181298691629056">pseudocode</a>. Based on our own pseudocode, let’s first display the entire solution.</p>
<div class="sourceCode" id="cb608"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb608-1" data-line-number="1">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb608-2" data-line-number="2"><span class="st">  </span><span class="kw">inner_join</span>(planes, <span class="dt">by =</span> <span class="st">&quot;tailnum&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb608-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(carrier, seats, distance) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb608-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">ASM =</span> seats <span class="op">*</span><span class="st"> </span>distance) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb608-5" data-line-number="5"><span class="st">  </span><span class="kw">group_by</span>(carrier) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb608-6" data-line-number="6"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">ASM =</span> <span class="kw">sum</span>(ASM, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb608-7" data-line-number="7"><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(ASM))</a></code></pre></div>
<pre><code># A tibble: 16 x 2
   carrier         ASM
   &lt;chr&gt;         &lt;dbl&gt;
 1 UA      15516377526
 2 DL      10532885801
 3 B6       9618222135
 4 AA       3677292231
 5 US       2533505829
 6 VX       2296680778
 7 EV       1817236275
 8 WN       1718116857
 9 9E        776970310
10 HA        642478122
11 AS        314104736
12 FL        219628520
13 F9        184832280
14 YV         20163632
15 MQ          7162420
16 OO          1299835</code></pre>
<p>Let’s now break this down step-by-step. To compute the available seat miles for a given flight, we need the <code>distance</code> variable from the <code>flights</code> data frame and the <code>seats</code> variable from the <code>planes</code> data frame, necessitating a join by the key variable <code>tailnum</code> as illustrated in Figure <a href="3-wrangling.html#fig:reldiagram">3.7</a>. To keep the resulting data frame easy to view, we’ll <code>select()</code> only these two variables and <code>carrier</code>:</p>
<div class="sourceCode" id="cb610"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb610-1" data-line-number="1">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb610-2" data-line-number="2"><span class="st">  </span><span class="kw">inner_join</span>(planes, <span class="dt">by =</span> <span class="st">&quot;tailnum&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb610-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(carrier, seats, distance)</a></code></pre></div>
<pre><code># A tibble: 284,170 x 3
   carrier seats distance
   &lt;chr&gt;   &lt;int&gt;    &lt;dbl&gt;
 1 UA        149     1400
 2 UA        149     1416
 3 AA        178     1089
 4 B6        200     1576
 5 DL        178      762
 6 UA        191      719
 7 B6        200     1065
 8 EV         55      229
 9 B6        200      944
10 B6        200     1028
# … with 284,160 more rows</code></pre>
<p>Now for each flight we can compute the available seat miles <code>ASM</code> by multiplying the number of seats by the distance via a <code>mutate()</code>:</p>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb612-1" data-line-number="1">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb612-2" data-line-number="2"><span class="st">  </span><span class="kw">inner_join</span>(planes, <span class="dt">by =</span> <span class="st">&quot;tailnum&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb612-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(carrier, seats, distance) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb612-4" data-line-number="4"><span class="st">  </span><span class="co"># Added:</span></a>
<a class="sourceLine" id="cb612-5" data-line-number="5"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">ASM =</span> seats <span class="op">*</span><span class="st"> </span>distance)</a></code></pre></div>
<pre><code># A tibble: 284,170 x 4
   carrier seats distance    ASM
   &lt;chr&gt;   &lt;int&gt;    &lt;dbl&gt;  &lt;dbl&gt;
 1 UA        149     1400 208600
 2 UA        149     1416 210984
 3 AA        178     1089 193842
 4 B6        200     1576 315200
 5 DL        178      762 135636
 6 UA        191      719 137329
 7 B6        200     1065 213000
 8 EV         55      229  12595
 9 B6        200      944 188800
10 B6        200     1028 205600
# … with 284,160 more rows</code></pre>
<p>Next we want to sum the <code>ASM</code> for each carrier. We achieve this by first grouping by <code>carrier</code> and then summarizing using the <code>sum()</code> function:</p>
<div class="sourceCode" id="cb614"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb614-1" data-line-number="1">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb614-2" data-line-number="2"><span class="st">  </span><span class="kw">inner_join</span>(planes, <span class="dt">by =</span> <span class="st">&quot;tailnum&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb614-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(carrier, seats, distance) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb614-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">ASM =</span> seats <span class="op">*</span><span class="st"> </span>distance) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb614-5" data-line-number="5"><span class="st">  </span><span class="co"># Added:</span></a>
<a class="sourceLine" id="cb614-6" data-line-number="6"><span class="st">  </span><span class="kw">group_by</span>(carrier) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb614-7" data-line-number="7"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">ASM =</span> <span class="kw">sum</span>(ASM))</a></code></pre></div>
<pre><code># A tibble: 16 x 2
   carrier         ASM
   &lt;chr&gt;         &lt;dbl&gt;
 1 9E        776970310
 2 AA       3677292231
 3 AS        314104736
 4 B6       9618222135
 5 DL      10532885801
 6 EV       1817236275
 7 F9        184832280
 8 FL        219628520
 9 HA        642478122
10 MQ          7162420
11 OO          1299835
12 UA      15516377526
13 US       2533505829
14 VX       2296680778
15 WN       1718116857
16 YV         20163632</code></pre>
<p>However, because for certain carriers certain flights have missing <code>NA</code> values, the resulting table also returns <code>NA</code>’s. We can eliminate these by adding a <code>na.rm = TRUE</code> argument to <code>sum()</code>, telling R that we want to remove the <code>NA</code>’s in the sum. We saw this in Section <a href="3-wrangling.html#summarize">3.3</a>:</p>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb616-1" data-line-number="1">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb616-2" data-line-number="2"><span class="st">  </span><span class="kw">inner_join</span>(planes, <span class="dt">by =</span> <span class="st">&quot;tailnum&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb616-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(carrier, seats, distance) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb616-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">ASM =</span> seats <span class="op">*</span><span class="st"> </span>distance) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb616-5" data-line-number="5"><span class="st">  </span><span class="kw">group_by</span>(carrier) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb616-6" data-line-number="6"><span class="st">  </span><span class="co"># Modified:</span></a>
<a class="sourceLine" id="cb616-7" data-line-number="7"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">ASM =</span> <span class="kw">sum</span>(ASM, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</a></code></pre></div>
<pre><code># A tibble: 16 x 2
   carrier         ASM
   &lt;chr&gt;         &lt;dbl&gt;
 1 9E        776970310
 2 AA       3677292231
 3 AS        314104736
 4 B6       9618222135
 5 DL      10532885801
 6 EV       1817236275
 7 F9        184832280
 8 FL        219628520
 9 HA        642478122
10 MQ          7162420
11 OO          1299835
12 UA      15516377526
13 US       2533505829
14 VX       2296680778
15 WN       1718116857
16 YV         20163632</code></pre>
<p>Finally, we <code>arrange()</code> the data in <code>desc()</code>ending order of <code>ASM</code>.</p>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb618-1" data-line-number="1">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb618-2" data-line-number="2"><span class="st">  </span><span class="kw">inner_join</span>(planes, <span class="dt">by =</span> <span class="st">&quot;tailnum&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb618-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(carrier, seats, distance) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb618-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">ASM =</span> seats <span class="op">*</span><span class="st"> </span>distance) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb618-5" data-line-number="5"><span class="st">  </span><span class="kw">group_by</span>(carrier) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb618-6" data-line-number="6"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">ASM =</span> <span class="kw">sum</span>(ASM, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb618-7" data-line-number="7"><span class="st">  </span><span class="co"># Added:</span></a>
<a class="sourceLine" id="cb618-8" data-line-number="8"><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(ASM))</a></code></pre></div>
<pre><code># A tibble: 16 x 2
   carrier         ASM
   &lt;chr&gt;         &lt;dbl&gt;
 1 UA      15516377526
 2 DL      10532885801
 3 B6       9618222135
 4 AA       3677292231
 5 US       2533505829
 6 VX       2296680778
 7 EV       1817236275
 8 WN       1718116857
 9 9E        776970310
10 HA        642478122
11 AS        314104736
12 FL        219628520
13 F9        184832280
14 YV         20163632
15 MQ          7162420
16 OO          1299835</code></pre>
<p>While the above data frame is correct, the IATA <code>carrier</code> code is not always useful. For example, what carrier is <code>WN</code>? We can address this by joining with the <code>airlines</code> dataset using <code>carrier</code> is the key variable. While this step is not absolutely required, it goes a long way to making the table easier to make sense of. It is important to be empathetic with the ultimate consumers of your presented data!</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb620-1" data-line-number="1">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb620-2" data-line-number="2"><span class="st">  </span><span class="kw">inner_join</span>(planes, <span class="dt">by =</span> <span class="st">&quot;tailnum&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb620-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(carrier, seats, distance) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb620-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">ASM =</span> seats <span class="op">*</span><span class="st"> </span>distance) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb620-5" data-line-number="5"><span class="st">  </span><span class="kw">group_by</span>(carrier) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb620-6" data-line-number="6"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">ASM =</span> <span class="kw">sum</span>(ASM, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb620-7" data-line-number="7"><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(ASM)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb620-8" data-line-number="8"><span class="st">  </span><span class="co"># Added:</span></a>
<a class="sourceLine" id="cb620-9" data-line-number="9"><span class="st">  </span><span class="kw">inner_join</span>(airlines, <span class="dt">by =</span> <span class="st">&quot;carrier&quot;</span>)</a></code></pre></div>
<pre><code># A tibble: 16 x 3
   carrier         ASM name                       
   &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;                      
 1 UA      15516377526 United Air Lines Inc.      
 2 DL      10532885801 Delta Air Lines Inc.       
 3 B6       9618222135 JetBlue Airways            
 4 AA       3677292231 American Airlines Inc.     
 5 US       2533505829 US Airways Inc.            
 6 VX       2296680778 Virgin America             
 7 EV       1817236275 ExpressJet Airlines Inc.   
 8 WN       1718116857 Southwest Airlines Co.     
 9 9E        776970310 Endeavor Air Inc.          
10 HA        642478122 Hawaiian Airlines Inc.     
11 AS        314104736 Alaska Airlines Inc.       
12 FL        219628520 AirTran Airways Corporation
13 F9        184832280 Frontier Airlines Inc.     
14 YV         20163632 Mesa Airlines Inc.         
15 MQ          7162420 Envoy Air                  
16 OO          1299835 SkyWest Airlines Inc.      </code></pre>
<hr />
</div>
<div id="chapter-4-solutions" class="section level2">
<h2><span class="header-section-number">D.4</span> Chapter 4 Solutions</h2>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb622-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb622-2" data-line-number="2"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb622-3" data-line-number="3"><span class="kw">library</span>(readr)</a>
<a class="sourceLine" id="cb622-4" data-line-number="4"><span class="kw">library</span>(tidyr)</a>
<a class="sourceLine" id="cb622-5" data-line-number="5"><span class="kw">library</span>(nycflights13)</a>
<a class="sourceLine" id="cb622-6" data-line-number="6"><span class="kw">library</span>(fivethirtyeight)</a></code></pre></div>
<p><strong>(LC4.1)</strong> What are common characteristics of “tidy” datasets?</p>
<p><strong>Solution</strong>: Rows correspond to observations, while columns correspond to variables.</p>
<p><strong>(LC4.2)</strong> What makes “tidy” datasets useful for organizing data?</p>
<p><strong>Solution</strong>: Tidy datasets are an organized way of viewing data. This format is required for the <code>ggplot2</code> and <code>dplyr</code> packages for data visualization and wrangling.</p>
<p><strong>(LC4.3)</strong> Take a look the <code>airline_safety</code> data frame included in the <code>fivethirtyeight</code> data. Run the following:</p>
<div class="sourceCode" id="cb623"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb623-1" data-line-number="1">airline_safety</a></code></pre></div>
<p>After reading the help file by running <code>?airline_safety</code>, we see that <code>airline_safety</code> is a data frame containing information on different airlines companies’ safety records. This data was originally reported on the data journalism website FiveThirtyEight.com in Nate Silver’s article <a href="https://fivethirtyeight.com/features/should-travelers-avoid-flying-airlines-that-have-had-crashes-in-the-past/">“Should Travelers Avoid Flying Airlines That Have Had Crashes in the Past?”</a>. Let’s ignore the <code>incl_reg_subsidiaries</code> and <code>avail_seat_km_per_week</code> variables for simplicity:</p>
<div class="sourceCode" id="cb624"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb624-1" data-line-number="1">airline_safety_smaller &lt;-<span class="st"> </span>airline_safety <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb624-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span><span class="kw">c</span>(incl_reg_subsidiaries, avail_seat_km_per_week))</a>
<a class="sourceLine" id="cb624-3" data-line-number="3">airline_safety_smaller</a></code></pre></div>
<pre><code># A tibble: 56 x 7
   airline incidents_85_99 fatal_accidents… fatalities_85_99 incidents_00_14
   &lt;chr&gt;             &lt;int&gt;            &lt;int&gt;            &lt;int&gt;           &lt;int&gt;
 1 Aer Li…               2                0                0               0
 2 Aerofl…              76               14              128               6
 3 Aeroli…               6                0                0               1
 4 Aerome…               3                1               64               5
 5 Air Ca…               2                0                0               2
 6 Air Fr…              14                4               79               6
 7 Air In…               2                1              329               4
 8 Air Ne…               3                0                0               5
 9 Alaska…               5                0                0               5
10 Alital…               7                2               50               4
# … with 46 more rows, and 2 more variables: fatal_accidents_00_14 &lt;int&gt;,
#   fatalities_00_14 &lt;int&gt;</code></pre>
<p>This data frame is not in “tidy” format. How would you convert this data frame to be in “tidy” format, in particular so that it has a variable <code>incident_type_years</code> indicating the incident type/year and a variable <code>count</code> of the counts?</p>
<p><strong>Solution</strong>:</p>
<p>This can been done using the <code>pivot_longer()</code> function from the <code>tidyr</code> package:</p>
<div class="sourceCode" id="cb626"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb626-1" data-line-number="1">airline_safety_smaller_tidy &lt;-<span class="st"> </span>airline_safety_smaller <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb626-2" data-line-number="2"><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="dt">names_to =</span> <span class="st">&quot;incident_type_years&quot;</span>, </a>
<a class="sourceLine" id="cb626-3" data-line-number="3">               <span class="dt">values_to =</span> <span class="st">&quot;count&quot;</span>, </a>
<a class="sourceLine" id="cb626-4" data-line-number="4">               <span class="dt">cols =</span> <span class="op">-</span>airline)</a>
<a class="sourceLine" id="cb626-5" data-line-number="5">airline_safety_smaller_tidy</a></code></pre></div>
<pre><code># A tibble: 336 x 3
   airline    incident_type_years   count
   &lt;chr&gt;      &lt;chr&gt;                 &lt;int&gt;
 1 Aer Lingus incidents_85_99           2
 2 Aer Lingus fatal_accidents_85_99     0
 3 Aer Lingus fatalities_85_99          0
 4 Aer Lingus incidents_00_14           0
 5 Aer Lingus fatal_accidents_00_14     0
 6 Aer Lingus fatalities_00_14          0
 7 Aeroflot   incidents_85_99          76
 8 Aeroflot   fatal_accidents_85_99    14
 9 Aeroflot   fatalities_85_99        128
10 Aeroflot   incidents_00_14           6
# … with 326 more rows</code></pre>
<p>If you look at the resulting <code>airline_safety_smaller_tidy</code> data frame in the spreadsheet viewer, you’ll see that the variable <code>incident_type_years</code> has 6 possible values: <code>&quot;incidents_85_99&quot;, &quot;fatal_accidents_85_99&quot;, &quot;fatalities_85_99&quot;,  &quot;incidents_00_14&quot;, &quot;fatal_accidents_00_14&quot;, &quot;fatalities_00_14&quot;</code> corresponding to the 6 columns of <code>airline_safety_smaller</code> we tidied.</p>
<p>Note that prior to <code>tidyr</code> version 1.0.0 released to CRAN in September 2019, this could also have been done using the <code>gather()</code> function from the <code>tidyr</code> package:</p>
<div class="sourceCode" id="cb628"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb628-1" data-line-number="1">airline_safety_smaller_tidy &lt;-<span class="st"> </span>airline_safety_smaller <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb628-2" data-line-number="2"><span class="st">  </span><span class="kw">gather</span>(<span class="dt">key =</span> incident_type_years, <span class="dt">value =</span> count, <span class="op">-</span>airline)</a>
<a class="sourceLine" id="cb628-3" data-line-number="3">airline_safety_smaller_tidy</a></code></pre></div>
<pre><code># A tibble: 336 x 3
   airline               incident_type_years count
   &lt;chr&gt;                 &lt;chr&gt;               &lt;int&gt;
 1 Aer Lingus            incidents_85_99         2
 2 Aeroflot              incidents_85_99        76
 3 Aerolineas Argentinas incidents_85_99         6
 4 Aeromexico            incidents_85_99         3
 5 Air Canada            incidents_85_99         2
 6 Air France            incidents_85_99        14
 7 Air India             incidents_85_99         2
 8 Air New Zealand       incidents_85_99         3
 9 Alaska Airlines       incidents_85_99         5
10 Alitalia              incidents_85_99         7
# … with 326 more rows</code></pre>
<p><strong>(LC4.4)</strong> Convert the <code>dem_score</code> data frame into
a tidy data frame and assign the name of <code>dem_score_tidy</code> to the resulting long-formatted data frame.</p>
<p><strong>Solution</strong>: Running the following in the console:</p>
<div class="sourceCode" id="cb630"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb630-1" data-line-number="1">dem_score_tidy &lt;-<span class="st"> </span>dem_score <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb630-2" data-line-number="2"><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="dt">names_to =</span> <span class="st">&quot;year&quot;</span>, <span class="dt">values_to =</span> <span class="st">&quot;democracy_score&quot;</span>, </a>
<a class="sourceLine" id="cb630-3" data-line-number="3">               <span class="dt">cols =</span> <span class="op">-</span>country)</a>
<a class="sourceLine" id="cb630-4" data-line-number="4"><span class="co">#  gather(key = year, value = democracy_score, - country)</span></a></code></pre></div>
<p>Let’s now compare the <code>dem_score</code> and <code>dem_score_tidy</code>. <code>dem_score</code> has democracy score information for each year in columns, whereas in <code>dem_score_tidy</code> there are explicit variables <code>year</code> and <code>democracy_score</code>. While both representations of the data contain the same information, we can only use <code>ggplot()</code> to create plots using the <code>dem_score_tidy</code> data frame.</p>
<div class="sourceCode" id="cb631"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb631-1" data-line-number="1">dem_score</a></code></pre></div>
<pre><code># A tibble: 96 x 10
   country    `1952` `1957` `1962` `1967` `1972` `1977` `1982` `1987` `1992`
   &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1 Albania        -9     -9     -9     -9     -9     -9     -9     -9      5
 2 Argentina      -9     -1     -1     -9     -9     -9     -8      8      7
 3 Armenia        -9     -7     -7     -7     -7     -7     -7     -7      7
 4 Australia      10     10     10     10     10     10     10     10     10
 5 Austria        10     10     10     10     10     10     10     10     10
 6 Azerbaijan     -9     -7     -7     -7     -7     -7     -7     -7      1
 7 Belarus        -9     -7     -7     -7     -7     -7     -7     -7      7
 8 Belgium        10     10     10     10     10     10     10     10     10
 9 Bhutan        -10    -10    -10    -10    -10    -10    -10    -10    -10
10 Bolivia        -4     -3     -3     -4     -7     -7      8      9      9
# … with 86 more rows</code></pre>
<div class="sourceCode" id="cb633"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb633-1" data-line-number="1">dem_score_tidy</a></code></pre></div>
<pre><code># A tibble: 864 x 3
   country   year  democracy_score
   &lt;chr&gt;     &lt;chr&gt;           &lt;dbl&gt;
 1 Albania   1952               -9
 2 Albania   1957               -9
 3 Albania   1962               -9
 4 Albania   1967               -9
 5 Albania   1972               -9
 6 Albania   1977               -9
 7 Albania   1982               -9
 8 Albania   1987               -9
 9 Albania   1992                5
10 Argentina 1952               -9
# … with 854 more rows</code></pre>
<p><strong>(LC4.5)</strong> Read in the life expectancy data stored at <a href="https://moderndive.com/data/le_mess.csv" class="uri">https://moderndive.com/data/le_mess.csv</a> and convert it to a tidy data frame.</p>
<p><strong>Solution</strong>: The code is similar</p>
<div class="sourceCode" id="cb635"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb635-1" data-line-number="1">life_expectancy &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://moderndive.com/data/le_mess.csv&quot;</span>)</a>
<a class="sourceLine" id="cb635-2" data-line-number="2">life_expectancy_tidy &lt;-<span class="st"> </span>life_expectancy <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb635-3" data-line-number="3"><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="dt">names_to =</span> <span class="st">&quot;year&quot;</span>, </a>
<a class="sourceLine" id="cb635-4" data-line-number="4">               <span class="dt">values_to =</span> <span class="st">&quot;life_expectancy&quot;</span>,</a>
<a class="sourceLine" id="cb635-5" data-line-number="5">               <span class="dt">cols =</span> <span class="op">-</span>country)</a>
<a class="sourceLine" id="cb635-6" data-line-number="6"><span class="co">#  gather(key = year, value = life_expectancy, -country)</span></a></code></pre></div>
<p>We observe the same construct structure with respect to <code>year</code> in <code>life_expectancy</code> vs <code>life_expectancy_tidy</code> as we did in <code>dem_score</code> vs <code>dem_score_tidy</code>:</p>
<div class="sourceCode" id="cb636"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb636-1" data-line-number="1">life_expectancy</a></code></pre></div>
<pre><code># A tibble: 202 x 67
   country  `1951` `1952` `1953`  `1954` `1955` `1956` `1957` `1958` `1959`
   &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1 Afghan… 27.13    27.67  28.19 28.73    29.27  29.8  30.34  30.86   31.4 
 2 Albania 54.72    55.23  55.85 56.59    57.45  58.42 59.48  60.6    61.75
 3 Algeria 43.03    43.5   43.96 44.44    44.93  45.44 45.94  46.45   46.97
 4 Angola  31.05    31.59  32.14 32.6900  33.24  33.78 34.33  34.88   35.43
 5 Antigu… 58.26    58.8   59.34 59.87    60.41  60.93 61.45  61.97   62.48
 6 Argent… 61.93    62.54  63.1  63.59    64.03  64.41 64.73  65      65.22
 7 Armenia 62.67    63.13  63.6  64.0700  64.54  65    65.45  65.92   66.39
 8 Aruba   58.96    60.01  60.98 61.87    62.69  63.42 64.09  64.68   65.2 
 9 Austra… 68.710   69.11  69.69 69.84    70.16  70.03 70.31  70.86   70.43
10 Austria 65.2400  66.78  67.27 67.3     67.58  67.7  67.460 68.460  68.39
# … with 192 more rows, and 57 more variables: `1960` &lt;dbl&gt;, `1961` &lt;dbl&gt;,
#   `1962` &lt;dbl&gt;, `1963` &lt;dbl&gt;, `1964` &lt;dbl&gt;, `1965` &lt;dbl&gt;, `1966` &lt;dbl&gt;,
#   `1967` &lt;dbl&gt;, `1968` &lt;dbl&gt;, `1969` &lt;dbl&gt;, `1970` &lt;dbl&gt;, `1971` &lt;dbl&gt;,
#   `1972` &lt;dbl&gt;, `1973` &lt;dbl&gt;, `1974` &lt;dbl&gt;, `1975` &lt;dbl&gt;, `1976` &lt;dbl&gt;,
#   `1977` &lt;dbl&gt;, `1978` &lt;dbl&gt;, `1979` &lt;dbl&gt;, `1980` &lt;dbl&gt;, `1981` &lt;dbl&gt;,
#   `1982` &lt;dbl&gt;, `1983` &lt;dbl&gt;, `1984` &lt;dbl&gt;, `1985` &lt;dbl&gt;, `1986` &lt;dbl&gt;,
#   `1987` &lt;dbl&gt;, `1988` &lt;dbl&gt;, `1989` &lt;dbl&gt;, `1990` &lt;dbl&gt;, `1991` &lt;dbl&gt;,
#   `1992` &lt;dbl&gt;, `1993` &lt;dbl&gt;, `1994` &lt;dbl&gt;, `1995` &lt;dbl&gt;, `1996` &lt;dbl&gt;,
#   `1997` &lt;dbl&gt;, `1998` &lt;dbl&gt;, `1999` &lt;dbl&gt;, `2000` &lt;dbl&gt;, `2001` &lt;dbl&gt;,
#   `2002` &lt;dbl&gt;, `2003` &lt;dbl&gt;, `2004` &lt;dbl&gt;, `2005` &lt;dbl&gt;, `2006` &lt;dbl&gt;,
#   `2007` &lt;dbl&gt;, `2008` &lt;dbl&gt;, `2009` &lt;dbl&gt;, `2010` &lt;dbl&gt;, `2011` &lt;dbl&gt;,
#   `2012` &lt;dbl&gt;, `2013` &lt;dbl&gt;, `2014` &lt;dbl&gt;, `2015` &lt;dbl&gt;, `2016` &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb638"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb638-1" data-line-number="1">life_expectancy_tidy</a></code></pre></div>
<pre><code># A tibble: 13,332 x 3
   country     year  life_expectancy
   &lt;chr&gt;       &lt;chr&gt;           &lt;dbl&gt;
 1 Afghanistan 1951            27.13
 2 Afghanistan 1952            27.67
 3 Afghanistan 1953            28.19
 4 Afghanistan 1954            28.73
 5 Afghanistan 1955            29.27
 6 Afghanistan 1956            29.8 
 7 Afghanistan 1957            30.34
 8 Afghanistan 1958            30.86
 9 Afghanistan 1959            31.4 
10 Afghanistan 1960            31.94
# … with 13,322 more rows</code></pre>
<hr />
</div>
<div id="chapter-5-solutions" class="section level2">
<h2><span class="header-section-number">D.5</span> Chapter 5 Solutions</h2>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb640-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb640-2" data-line-number="2"><span class="kw">library</span>(moderndive)</a>
<a class="sourceLine" id="cb640-3" data-line-number="3"><span class="kw">library</span>(skimr)</a>
<a class="sourceLine" id="cb640-4" data-line-number="4"><span class="kw">library</span>(gapminder)</a></code></pre></div>
<p><strong>(LC5.1)</strong> Conduct a new exploratory data analysis with the same outcome variable <span class="math inline">\(y\)</span> being <code>score</code> but with <code>age</code> as the new explanatory variable <span class="math inline">\(x\)</span>. Remember, this involves three things:</p>
<ol style="list-style-type: lower-alpha">
<li>Looking at the raw data values.</li>
<li>Computing summary statistics.</li>
<li>Creating data visualizations.</li>
</ol>
<p>What can you say about the relationship between age and teaching scores based on this exploration?</p>
<p><strong>Solution</strong>:</p>
<ul>
<li>Looking at the raw data values:</li>
</ul>
<div class="sourceCode" id="cb641"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb641-1" data-line-number="1"><span class="kw">glimpse</span>(evals_ch5)</a></code></pre></div>
<pre><code>Observations: 463
Variables: 4
$ ID      &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…
$ score   &lt;dbl&gt; 4.7, 4.1, 3.9, 4.8, 4.6, 4.3, 2.8, 4.1, 3.4, 4.5, 3.8, 4.5, 4…
$ bty_avg &lt;dbl&gt; 5.00, 5.00, 5.00, 5.00, 3.00, 3.00, 3.00, 3.33, 3.33, 3.17, 3…
$ age     &lt;int&gt; 36, 36, 36, 36, 59, 59, 59, 51, 51, 40, 40, 40, 40, 40, 40, 4…</code></pre>
<ul>
<li>Computing summary statistics:</li>
</ul>
<div class="sourceCode" id="cb643"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb643-1" data-line-number="1"><span class="kw">skim_with</span>(<span class="dt">numeric =</span> <span class="kw">list</span>(<span class="dt">hist =</span> <span class="ot">NULL</span>), <span class="dt">integer =</span> <span class="kw">list</span>(<span class="dt">hist =</span> <span class="ot">NULL</span>))</a></code></pre></div>
<div class="sourceCode" id="cb644"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb644-1" data-line-number="1">evals_ch5 <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb644-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(score, age) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb644-3" data-line-number="3"><span class="st">  </span><span class="kw">skim</span>()</a></code></pre></div>
<pre><code>Skim summary statistics
 n obs: 463 
 n variables: 2 

── Variable type:integer ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
 variable missing complete   n  mean  sd p0 p25 p50 p75 p100
      age       0      463 463 48.37 9.8 29  42  48  57   73

── Variable type:numeric ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
 variable missing complete   n mean   sd  p0 p25 p50 p75 p100
    score       0      463 463 4.17 0.54 2.3 3.8 4.3 4.6    5</code></pre>
<p>(Note that for formatting purposes, the inline histogram that is usually printed with skim() has been removed. This can be done by running <code>skim_with(numeric = list(hist = NULL), integer = list(hist = NULL))</code> prior to using the <code>skim()</code> function as well.)</p>
<ul>
<li>Creating data visualizations:</li>
</ul>
<div class="sourceCode" id="cb646"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb646-1" data-line-number="1"><span class="kw">ggplot</span>(evals_ch5, <span class="kw">aes</span>(<span class="dt">x =</span> age, <span class="dt">y =</span> score)) <span class="op">+</span></a>
<a class="sourceLine" id="cb646-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb646-3" data-line-number="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Age&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Teaching Score&quot;</span>,</a>
<a class="sourceLine" id="cb646-4" data-line-number="4">       <span class="dt">title =</span> <span class="st">&quot;Scatterplot of relationship of teaching score and age&quot;</span>)</a></code></pre></div>
<p><img src="ModernDive_files/figure-html/unnamed-chunk-600-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<!--
TODO: Albert needs to double check interpretation:
-->
<p>Based on the scatterplot visualization, there seem to have a weak negative relationship between age and teaching score. As age increases, the teaching score see, to decrease slightly.</p>
<p><strong>(LC5.2)</strong> Fit a new simple linear regression using <code>lm(score ~ age, data = evals_ch5)</code> where <code>age</code> is the new explanatory variable <span class="math inline">\(x\)</span>. Get information about the “best-fitting” line from the regression table by applying the <code>get_regression_table()</code> function. How do the regression results match up with the results from your earlier exploratory data analysis?</p>
<p><strong>Solution</strong>:</p>
<div class="sourceCode" id="cb647"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb647-1" data-line-number="1"><span class="co"># Fit regression model:</span></a>
<a class="sourceLine" id="cb647-2" data-line-number="2">score_age_model &lt;-<span class="st"> </span><span class="kw">lm</span>(score <span class="op">~</span><span class="st"> </span>age, <span class="dt">data =</span> evals_ch5)</a>
<a class="sourceLine" id="cb647-3" data-line-number="3"><span class="co"># Get regression table:</span></a>
<a class="sourceLine" id="cb647-4" data-line-number="4"><span class="kw">get_regression_table</span>(score_age_model)</a></code></pre></div>
<pre><code># A tibble: 2 x 7
  term      estimate std_error statistic p_value lower_ci upper_ci
  &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
1 intercept    4.462     0.127    35.195   0        4.213    4.711
2 age         -0.006     0.003    -2.311   0.021   -0.011   -0.001</code></pre>
<p><span class="math display">\[
\begin{aligned}
\widehat{y} &amp;= b_0 + b_1 \cdot x\\
\widehat{\text{score}} &amp;= b_0 + b_{\text{age}} \cdot\text{age}\\
&amp;= 4.462 - 0.006\cdot\text{age}
\end{aligned}
\]</span></p>
<!--
TODO: Albert will verify Starry's interpretation:
-->
<p>For every increase of 1 unit in <code>age</code>, there is an <em>associated</em> decrease of, <em>on average</em>, 0.006 units of <code>score</code>. It matches with the results from our earlier exploratory data analysis.</p>
<p><strong>(LC5.3)</strong> Generate a data frame of the residuals of the model where you used <code>age</code> as the explanatory <span class="math inline">\(x\)</span> variable.</p>
<p><strong>Solution</strong>:</p>
<div class="sourceCode" id="cb649"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb649-1" data-line-number="1">score_age_regression_points &lt;-<span class="st"> </span><span class="kw">get_regression_points</span>(score_age_model)</a>
<a class="sourceLine" id="cb649-2" data-line-number="2">score_age_regression_points</a></code></pre></div>
<pre><code># A tibble: 463 x 5
      ID score   age score_hat residual
   &lt;int&gt; &lt;dbl&gt; &lt;int&gt;     &lt;dbl&gt;    &lt;dbl&gt;
 1     1 4.7      36     4.248  0.452  
 2     2 4.100    36     4.248 -0.148  
 3     3 3.9      36     4.248 -0.34800
 4     4 4.8      36     4.248  0.552  
 5     5 4.600    59     4.112  0.488  
 6     6 4.3      59     4.112  0.188  
 7     7 2.8      59     4.112 -1.312  
 8     8 4.100    51     4.159 -0.059  
 9     9 3.4      51     4.159 -0.759  
10    10 4.5      40     4.224  0.276  
# … with 453 more rows</code></pre>
<p><strong>(LC5.4)</strong> Conduct a new exploratory data analysis with the same explanatory variable <span class="math inline">\(x\)</span> being <code>continent</code> but with <code>gdpPercap</code> as the new outcome variable <span class="math inline">\(y\)</span>. Remember, this involves three things:</p>
<ol style="list-style-type: decimal">
<li>Most crucially: Looking at the raw data values.</li>
<li>Computing summary statistics, such as means, medians, and interquartile ranges.</li>
<li>Creating data visualizations.</li>
</ol>
<p>What can you say about the differences in GDP per capita between continents based on this exploration?</p>
<p><strong>Solution</strong>:</p>
<ul>
<li>Looking at the raw data values:</li>
</ul>
<div class="sourceCode" id="cb651"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb651-1" data-line-number="1"><span class="kw">glimpse</span>(gapminder2007)</a></code></pre></div>
<pre><code>Observations: 142
Variables: 4
$ country   &lt;fct&gt; Afghanistan, Albania, Algeria, Angola, Argentina, Australia…
$ lifeExp   &lt;dbl&gt; 43.8, 76.4, 72.3, 42.7, 75.3, 81.2, 79.8, 75.6, 64.1, 79.4,…
$ continent &lt;fct&gt; Asia, Europe, Africa, Africa, Americas, Oceania, Europe, As…
$ gdpPercap &lt;dbl&gt; 975, 5937, 6223, 4797, 12779, 34435, 36126, 29796, 1391, 33…</code></pre>
<ul>
<li>Computing summary statistics, such as means, medians, and interquartile ranges:</li>
</ul>
<div class="sourceCode" id="cb653"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb653-1" data-line-number="1">gapminder2007 <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb653-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(gdpPercap, continent) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb653-3" data-line-number="3"><span class="st">  </span><span class="kw">skim</span>()</a></code></pre></div>
<pre><code>Skim summary statistics
 n obs: 142 
 n variables: 2 

── Variable type:factor ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
  variable missing complete   n n_unique                         top_counts
 continent       0      142 142        5 Afr: 52, Asi: 33, Eur: 30, Ame: 25
 ordered
   FALSE

── Variable type:numeric ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
  variable missing complete   n     mean       sd     p0     p25     p50
 gdpPercap       0      142 142 11680.07 12859.94 277.55 1624.84 6124.37
      p75     p100
 18008.84 49357.19</code></pre>
<ul>
<li>Creating data visualizations:</li>
</ul>
<div class="sourceCode" id="cb655"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb655-1" data-line-number="1"><span class="kw">ggplot</span>(gapminder2007, <span class="kw">aes</span>(<span class="dt">x =</span> continent, <span class="dt">y =</span> gdpPercap)) <span class="op">+</span></a>
<a class="sourceLine" id="cb655-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb655-3" data-line-number="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Continent&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;GPD per capita&quot;</span>,</a>
<a class="sourceLine" id="cb655-4" data-line-number="4">       <span class="dt">title =</span> <span class="st">&quot;GDP by continent&quot;</span>)</a></code></pre></div>
<p><img src="ModernDive_files/figure-html/unnamed-chunk-605-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<!--
TODO: Albert needs to double check interpretation:
-->
<p>Based on this exploration, it seems that GDP’s are very different among different continents, which means that continent might be a statistically significant predictor for an area’s GDP.</p>
<p><strong>(LC5.5)</strong> Fit a new linear regression using <code>lm(gdpPercap ~ continent, data = gapminder2007)</code> where <code>gdpPercap</code> is the new outcome variable <span class="math inline">\(y\)</span>. Get information about the “best-fitting” line from the regression table by applying the <code>get_regression_table()</code> function. How do the regression results match up with the results from your previous exploratory data analysis?</p>
<p><strong>Solution</strong>:</p>
<div class="sourceCode" id="cb656"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb656-1" data-line-number="1"><span class="co"># Fit regression model:</span></a>
<a class="sourceLine" id="cb656-2" data-line-number="2">gdp_model &lt;-<span class="st"> </span><span class="kw">lm</span>(gdpPercap <span class="op">~</span><span class="st"> </span>continent, <span class="dt">data =</span> gapminder2007)</a>
<a class="sourceLine" id="cb656-3" data-line-number="3"><span class="co"># Get regression table:</span></a>
<a class="sourceLine" id="cb656-4" data-line-number="4"><span class="kw">get_regression_table</span>(gdp_model)</a></code></pre></div>
<pre><code># A tibble: 5 x 7
  term              estimate std_error statistic p_value  lower_ci upper_ci
  &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 intercept          3089.03   1372.74     2.25    0.026   374.538  5803.53
2 continentAmericas  7914.00   2409.14     3.285   0.001  3150.08  12677.9 
3 continentAsia      9383.99   2203.13     4.259   0      5027.46  13740.5 
4 continentEurope   21965.4    2269.52     9.678   0     17477.6   26453.3 
5 continentOceania  26721.2    7132.96     3.746   0     12616.2   40826.1 </code></pre>
<p><span class="math display">\[
\begin{aligned}
\widehat{y} = \widehat{\text{gdpPercap}} &amp;= b_0 + b_{\text{Amer}}\cdot\mathbb{1}_{\mbox{Amer}}(x) + b_{\text{Asia}}\cdot\mathbb{1}_{\mbox{Asia}}(x) + \\
&amp; \qquad b_{\text{Euro}}\cdot\mathbb{1}_{\mbox{Euro}}(x) + b_{\text{Ocean}}\cdot\mathbb{1}_{\mbox{Ocean}}(x)\\
&amp;= 3089 + 7914\cdot\mathbb{1}_{\mbox{Amer}}(x) + 9384\cdot\mathbb{1}_{\mbox{Asia}}(x) + \\
&amp; \qquad 21965\cdot\mathbb{1}_{\mbox{Euro}}(x) + 26721\cdot\mathbb{1}_{\mbox{Ocean}}(x)
\end{aligned}
\]</span></p>
<!--
TODO: Albert will double check Starry's interpretation:
-->
<p>In our previous exploratory data analysis, it seemed that continent is a statistically significant predictor for an area’s GDP. Here, by fit a new linear regression using <code>lm(gdpPercap ~ continent, data = gapminder2007)</code> where <code>gdpPercap</code> is the new outcome variable <span class="math inline">\(y\)</span>, we are able to write an equation to predict <code>gdpPercap</code> using the continent as statistically significant predictors. Therefore, the regression results matches with the results from your previous exploratory data analysis.</p>
<p><strong>(LC5.6)</strong> Using either the sorting functionality of RStudio’s spreadsheet viewer or using the data wrangling tools you learned in Chapter <a href="3-wrangling.html#wrangling">3</a>, identify the five countries with the five smallest (most negative) residuals? What do these negative residuals say about their life expectancy relative to their continents?</p>
<p><strong>Solution</strong>:
Using the sorting functionality of RStudio’s spreadsheet viewer, we can identify that the five countries with the five smallest (most negative) residuals are: Afghanistan, Swaziland, Mozambique, Haiti, and Zambia.</p>
<p>These negative residuals indicate that these data points have the biggest negative deviations from their group means. This means that these five countries’ average life expectancies are the lowest comparing to their respective continents’ average life expectancies. For example, the residual for Afghanistan is <span class="math inline">\(-26.900\)</span> and it is the smallest residual. This means that the average life expectancy of Afghanistan is <span class="math inline">\(26.900\)</span> years lower than the average life expectancy of its continent, Asia.</p>
<p><strong>(LC5.7)</strong> Repeat this process, but identify the five countries with the five largest (most positive) residuals. What do these positive residuals say about their life expectancy relative to their continents?</p>
<p><strong>Solution</strong>:
Using either the sorting functionality of RStudio’s spreadsheet viewer, we can identify that the five countries with the five largest (most positive) residuals are: Reunion, Libya, Tunisia, Mauritius, and Algeria.</p>
<p>These positive residuals indicate that the data points are above the regression line with the longest distance. This means that these five countries’ average life expectancies are the highest comparing to their respective continents’ average life expectancies. For example, the residual for Reunion is <span class="math inline">\(21.636\)</span> and it is the largest residual. This means that the average life expectancy of Reunion is <span class="math inline">\(21.636\)</span> years lower than the average life expectancy of its continent, Africa.</p>
<p><strong>(LC5.8)</strong> Note in the following plot there are 3 points marked with dots along with:</p>
<ul>
<li>The “best” fitting solid regression line in blue</li>
<li>An arbitrarily chosen dotted red line</li>
<li>Another arbitrarily chosen dashed green line</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-607"></span>
<img src="ModernDive_files/figure-html/unnamed-chunk-607-1.png" alt="Regression line and two others." width="80%" />
<p class="caption">
FIGURE D.2: Regression line and two others.
</p>
</div>
<p>Compute the sum of squared residuals by hand for each line and show that of these three lines, the regression line in blue has the smallest value.</p>
<p><strong>Solution</strong>:</p>
<ul>
<li>The “best” fitting solid regression line in blue:</li>
</ul>
<p><span class="math display">\[
\sum_{i=1}^{n}(y_i - \widehat{y}_i)^2 = (2.0-1.5)^2+(0.50-2.0)^2+(3.0-2.5)^2=2.75
\]</span></p>
<ul>
<li>An arbitrarily chosen dotted red line:</li>
</ul>
<p><span class="math display">\[
\sum_{i=1}^{n}(y_i - \widehat{y}_i)^2 = (2.0-2.5)^2+(0.50-2.5)^2+(3.0-2.5)^2=4.5
\]</span></p>
<ul>
<li>Another arbitrarily chosen dashed green line:</li>
</ul>
<p><span class="math display">\[
\sum_{i=1}^{n}(y_i - \widehat{y}_i)^2 = (2.0-2.0)^2+(0.50-1.5)^2+(3.0-1.0)^2=5
\]</span></p>
<p>As calculated, <span class="math inline">\(2.75&lt;4.5&lt;5\)</span>. Therefore, we show that the regression line in blue has the smallest value of the residual sum of squares.</p>
<hr />
</div>
<div id="chapter-6-solutions" class="section level2">
<h2><span class="header-section-number">D.6</span> Chapter 6 Solutions</h2>
<div class="sourceCode" id="cb658"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb658-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb658-2" data-line-number="2"><span class="kw">library</span>(moderndive)</a>
<a class="sourceLine" id="cb658-3" data-line-number="3"><span class="kw">library</span>(skimr)</a>
<a class="sourceLine" id="cb658-4" data-line-number="4"><span class="kw">library</span>(ISLR)</a></code></pre></div>
<p><strong>(LC6.1)</strong> Compute the observed values, fitted values, and residuals not for the interaction model as we just did, but rather for the parallel slopes model we saved in <code>score_model_interaction</code>.</p>
<p><strong>Solution</strong>:</p>
<div class="sourceCode" id="cb659"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb659-1" data-line-number="1">regression_points_parallel &lt;-<span class="st"> </span><span class="kw">get_regression_points</span>(score_model_parallel_slopes)</a>
<a class="sourceLine" id="cb659-2" data-line-number="2">regression_points_parallel</a></code></pre></div>
<pre><code># A tibble: 463 x 6
      ID score   age gender score_hat  residual
   &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;fct&gt;      &lt;dbl&gt;     &lt;dbl&gt;
 1     1 4.7      36 female   4.172    0.528   
 2     2 4.100    36 female   4.172   -0.072000
 3     3 3.9      36 female   4.172   -0.272   
 4     4 4.8      36 female   4.172    0.628   
 5     5 4.600    59 male     4.163    0.437   
 6     6 4.3      59 male     4.163    0.137   
 7     7 2.8      59 male     4.163   -1.363   
 8     8 4.100    51 male     4.232   -0.132   
 9     9 3.4      51 male     4.232   -0.832   
10    10 4.5      40 female   4.13700  0.363   
# … with 453 more rows</code></pre>
<p><strong>(LC6.2)</strong> Conduct a new exploratory data analysis with the same outcome variable <span class="math inline">\(y\)</span> being <code>debt</code> but with <code>credit_rating</code> and <code>age</code> as the new explanatory variables <span class="math inline">\(x_1\)</span> and <span class="math inline">\(x_2\)</span>. Remember, this involves three things:</p>
<ol style="list-style-type: decimal">
<li>Most crucially: Looking at the raw data values.</li>
<li>Computing summary statistics, such as means, medians, and interquartile ranges.</li>
<li>Creating data visualizations.</li>
</ol>
<p>What can you say about the relationship between a credit card holder’s debt and their credit rating and age?</p>
<p><strong>Solution</strong>:</p>
<ul>
<li>Most crucially: Looking at the raw data values.</li>
</ul>
<div class="sourceCode" id="cb661"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb661-1" data-line-number="1">credit_ch6 <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb661-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(debt, credit_rating, age) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb661-3" data-line-number="3"><span class="st">  </span><span class="kw">head</span>()</a></code></pre></div>
<pre><code># A tibble: 6 x 3
   debt credit_rating   age
  &lt;int&gt;         &lt;int&gt; &lt;int&gt;
1   333           283    34
2   903           483    82
3   580           514    71
4   964           681    36
5   331           357    68
6  1151           569    77</code></pre>
<ul>
<li>Computing summary statistics, such as means, medians, and interquartile ranges.</li>
</ul>
<div class="sourceCode" id="cb663"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb663-1" data-line-number="1"><span class="kw">skim_with</span>(<span class="dt">numeric =</span> <span class="kw">list</span>(<span class="dt">hist =</span> <span class="ot">NULL</span>), <span class="dt">integer =</span> <span class="kw">list</span>(<span class="dt">hist =</span> <span class="ot">NULL</span>))</a></code></pre></div>
<div class="sourceCode" id="cb664"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb664-1" data-line-number="1">credit_ch6 <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb664-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(debt, credit_rating, age) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb664-3" data-line-number="3"><span class="st">  </span><span class="kw">skim</span>()</a></code></pre></div>
<pre><code>Skim summary statistics
 n obs: 400 
 n variables: 3 

── Variable type:integer ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
      variable missing complete   n   mean     sd p0    p25   p50    p75 p100
           age       0      400 400  55.67  17.25 23  41.75  56    70      98
 credit_rating       0      400 400 354.94 154.72 93 247.25 344   437.25  982
          debt       0      400 400 520.01 459.76  0  68.75 459.5 863    1999</code></pre>
<ul>
<li>Creating data visualizations.</li>
</ul>
<div class="sourceCode" id="cb666"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb666-1" data-line-number="1"><span class="kw">ggplot</span>(credit_ch6, <span class="kw">aes</span>(<span class="dt">x =</span> credit_rating, <span class="dt">y =</span> debt)) <span class="op">+</span></a>
<a class="sourceLine" id="cb666-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb666-3" data-line-number="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Credit rating&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Credit card debt (in $)&quot;</span>, </a>
<a class="sourceLine" id="cb666-4" data-line-number="4">       <span class="dt">title =</span> <span class="st">&quot;Debt and credit rating&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb666-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p><img src="ModernDive_files/figure-html/unnamed-chunk-615-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb667"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb667-1" data-line-number="1"><span class="kw">ggplot</span>(credit_ch6, <span class="kw">aes</span>(<span class="dt">x =</span> age, <span class="dt">y =</span> debt)) <span class="op">+</span></a>
<a class="sourceLine" id="cb667-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb667-3" data-line-number="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Age (in year)&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Credit card debt (in $)&quot;</span>, </a>
<a class="sourceLine" id="cb667-4" data-line-number="4">       <span class="dt">title =</span> <span class="st">&quot;Debt and age&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb667-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p><img src="ModernDive_files/figure-html/unnamed-chunk-615-2.png" width="\textwidth" style="display: block; margin: auto;" />
It seems that there is a positive relationship between one’s credit rating and their debt, and a slight negative between one’s age and their debt.</p>
<p><strong>(LC6.3)</strong> Fit a new simple linear regression using <code>lm(debt ~ credit_rating + age, data = credit_ch6)</code> where <code>credit_rating</code> and <code>age</code> are the new numerical explanatory variables <span class="math inline">\(x_1\)</span> and <span class="math inline">\(x_2\)</span>. Get information about the “best-fitting” regression plane from the regression table by applying the <code>get_regression_table()</code> function. How do the regression results match up with the results from your previous exploratory data analysis?</p>
<div class="sourceCode" id="cb668"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb668-1" data-line-number="1"><span class="co"># Fit regression model:</span></a>
<a class="sourceLine" id="cb668-2" data-line-number="2">debt_model_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">lm</span>(debt <span class="op">~</span><span class="st"> </span>credit_rating <span class="op">+</span><span class="st"> </span>age, <span class="dt">data =</span> credit_ch6)</a>
<a class="sourceLine" id="cb668-3" data-line-number="3"><span class="co"># Get regression table:</span></a>
<a class="sourceLine" id="cb668-4" data-line-number="4"><span class="kw">get_regression_table</span>(debt_model_<span class="dv">2</span>)</a></code></pre></div>
<pre><code># A tibble: 3 x 7
  term          estimate std_error statistic p_value lower_ci upper_ci
  &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
1 intercept     -269.581    44.806    -6.017       0 -357.668 -181.494
2 credit_rating    2.593     0.074    34.84        0    2.447    2.74 
3 age             -2.351     0.668    -3.521       0   -3.663   -1.038</code></pre>
<p>The coefficients for both new numerical explanatory variables <span class="math inline">\(x_1\)</span> and <span class="math inline">\(x_2\)</span>, <code>credit_rating</code> and <code>age</code>, are <span class="math inline">\(2.59\)</span> and <span class="math inline">\(-2.35\)</span> respectively, which means that <code>debt</code> and <code>credit_rating</code> are positively correlated, and <code>debt</code> and <code>age</code> are negatively correlated. This matches up with the results from your previous exploratory data analysis.</p>
<hr />
</div>
<div id="chapter-7-solutions" class="section level2">
<h2><span class="header-section-number">D.7</span> Chapter 7 Solutions</h2>
<div class="sourceCode" id="cb670"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb670-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb670-2" data-line-number="2"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb670-3" data-line-number="3"><span class="kw">library</span>(moderndive)</a>
<a class="sourceLine" id="cb670-4" data-line-number="4"><span class="kw">library</span>(gapminder)</a>
<a class="sourceLine" id="cb670-5" data-line-number="5"><span class="kw">library</span>(skimr)</a></code></pre></div>
<p><strong>(LC7.1)</strong> Why was it important to mix the bowl before we sampled the balls?</p>
<p><strong>Solution</strong>:</p>
<p>So that we make sure the sampled balls are randomized.</p>
<p><strong>(LC7.2)</strong> Why is it that our 33 groups of friends did not all have the same numbers of balls that were red out of 50, and hence different proportions red?</p>
<p><strong>Solution</strong>:</p>
<p>Because not all pairs have the same portion of the population of the balls, so each pair has a different sampled balls with different color compositions.</p>
<p><strong>(LC7.3)</strong> Why couldn’t we study the effects of sampling variation when we used the virtual shovel only once? Why did we need to take more than one virtual sample (in our case 33 virtual samples)?</p>
<p><strong>Solution</strong>:</p>
<p>If we use the virtual shovel only once, we only get one sample of the population. We need to take more than one virtual sample to get a range of proportions.</p>
<p><strong>(LC7.4)</strong> Why did we not take 1000 “tactile” samples of 50 balls by hand?</p>
<p><strong>Solution</strong>:</p>
<p>That would be way too much repeated work.</p>
<p><strong>(LC7.5)</strong> Looking at Figure <a href="7-sampling.html#fig:samplingdistribution-virtual-1000">7.10</a>, would you say that sampling 50 balls where 30% of them were red is likely or not? What about sampling 50 balls where 10% of them were red?</p>
<p><strong>Solution</strong>:</p>
<p>According to the Figure, less than 150 out of the 1000 counts were 30% red. So I would say that sampling 50 balls where 30% of them were red is not very likely. Almost no count was only 10% red, so sampling 50 balls where 10% of them were red is extremely unlikely.</p>
<p><strong>(LC7.6)</strong> In Figure <a href="7-sampling.html#fig:comparing-sampling-distributions">7.12</a>, we used shovels to take 1000 samples each, computed the resulting 1000 proportions of the shovel’s balls that were red, and then visualized the distribution of these 1000 proportions in a histogram. We did this for shovels with 25, 50, and 100 slots in them. As the size of the shovels increased, the histograms got narrower. In other words, as the size of the shovels increased from 25 to 50 to 100, did the 1000 proportions</p>
<ul>
<li>A. vary less,</li>
<li>B. vary by the same amount, or</li>
<li><p>C. vary more?</p>
<p><strong>Solution</strong>:</p>
<p>A. As the histograms got narrower, the 1000 proportions varied less.</p></li>
</ul>
<p><strong>(LC7.7)</strong> What summary statistic did we use to quantify how much the 1000 proportions red varied?</p>
<ul>
<li>A. The inter-quartile range</li>
<li>B. The standard deviation</li>
<li>C. The range: the largest value minus the smallest.</li>
</ul>
<p><strong>Solution</strong>:</p>
<p>B. The standard deviation is used to quantify how much a set of data varies.</p>
<p><strong>(LC7.8)</strong> In the case of our bowl activity, what is the <em>population parameter</em>? Do we know its value?</p>
<p><strong>Solution</strong>:</p>
<!--
  TODO: Albert needs to double check this ans:
  -->
<p>The <em>population parameter</em> in the case of our bowl activity is the total number of balls. We know its value.</p>
<p><strong>(LC7.9)</strong> What would performing a census in our bowl activity correspond to? Why did we not perform a census?</p>
<p><strong>Solution</strong>:</p>
<p>Performing a census in our bowl activity correspond to counting the total number of red balls in all balls, We did not perform a census because it would be too much repetitive work and it is unnecessary.</p>
<p><strong>(LC7.10)</strong> What purpose do <em>point estimates</em> serve in general? What is the name of the point estimate specific to our bowl activity? What is its mathematical notation?</p>
<p><strong>Solution</strong>:</p>
<p><em>Point estimates</em> serve to <em>estimate</em> an unknown population parameter in the sample. In our bowl activity, our point estimate is the <em>sample proportion</em>: the proportion of the shovel’s balls that are red. We mathematically denote the sample proportion using <span class="math inline">\(\widehat{p}\)</span>.</p>
<p><strong>(LC7.11)</strong> How did we ensure that our tactile samples using the shovel were random?</p>
<p><strong>Solution</strong>:</p>
<p>We virtually shuffle the sample each time.</p>
<p><strong>(LC7.12)</strong> Why is it important that sampling be done <em>at random</em>?</p>
<p><strong>Solution</strong>:</p>
<p>So that we get different samples each time to estimate the total population.</p>
<p><strong>(LC7.13)</strong> What are we <em>inferring</em> about the bowl based on the samples using the shovel?</p>
<p><strong>Solution</strong>:</p>
<p>We are <em>inferring</em> that the samples are representing the total population in the ball.</p>
<p><strong>(LC7.14)</strong> What purpose did the <em>sampling distributions</em> serve?</p>
<p><strong>Solution</strong>:</p>
<p>Using the sampling distributions, for a given sample size <span class="math inline">\(n\)</span>, we can make statements about what values we can typically expect.</p>
<p><strong>(LC7.15)</strong> What does the <em>standard error</em> of the sample proportion <span class="math inline">\(\widehat{p}\)</span> quantify?</p>
<p><strong>Solution</strong>:</p>
<p>Standard errors quantify the effect of sampling variation induced on our estimates.</p>
<p><strong>(LC7.16)</strong> The table that follows is a version of Table <a href="7-sampling.html#tab:comparing-n-2">7.3</a> matching sample sizes <span class="math inline">\(n\)</span> to different <em>standard errors</em> of the sample proportion <span class="math inline">\(\widehat{p}\)</span>, but with the rows randomly re-ordered and the sample sizes removed. Fill in the table by matching the correct sample sizes to the correct standard errors.</p>
<table class="table" style="font-size: 16px; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th>
Sample size
</th>
<th>
Standard error of <span class="math inline">\(\widehat{p}\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
n =
</td>
<td>
0.094
</td>
</tr>
<tr>
<td>
n =
</td>
<td>
0.045
</td>
</tr>
<tr>
<td>
n =
</td>
<td>
0.069
</td>
</tr>
</tbody>
</table>
<p><strong>Solution</strong>:</p>
<p><span class="math inline">\(n\)</span> = <span class="math inline">\(25\)</span>, <span class="math inline">\(100\)</span>, <span class="math inline">\(50\)</span> respectively.</p>
<p>For the following four learning checks, let the <em>estimate</em> be the sample proportion <span class="math inline">\(\widehat{p}\)</span>: the proportion of a shovel’s balls that were red. It estimates the population proportion <span class="math inline">\(p\)</span>: the proportion of the bowl’s balls that were red.</p>
<p><strong>(LC7.17)</strong> What is the difference between an <em>accurate</em> estimate and a <em>precise</em> estimate?</p>
<p><strong>Solution</strong>:</p>
<p>An <em>accurate</em> estimate gives an estimate that is close to, but not necessary the exact, actual value. A <em>precise</em> estimate gives the exact actual value.</p>
<p><strong>(LC7.18)</strong> How do we ensure that an estimate is <em>accurate</em>? How do we ensure that an estimate is <em>precise</em>?</p>
<p>To ensure that an estimate is <em>accurate</em>, we need to have a reasonable range of estimate, and make sure that the estimate is reasonably close to the actual value To ensure that an estimate is <em>precise</em>, we need to make sure the estimate is equivalent to the actual value.</p>
<p><strong>(LC7.19)</strong> In a real-life situation, we would not take 1000 different samples to infer about a population, but rather only one. Then, what was the purpose of our exercises where we took 1000 different samples?</p>
<p><strong>Solution</strong>:</p>
<p>To get a narrower range of the estimates.</p>
<p><strong>(LC7.20)</strong> Figure <a href="7-sampling.html#fig:accuracy-vs-precision">7.16</a> with the targets shows four combinations of “accurate versus precise” estimates. Draw four corresponding <em>sampling distributions</em> of the sample proportion <span class="math inline">\(\widehat{p}\)</span>, like the one in the left-most plot in Figure <a href="7-sampling.html#fig:comparing-sampling-distributions-3">7.15</a>.</p>
<p><strong>Solution</strong>:
<img src="ModernDive_files/figure-html/unnamed-chunk-619-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Comment on the representativeness of the following <em>sampling methodologies</em>:</p>
<p><strong>(LC7.21)</strong> The Royal Air Force wants to study how resistant all their airplanes are to bullets. They study the bullet holes on all the airplanes on the tarmac after an air battle against the Luftwaffe (German Air Force).</p>
<p><strong>Solution</strong>:</p>
<p>The airplanes on the tarmac after an air battle against the Luftwaffe is not a good representation of all airplanes, because the airplanes which were attacked in less resistant areas did not make it back to the tarmac. This is called <em>survival bias</em>. Survivor’s bias or survival bias is the logical error of concentrating on the people or things that made it past some selection process and overlooking those that did not, typically because of their lack of visibility. This can lead to false conclusions in several different ways. It is a form of selection bias.</p>
<p><strong>(LC7.22)</strong> Imagine it is 1993, a time when almost all households had landlines. You want to know the average number of people in each household in your city. You randomly pick out 500 phone numbers from the phone book and conduct a phone survey.</p>
<p><strong>Solution</strong>:</p>
<p>This is not a good representation, because: (1) adults are more likely to pickup phone calls; (2) households with more people are more likely to have people to be available to pickup phone calls; (3) we are not certain whether all households are in the phone book.</p>
<p><strong>(LC7.23)</strong> You want to know the prevalence of illegal downloading of TV shows among students at a local college. You get the emails of 100 randomly chosen students and ask them, “How many times did you download a pirated TV show last week?”.</p>
<p><strong>Solution</strong>:</p>
<p>This is not a good representation, because it is very likely that students will lie in this survey to stay out of trouble. So we may not get honest data. This is called <em>volunteer bias</em>: systematic error due to differences between those who choose to participate in studies and those who do not.</p>
<p><strong>(LC7.24)</strong> A local college administrator wants to know the average income of all graduates in the last 10 years. So they get the records of five randomly chosen graduates, contact them, and obtain their answers.</p>
<p><strong>Solution</strong>:</p>
<p>This is not a good representation, because the sample size is too small. The sample is representative but not precise.</p>
<hr />
</div>
<div id="chapter-8-solutions" class="section level2">
<h2><span class="header-section-number">D.8</span> Chapter 8 Solutions</h2>
<div class="sourceCode" id="cb671"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb671-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb671-2" data-line-number="2"><span class="kw">library</span>(moderndive)</a>
<a class="sourceLine" id="cb671-3" data-line-number="3"><span class="kw">library</span>(infer)</a></code></pre></div>
<p><strong>(LC8.1)</strong> What is the chief difference between a bootstrap distribution and a sampling distribution?</p>
<p><strong>Solution</strong>:</p>
<p>A bootstrap sample is a smaller sample that is “bootstrapped” from a larger sample. Bootstrapping is a type of resampling where large numbers of smaller samples of the same size are repeatedly drawn, with replacement, from a single original sample.</p>
<p><strong>(LC8.2)</strong> Looking at the bootstrap distribution for the sample mean in Figure <a href="8-confidence-intervals.html#fig:one-thousand-sample-means">8.14</a>, between what two values would you say <em>most</em> values lie?</p>
<p><strong>Solution</strong>:</p>
<p><em>Most</em> values lie in 1990 amd 2000.</p>
<p><strong>(LC8.3)</strong> What condition about the bootstrap distribution must be met for us to be able to construct confidence intervals using the standard error method?</p>
<p><strong>Solution</strong>:</p>
<p>We can only use the standard error rule when the bootstrap distribution is roughly normally distributed.</p>
<p><strong>(LC8.4)</strong> Say we wanted to construct a 68% confidence interval instead of a 95% confidence interval for <span class="math inline">\(\mu\)</span>. Describe what changes are needed to make this happen. Hint: we suggest you look at Appendix <a href="A-appendixA.html#appendix-normal-curve">A.2</a> on the normal distribution.</p>
<p><strong>Solution</strong>:</p>
<p>Thus, using our 68% rule of thumb about normal distributions from Appendix <a href="A-appendixA.html#appendix-normal-curve">A.2</a>, we can use the following formula to determine the lower and upper endpoints of a 95% confidence interval for <span class="math inline">\(\mu\)</span>:</p>
<p><span class="math display">\[\overline{x} \pm 1 \cdot SE = (\overline{x} - 1 \cdot SE, \overline{x} + 1 \cdot SE)\]</span></p>
<p><strong>(LC8.5)</strong> Construct a 95% confidence interval for the <em>median</em> year of minting of <em>all</em> US pennies? Use the percentile method and, if appropriate, then use the standard-error method.</p>
<p><strong>Solution</strong>:</p>
<p>Using the percentile method:</p>
<div class="sourceCode" id="cb672"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb672-1" data-line-number="1">bootstrap_distribution &lt;-<span class="st"> </span>pennies_sample <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb672-2" data-line-number="2"><span class="st">  </span><span class="kw">specify</span>(<span class="dt">response =</span> year) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb672-3" data-line-number="3"><span class="st">  </span><span class="kw">generate</span>(<span class="dt">reps =</span> <span class="dv">1000</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb672-4" data-line-number="4"><span class="st">  </span><span class="kw">calculate</span>(<span class="dt">stat =</span> <span class="st">&quot;median&quot;</span>)</a>
<a class="sourceLine" id="cb672-5" data-line-number="5">percentile_ci &lt;-<span class="st"> </span>bootstrap_distribution <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb672-6" data-line-number="6"><span class="st">  </span><span class="kw">get_confidence_interval</span>(<span class="dt">level =</span> <span class="fl">0.95</span>, <span class="dt">type =</span> <span class="st">&quot;percentile&quot;</span>)</a>
<a class="sourceLine" id="cb672-7" data-line-number="7">percentile_ci</a></code></pre></div>
<pre><code># A tibble: 1 x 2
  `2.5%` `97.5%`
   &lt;dbl&gt;   &lt;dbl&gt;
1   1988    2000</code></pre>
<hr />
</div>
<div id="chapter-9-solutions" class="section level2">
<h2><span class="header-section-number">D.9</span> Chapter 9 Solutions</h2>
<div class="sourceCode" id="cb674"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb674-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb674-2" data-line-number="2"><span class="kw">library</span>(infer)</a>
<a class="sourceLine" id="cb674-3" data-line-number="3"><span class="kw">library</span>(moderndive)</a>
<a class="sourceLine" id="cb674-4" data-line-number="4"><span class="kw">library</span>(nycflights13)</a>
<a class="sourceLine" id="cb674-5" data-line-number="5"><span class="kw">library</span>(ggplot2movies)</a></code></pre></div>
<hr />
</div>
<div id="chapter-10-solutions" class="section level2">
<h2><span class="header-section-number">D.10</span> Chapter 10 Solutions</h2>
<div class="sourceCode" id="cb675"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb675-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb675-2" data-line-number="2"><span class="kw">library</span>(moderndive)</a>
<a class="sourceLine" id="cb675-3" data-line-number="3"><span class="kw">library</span>(infer)</a></code></pre></div>
<hr />
</div>
<div id="chapter-11-solutions" class="section level2">
<h2><span class="header-section-number">D.11</span> Chapter 11 Solutions</h2>
<div class="sourceCode" id="cb676"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb676-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb676-2" data-line-number="2"><span class="kw">library</span>(moderndive)</a>
<a class="sourceLine" id="cb676-3" data-line-number="3"><span class="kw">library</span>(skimr)</a>
<a class="sourceLine" id="cb676-4" data-line-number="4"><span class="kw">library</span>(fivethirtyeight)</a></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="C-appendixC.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="E-appendixE.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/moderndive/moderndive_book/edit/master/94-appendixD.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
