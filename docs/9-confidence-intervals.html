<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>An Introduction to Statistical and Data Sciences via R</title>
  <meta name="description" content="An open-source and fully-reproducible electronic textbook bridging the gap between traditional introductory statistics and data science courses.">
  <meta name="generator" content="bookdown 0.7.3 and GitBook 2.6.7">

  <meta property="og:title" content="An Introduction to Statistical and Data Sciences via R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://moderndive.com/" />
  <meta property="og:image" content="http://moderndive.com/images/logos/book_cover.png" />
  <meta property="og:description" content="An open-source and fully-reproducible electronic textbook bridging the gap between traditional introductory statistics and data science courses." />
  <meta name="github-repo" content="moderndive/moderndive_book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="An Introduction to Statistical and Data Sciences via R" />
  
  <meta name="twitter:description" content="An open-source and fully-reproducible electronic textbook bridging the gap between traditional introductory statistics and data science courses." />
  <meta name="twitter:image" content="http://moderndive.com/images/logos/book_cover.png" />

<meta name="author" content="Chester Ismay and Albert Y. Kim">


<meta name="date" content="2018-07-07">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="images/logos/favicons/apple-touch-icon.png">
  <link rel="shortcut icon" href="images/logos/favicons/favicon.ico" type="image/x-icon">
<link rel="prev" href="8-sampling.html">
<link rel="next" href="10-hypothesis-testing.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.4/dygraphs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-89938436-1', 'auto');
  ga('send', 'pageview');

</script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#sec:intro-for-students"><i class="fa fa-check"></i><b>1.1</b> Introduction for students</a><ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#subsec:learning-goals"><i class="fa fa-check"></i><b>1.1.1</b> What you will learn from this book</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#subsec:pipeline"><i class="fa fa-check"></i><b>1.1.2</b> Data/science pipeline</a></li>
<li class="chapter" data-level="1.1.3" data-path="index.html"><a href="index.html#subsec:reproducible"><i class="fa fa-check"></i><b>1.1.3</b> Reproducible research</a></li>
<li class="chapter" data-level="1.1.4" data-path="index.html"><a href="index.html#final-note-for-students"><i class="fa fa-check"></i><b>1.1.4</b> Final note for students</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#sec:intro-instructors"><i class="fa fa-check"></i><b>1.2</b> Introduction for instructors</a><ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#who-is-this-book-for"><i class="fa fa-check"></i><b>1.2.1</b> Who is this book for?</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#sec:connect-contribute"><i class="fa fa-check"></i><b>1.3</b> Connect and contribute</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#sec:about-book"><i class="fa fa-check"></i><b>1.4</b> About this book</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#sec:about-authors"><i class="fa fa-check"></i><b>1.5</b> About the authors</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-getting-started.html"><a href="2-getting-started.html"><i class="fa fa-check"></i><b>2</b> Getting Started with Data in R</a><ul>
<li class="chapter" data-level="2.1" data-path="2-getting-started.html"><a href="2-getting-started.html#what-are-r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> What are R and RStudio?</a><ul>
<li class="chapter" data-level="2.1.1" data-path="2-getting-started.html"><a href="2-getting-started.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>2.1.1</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="2.1.2" data-path="2-getting-started.html"><a href="2-getting-started.html#using-r-via-rstudio"><i class="fa fa-check"></i><b>2.1.2</b> Using R via RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="2-getting-started.html"><a href="2-getting-started.html#code"><i class="fa fa-check"></i><b>2.2</b> How do I code in R?</a><ul>
<li class="chapter" data-level="2.2.1" data-path="2-getting-started.html"><a href="2-getting-started.html#programming-concepts"><i class="fa fa-check"></i><b>2.2.1</b> Basic programming concepts and terminology</a></li>
<li class="chapter" data-level="2.2.2" data-path="2-getting-started.html"><a href="2-getting-started.html#tips-on-learning-to-code"><i class="fa fa-check"></i><b>2.2.2</b> Tips on learning to code</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2-getting-started.html"><a href="2-getting-started.html#packages"><i class="fa fa-check"></i><b>2.3</b> What are R packages?</a><ul>
<li class="chapter" data-level="2.3.1" data-path="2-getting-started.html"><a href="2-getting-started.html#package-installation"><i class="fa fa-check"></i><b>2.3.1</b> Package installation</a></li>
<li class="chapter" data-level="2.3.2" data-path="2-getting-started.html"><a href="2-getting-started.html#package-loading"><i class="fa fa-check"></i><b>2.3.2</b> Package loading</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="2-getting-started.html"><a href="2-getting-started.html#nycflights13"><i class="fa fa-check"></i><b>2.4</b> Explore your first dataset</a><ul>
<li class="chapter" data-level="2.4.1" data-path="2-getting-started.html"><a href="2-getting-started.html#nycflights13-package"><i class="fa fa-check"></i><b>2.4.1</b> nycflights13 package</a></li>
<li class="chapter" data-level="2.4.2" data-path="2-getting-started.html"><a href="2-getting-started.html#flights-data-frame"><i class="fa fa-check"></i><b>2.4.2</b> flights data frame</a></li>
<li class="chapter" data-level="2.4.3" data-path="2-getting-started.html"><a href="2-getting-started.html#exploredataframes"><i class="fa fa-check"></i><b>2.4.3</b> Exploring data frames</a></li>
<li class="chapter" data-level="2.4.4" data-path="2-getting-started.html"><a href="2-getting-started.html#help-files"><i class="fa fa-check"></i><b>2.4.4</b> Help files</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="2-getting-started.html"><a href="2-getting-started.html#conclusion"><i class="fa fa-check"></i><b>2.5</b> Conclusion</a><ul>
<li class="chapter" data-level="2.5.1" data-path="2-getting-started.html"><a href="2-getting-started.html#whats-to-come"><i class="fa fa-check"></i><b>2.5.1</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Data Science via the tidyverse</b></span></li>
<li class="chapter" data-level="3" data-path="3-viz.html"><a href="3-viz.html"><i class="fa fa-check"></i><b>3</b> Data Visualization via ggplot2</a><ul>
<li class="chapter" data-level="" data-path="3-viz.html"><a href="3-viz.html#needed-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="3.1" data-path="3-viz.html"><a href="3-viz.html#grammarofgraphics"><i class="fa fa-check"></i><b>3.1</b> The Grammar of Graphics</a><ul>
<li class="chapter" data-level="3.1.1" data-path="3-viz.html"><a href="3-viz.html#components-of-the-grammar"><i class="fa fa-check"></i><b>3.1.1</b> Components of the Grammar</a></li>
<li class="chapter" data-level="3.1.2" data-path="3-viz.html"><a href="3-viz.html#gapminder"><i class="fa fa-check"></i><b>3.1.2</b> Gapminder</a></li>
<li class="chapter" data-level="3.1.3" data-path="3-viz.html"><a href="3-viz.html#other-components-of-the-grammar"><i class="fa fa-check"></i><b>3.1.3</b> Other components of the Grammar</a></li>
<li class="chapter" data-level="3.1.4" data-path="3-viz.html"><a href="3-viz.html#the-ggplot2-package"><i class="fa fa-check"></i><b>3.1.4</b> The ggplot2 package</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="3-viz.html"><a href="3-viz.html#FiveNG"><i class="fa fa-check"></i><b>3.2</b> Five Named Graphs - The 5NG</a></li>
<li class="chapter" data-level="3.3" data-path="3-viz.html"><a href="3-viz.html#scatterplots"><i class="fa fa-check"></i><b>3.3</b> 5NG#1: Scatterplots</a><ul>
<li class="chapter" data-level="3.3.1" data-path="3-viz.html"><a href="3-viz.html#geompoint"><i class="fa fa-check"></i><b>3.3.1</b> Scatterplots via geom_point</a></li>
<li class="chapter" data-level="3.3.2" data-path="3-viz.html"><a href="3-viz.html#overplotting"><i class="fa fa-check"></i><b>3.3.2</b> Over-plotting</a></li>
<li class="chapter" data-level="3.3.3" data-path="3-viz.html"><a href="3-viz.html#summary"><i class="fa fa-check"></i><b>3.3.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="3-viz.html"><a href="3-viz.html#linegraphs"><i class="fa fa-check"></i><b>3.4</b> 5NG#2: Linegraphs</a><ul>
<li class="chapter" data-level="3.4.1" data-path="3-viz.html"><a href="3-viz.html#geomline"><i class="fa fa-check"></i><b>3.4.1</b> Linegraphs via geom_line</a></li>
<li class="chapter" data-level="3.4.2" data-path="3-viz.html"><a href="3-viz.html#summary-1"><i class="fa fa-check"></i><b>3.4.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="3-viz.html"><a href="3-viz.html#histograms"><i class="fa fa-check"></i><b>3.5</b> 5NG#3: Histograms</a><ul>
<li class="chapter" data-level="3.5.1" data-path="3-viz.html"><a href="3-viz.html#geomhistogram"><i class="fa fa-check"></i><b>3.5.1</b> Histograms via geom_histogram</a></li>
<li class="chapter" data-level="3.5.2" data-path="3-viz.html"><a href="3-viz.html#adjustbins"><i class="fa fa-check"></i><b>3.5.2</b> Adjusting the bins</a></li>
<li class="chapter" data-level="3.5.3" data-path="3-viz.html"><a href="3-viz.html#summary-2"><i class="fa fa-check"></i><b>3.5.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="3-viz.html"><a href="3-viz.html#facets"><i class="fa fa-check"></i><b>3.6</b> Facets</a></li>
<li class="chapter" data-level="3.7" data-path="3-viz.html"><a href="3-viz.html#boxplots"><i class="fa fa-check"></i><b>3.7</b> 5NG#4: Boxplots</a><ul>
<li class="chapter" data-level="3.7.1" data-path="3-viz.html"><a href="3-viz.html#geomboxplot"><i class="fa fa-check"></i><b>3.7.1</b> Boxplots via geom_boxplot</a></li>
<li class="chapter" data-level="3.7.2" data-path="3-viz.html"><a href="3-viz.html#summary-3"><i class="fa fa-check"></i><b>3.7.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="3-viz.html"><a href="3-viz.html#geombar"><i class="fa fa-check"></i><b>3.8</b> 5NG#5: Barplots</a><ul>
<li class="chapter" data-level="3.8.1" data-path="3-viz.html"><a href="3-viz.html#barplots-via-geom_bargeom_col"><i class="fa fa-check"></i><b>3.8.1</b> Barplots via geom_bar/geom_col</a></li>
<li class="chapter" data-level="3.8.2" data-path="3-viz.html"><a href="3-viz.html#must-avoid-pie-charts"><i class="fa fa-check"></i><b>3.8.2</b> Must avoid pie charts!</a></li>
<li class="chapter" data-level="3.8.3" data-path="3-viz.html"><a href="3-viz.html#using-barplots-to-compare-two-categorical-variables"><i class="fa fa-check"></i><b>3.8.3</b> Using barplots to compare two categorical variables</a></li>
<li class="chapter" data-level="3.8.4" data-path="3-viz.html"><a href="3-viz.html#summary-4"><i class="fa fa-check"></i><b>3.8.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="3-viz.html"><a href="3-viz.html#conclusion-1"><i class="fa fa-check"></i><b>3.9</b> Conclusion</a><ul>
<li class="chapter" data-level="3.9.1" data-path="3-viz.html"><a href="3-viz.html#review-questions"><i class="fa fa-check"></i><b>3.9.1</b> Review questions</a></li>
<li class="chapter" data-level="3.9.2" data-path="3-viz.html"><a href="3-viz.html#whats-to-come-1"><i class="fa fa-check"></i><b>3.9.2</b> What’s to come?</a></li>
<li class="chapter" data-level="3.9.3" data-path="3-viz.html"><a href="3-viz.html#resources"><i class="fa fa-check"></i><b>3.9.3</b> Resources</a></li>
<li class="chapter" data-level="3.9.4" data-path="3-viz.html"><a href="3-viz.html#script-of-r-code"><i class="fa fa-check"></i><b>3.9.4</b> Script of R code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-tidy.html"><a href="4-tidy.html"><i class="fa fa-check"></i><b>4</b> Tidy Data via tidyr</a><ul>
<li class="chapter" data-level="" data-path="4-tidy.html"><a href="4-tidy.html#needed-packages-1"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="4.1" data-path="4-tidy.html"><a href="4-tidy.html#what-is-tidy-data"><i class="fa fa-check"></i><b>4.1</b> What is tidy data?</a></li>
<li class="chapter" data-level="4.2" data-path="4-tidy.html"><a href="4-tidy.html#back-to-nycflights13"><i class="fa fa-check"></i><b>4.2</b> Back to nycflights13</a><ul>
<li class="chapter" data-level="4.2.1" data-path="4-tidy.html"><a href="4-tidy.html#observational-units"><i class="fa fa-check"></i><b>4.2.1</b> Observational units</a></li>
<li class="chapter" data-level="4.2.2" data-path="4-tidy.html"><a href="4-tidy.html#identification-vs-measurement"><i class="fa fa-check"></i><b>4.2.2</b> Identification vs measurement variables</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="4-tidy.html"><a href="4-tidy.html#importing-csvs-via-readr"><i class="fa fa-check"></i><b>4.3</b> Importing CSVs via readr</a></li>
<li class="chapter" data-level="4.4" data-path="4-tidy.html"><a href="4-tidy.html#tidying"><i class="fa fa-check"></i><b>4.4</b> Converting from wide to long</a></li>
<li class="chapter" data-level="4.5" data-path="4-tidy.html"><a href="4-tidy.html#optional-normal-forms-of-data"><i class="fa fa-check"></i><b>4.5</b> Optional: Normal forms of data</a></li>
<li class="chapter" data-level="4.6" data-path="4-tidy.html"><a href="4-tidy.html#conclusion-2"><i class="fa fa-check"></i><b>4.6</b> Conclusion</a><ul>
<li class="chapter" data-level="4.6.1" data-path="4-tidy.html"><a href="4-tidy.html#review-questions-1"><i class="fa fa-check"></i><b>4.6.1</b> Review questions</a></li>
<li class="chapter" data-level="4.6.2" data-path="4-tidy.html"><a href="4-tidy.html#whats-to-come-2"><i class="fa fa-check"></i><b>4.6.2</b> What’s to come?</a></li>
<li class="chapter" data-level="4.6.3" data-path="4-tidy.html"><a href="4-tidy.html#script-of-r-code-1"><i class="fa fa-check"></i><b>4.6.3</b> Script of R code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-wrangling.html"><a href="5-wrangling.html"><i class="fa fa-check"></i><b>5</b> Data Wrangling via dplyr</a><ul>
<li class="chapter" data-level="" data-path="5-wrangling.html"><a href="5-wrangling.html#needed-packages-2"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="5.1" data-path="5-wrangling.html"><a href="5-wrangling.html#piping"><i class="fa fa-check"></i><b>5.1</b> The pipe <code>%&gt;%</code></a></li>
<li class="chapter" data-level="5.2" data-path="5-wrangling.html"><a href="5-wrangling.html#five-main-verbs---the-5mv"><i class="fa fa-check"></i><b>5.2</b> Five Main Verbs - The 5MV</a></li>
<li class="chapter" data-level="5.3" data-path="5-wrangling.html"><a href="5-wrangling.html#filter"><i class="fa fa-check"></i><b>5.3</b> 5MV#1: Filter observations using filter</a></li>
<li class="chapter" data-level="5.4" data-path="5-wrangling.html"><a href="5-wrangling.html#summarize"><i class="fa fa-check"></i><b>5.4</b> 5MV#2: Summarize variables using summarize</a></li>
<li class="chapter" data-level="5.5" data-path="5-wrangling.html"><a href="5-wrangling.html#groupby"><i class="fa fa-check"></i><b>5.5</b> 5MV#3: Group rows using group_by</a><ul>
<li class="chapter" data-level="5.5.1" data-path="5-wrangling.html"><a href="5-wrangling.html#grouping-by-more-than-one-variable"><i class="fa fa-check"></i><b>5.5.1</b> Grouping by more than one variable</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="5-wrangling.html"><a href="5-wrangling.html#mv4-create-new-variableschange-old-variables-using-mutate"><i class="fa fa-check"></i><b>5.6</b> 5MV#4: Create new variables/change old variables using mutate</a></li>
<li class="chapter" data-level="5.7" data-path="5-wrangling.html"><a href="5-wrangling.html#arrange"><i class="fa fa-check"></i><b>5.7</b> 5MV#5: Reorder the data frame using arrange</a></li>
<li class="chapter" data-level="5.8" data-path="5-wrangling.html"><a href="5-wrangling.html#joins"><i class="fa fa-check"></i><b>5.8</b> Joining data frames</a><ul>
<li class="chapter" data-level="5.8.1" data-path="5-wrangling.html"><a href="5-wrangling.html#joining-by-key-variables"><i class="fa fa-check"></i><b>5.8.1</b> Joining by key variables</a></li>
<li class="chapter" data-level="5.8.2" data-path="5-wrangling.html"><a href="5-wrangling.html#joining-by-key-variables-with-different-names"><i class="fa fa-check"></i><b>5.8.2</b> Joining by key variables with different names</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="5-wrangling.html"><a href="5-wrangling.html#other-verbs"><i class="fa fa-check"></i><b>5.9</b> Optional: Other verbs</a><ul>
<li class="chapter" data-level="5.9.1" data-path="5-wrangling.html"><a href="5-wrangling.html#select"><i class="fa fa-check"></i><b>5.9.1</b> Select variables using select</a></li>
<li class="chapter" data-level="5.9.2" data-path="5-wrangling.html"><a href="5-wrangling.html#rename"><i class="fa fa-check"></i><b>5.9.2</b> Rename variables using rename</a></li>
<li class="chapter" data-level="5.9.3" data-path="5-wrangling.html"><a href="5-wrangling.html#find-the-top-number-of-values-using-top_n"><i class="fa fa-check"></i><b>5.9.3</b> Find the top number of values using top_n</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="5-wrangling.html"><a href="5-wrangling.html#conclusion-3"><i class="fa fa-check"></i><b>5.10</b> Conclusion</a><ul>
<li class="chapter" data-level="5.10.1" data-path="5-wrangling.html"><a href="5-wrangling.html#review-questions-2"><i class="fa fa-check"></i><b>5.10.1</b> Review questions</a></li>
<li class="chapter" data-level="5.10.2" data-path="5-wrangling.html"><a href="5-wrangling.html#whats-to-come-3"><i class="fa fa-check"></i><b>5.10.2</b> What’s to come?</a></li>
<li class="chapter" data-level="5.10.3" data-path="5-wrangling.html"><a href="5-wrangling.html#resources-1"><i class="fa fa-check"></i><b>5.10.3</b> Resources</a></li>
<li class="chapter" data-level="5.10.4" data-path="5-wrangling.html"><a href="5-wrangling.html#script-of-r-code-2"><i class="fa fa-check"></i><b>5.10.4</b> Script of R code</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Data Modeling via moderndive</b></span></li>
<li class="chapter" data-level="6" data-path="6-regression.html"><a href="6-regression.html"><i class="fa fa-check"></i><b>6</b> Basic Regression</a><ul>
<li class="chapter" data-level="" data-path="6-regression.html"><a href="6-regression.html#needed-packages-3"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="6.1" data-path="6-regression.html"><a href="6-regression.html#model1"><i class="fa fa-check"></i><b>6.1</b> One numerical explanatory variable</a><ul>
<li class="chapter" data-level="6.1.1" data-path="6-regression.html"><a href="6-regression.html#model1EDA"><i class="fa fa-check"></i><b>6.1.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="6.1.2" data-path="6-regression.html"><a href="6-regression.html#model1table"><i class="fa fa-check"></i><b>6.1.2</b> Simple linear regression</a></li>
<li class="chapter" data-level="6.1.3" data-path="6-regression.html"><a href="6-regression.html#model1points"><i class="fa fa-check"></i><b>6.1.3</b> Observed/fitted values and residuals</a></li>
<li class="chapter" data-level="6.1.4" data-path="6-regression.html"><a href="6-regression.html#model1residuals"><i class="fa fa-check"></i><b>6.1.4</b> Residual analysis</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="6-regression.html"><a href="6-regression.html#model2"><i class="fa fa-check"></i><b>6.2</b> One categorical explanatory variable</a><ul>
<li class="chapter" data-level="6.2.1" data-path="6-regression.html"><a href="6-regression.html#model2EDA"><i class="fa fa-check"></i><b>6.2.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="6.2.2" data-path="6-regression.html"><a href="6-regression.html#model2table"><i class="fa fa-check"></i><b>6.2.2</b> Linear regression</a></li>
<li class="chapter" data-level="6.2.3" data-path="6-regression.html"><a href="6-regression.html#model2points"><i class="fa fa-check"></i><b>6.2.3</b> Observed/fitted values and residuals</a></li>
<li class="chapter" data-level="6.2.4" data-path="6-regression.html"><a href="6-regression.html#model2residuals"><i class="fa fa-check"></i><b>6.2.4</b> Residual analysis</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="6-regression.html"><a href="6-regression.html#related-topics"><i class="fa fa-check"></i><b>6.3</b> Related topics</a><ul>
<li class="chapter" data-level="6.3.1" data-path="6-regression.html"><a href="6-regression.html#correlationcoefficient"><i class="fa fa-check"></i><b>6.3.1</b> Correlation coefficient</a></li>
<li class="chapter" data-level="6.3.2" data-path="6-regression.html"><a href="6-regression.html#correlation-is-not-causation"><i class="fa fa-check"></i><b>6.3.2</b> Correlation is not necessarily causation</a></li>
<li class="chapter" data-level="6.3.3" data-path="6-regression.html"><a href="6-regression.html#leastsquares"><i class="fa fa-check"></i><b>6.3.3</b> Best fitting line</a></li>
<li class="chapter" data-level="6.3.4" data-path="6-regression.html"><a href="6-regression.html#underthehood"><i class="fa fa-check"></i><b>6.3.4</b> How does <code>get_regression_table()</code> work?</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="6-regression.html"><a href="6-regression.html#conclusion-4"><i class="fa fa-check"></i><b>6.4</b> Conclusion</a><ul>
<li class="chapter" data-level="6.4.1" data-path="6-regression.html"><a href="6-regression.html#script-of-r-code-3"><i class="fa fa-check"></i><b>6.4.1</b> Script of R code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html"><i class="fa fa-check"></i><b>7</b> Multiple Regression</a><ul>
<li class="chapter" data-level="" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#needed-packages-4"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="7.1" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#model3"><i class="fa fa-check"></i><b>7.1</b> Two numerical explanatory variables</a><ul>
<li class="chapter" data-level="7.1.1" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#model3EDA"><i class="fa fa-check"></i><b>7.1.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="7.1.2" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#model3table"><i class="fa fa-check"></i><b>7.1.2</b> Multiple regression</a></li>
<li class="chapter" data-level="7.1.3" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#model3points"><i class="fa fa-check"></i><b>7.1.3</b> Observed/fitted values and residuals</a></li>
<li class="chapter" data-level="7.1.4" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#model3residuals"><i class="fa fa-check"></i><b>7.1.4</b> Residual analysis</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#model4"><i class="fa fa-check"></i><b>7.2</b> One numerical &amp; one categorical explanatory variable</a><ul>
<li class="chapter" data-level="7.2.1" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#model4EDA"><i class="fa fa-check"></i><b>7.2.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="7.2.2" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#model4table"><i class="fa fa-check"></i><b>7.2.2</b> Multiple regression: Parallel slopes model</a></li>
<li class="chapter" data-level="7.2.3" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#model4interactiontable"><i class="fa fa-check"></i><b>7.2.3</b> Multiple regression: Interaction model</a></li>
<li class="chapter" data-level="7.2.4" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#model4points"><i class="fa fa-check"></i><b>7.2.4</b> Observed/fitted values and residuals</a></li>
<li class="chapter" data-level="7.2.5" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#model4residuals"><i class="fa fa-check"></i><b>7.2.5</b> Residual analysis</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#related-topics-1"><i class="fa fa-check"></i><b>7.3</b> Related topics</a><ul>
<li class="chapter" data-level="7.3.1" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#correlationcoefficient2"><i class="fa fa-check"></i><b>7.3.1</b> More on the correlation coefficient</a></li>
<li class="chapter" data-level="7.3.2" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#simpsonsparadox"><i class="fa fa-check"></i><b>7.3.2</b> Simpson’s Paradox</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#conclusion-5"><i class="fa fa-check"></i><b>7.4</b> Conclusion</a><ul>
<li class="chapter" data-level="7.4.1" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#whats-to-come-4"><i class="fa fa-check"></i><b>7.4.1</b> What’s to come?</a></li>
<li class="chapter" data-level="7.4.2" data-path="7-multiple-regression.html"><a href="7-multiple-regression.html#script-of-r-code-4"><i class="fa fa-check"></i><b>7.4.2</b> Script of R code</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Inference via infer</b></span></li>
<li class="chapter" data-level="8" data-path="8-sampling.html"><a href="8-sampling.html"><i class="fa fa-check"></i><b>8</b> Sampling</a><ul>
<li class="chapter" data-level="" data-path="8-sampling.html"><a href="8-sampling.html#needed-packages-5"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="8.1" data-path="8-sampling.html"><a href="8-sampling.html#sampling-bowl"><i class="fa fa-check"></i><b>8.1</b> Sampling bowl</a><ul>
<li class="chapter" data-level="8.1.1" data-path="8-sampling.html"><a href="8-sampling.html#general-sampling-terminology"><i class="fa fa-check"></i><b>8.1.1</b> General sampling terminology</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="8-sampling.html"><a href="8-sampling.html#tactile"><i class="fa fa-check"></i><b>8.2</b> Tactile sampling from bowl</a><ul>
<li class="chapter" data-level="8.2.1" data-path="8-sampling.html"><a href="8-sampling.html#tactilely-using-shovel-once"><i class="fa fa-check"></i><b>8.2.1</b> Tactilely using shovel once</a></li>
<li class="chapter" data-level="8.2.2" data-path="8-sampling.html"><a href="8-sampling.html#student-shovels"><i class="fa fa-check"></i><b>8.2.2</b> Tactilely using shovel 33 times</a></li>
<li class="chapter" data-level="8.2.3" data-path="8-sampling.html"><a href="8-sampling.html#sampling-distribution"><i class="fa fa-check"></i><b>8.2.3</b> Sampling distribution</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="8-sampling.html"><a href="8-sampling.html#virtual-sampling-from-bowl"><i class="fa fa-check"></i><b>8.3</b> Virtual sampling from bowl</a><ul>
<li class="chapter" data-level="8.3.1" data-path="8-sampling.html"><a href="8-sampling.html#virtually-using-shovel-once"><i class="fa fa-check"></i><b>8.3.1</b> Virtually using shovel once</a></li>
<li class="chapter" data-level="8.3.2" data-path="8-sampling.html"><a href="8-sampling.html#virtually-using-shovel-33-times"><i class="fa fa-check"></i><b>8.3.2</b> Virtually using shovel 33 times</a></li>
<li class="chapter" data-level="8.3.3" data-path="8-sampling.html"><a href="8-sampling.html#virtually-using-shovel-1000-times"><i class="fa fa-check"></i><b>8.3.3</b> Virtually using shovel 1000 times</a></li>
<li class="chapter" data-level="8.3.4" data-path="8-sampling.html"><a href="8-sampling.html#comparing-sampling-distributions"><i class="fa fa-check"></i><b>8.3.4</b> Comparing sampling distributions</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="8-sampling.html"><a href="8-sampling.html#central-limit-theorem"><i class="fa fa-check"></i><b>8.4</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="8.5" data-path="8-sampling.html"><a href="8-sampling.html#conclusion-6"><i class="fa fa-check"></i><b>8.5</b> Conclusion</a><ul>
<li class="chapter" data-level="8.5.1" data-path="8-sampling.html"><a href="8-sampling.html#whats-to-come-5"><i class="fa fa-check"></i><b>8.5.1</b> What’s to come?</a></li>
<li class="chapter" data-level="8.5.2" data-path="8-sampling.html"><a href="8-sampling.html#script-of-r-code-5"><i class="fa fa-check"></i><b>8.5.2</b> Script of R code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html"><i class="fa fa-check"></i><b>9</b> Confidence Intervals</a><ul>
<li class="chapter" data-level="" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#needed-packages-6"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="9.1" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#bootstrapping"><i class="fa fa-check"></i><b>9.1</b> Bootstrapping</a><ul>
<li class="chapter" data-level="9.1.1" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#data-explanation"><i class="fa fa-check"></i><b>9.1.1</b> Data explanation</a></li>
<li class="chapter" data-level="9.1.2" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>9.1.2</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="9.1.3" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#bootstrap-process"><i class="fa fa-check"></i><b>9.1.3</b> The Bootstrapping Process</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#the-infer-package-for-statistical-inference"><i class="fa fa-check"></i><b>9.2</b> The infer package for statistical inference</a><ul>
<li class="chapter" data-level="9.2.1" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#specify-variables"><i class="fa fa-check"></i><b>9.2.1</b> Specify variables</a></li>
<li class="chapter" data-level="9.2.2" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#generate-replicates"><i class="fa fa-check"></i><b>9.2.2</b> Generate replicates</a></li>
<li class="chapter" data-level="9.2.3" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#calculate-summary-statistics"><i class="fa fa-check"></i><b>9.2.3</b> Calculate summary statistics</a></li>
<li class="chapter" data-level="9.2.4" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#visualize-the-results"><i class="fa fa-check"></i><b>9.2.4</b> Visualize the results</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#now-to-confidence-intervals"><i class="fa fa-check"></i><b>9.3</b> Now to confidence intervals</a><ul>
<li class="chapter" data-level="9.3.1" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#percentile-method"><i class="fa fa-check"></i><b>9.3.1</b> The percentile method</a></li>
<li class="chapter" data-level="9.3.2" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#the-standard-error-method"><i class="fa fa-check"></i><b>9.3.2</b> The standard error method</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#comparing-bootstrap-and-sampling-distributions"><i class="fa fa-check"></i><b>9.4</b> Comparing bootstrap and sampling distributions</a></li>
<li class="chapter" data-level="9.5" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#interpreting-the-confidence-interval"><i class="fa fa-check"></i><b>9.5</b> Interpreting the confidence interval</a></li>
<li class="chapter" data-level="9.6" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#one-prop-ci"><i class="fa fa-check"></i><b>9.6</b> EXAMPLE: One proportion</a><ul>
<li class="chapter" data-level="9.6.1" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#observed-statistic"><i class="fa fa-check"></i><b>9.6.1</b> Observed Statistic</a></li>
<li class="chapter" data-level="9.6.2" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#bootstrap-distribution-1"><i class="fa fa-check"></i><b>9.6.2</b> Bootstrap distribution</a></li>
<li class="chapter" data-level="9.6.3" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#theory-based-confidence-intervals"><i class="fa fa-check"></i><b>9.6.3</b> Theory-based confidence intervals</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#example-comparing-two-proportions"><i class="fa fa-check"></i><b>9.7</b> EXAMPLE: Comparing two proportions</a><ul>
<li class="chapter" data-level="9.7.1" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#compute-the-point-estimate"><i class="fa fa-check"></i><b>9.7.1</b> Compute the point estimate</a></li>
<li class="chapter" data-level="9.7.2" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#bootstrap-distribution-2"><i class="fa fa-check"></i><b>9.7.2</b> Bootstrap distribution</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#conclusion-7"><i class="fa fa-check"></i><b>9.8</b> Conclusion</a><ul>
<li class="chapter" data-level="9.8.1" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#whats-to-come-6"><i class="fa fa-check"></i><b>9.8.1</b> What’s to come?</a></li>
<li class="chapter" data-level="9.8.2" data-path="9-confidence-intervals.html"><a href="9-confidence-intervals.html#script-of-r-code-6"><i class="fa fa-check"></i><b>9.8.2</b> Script of R code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html"><i class="fa fa-check"></i><b>10</b> Hypothesis Testing</a><ul>
<li class="chapter" data-level="" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#needed-packages-7"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="10.1" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#when-inference-is-not-needed"><i class="fa fa-check"></i><b>10.1</b> When inference is not needed</a></li>
<li class="chapter" data-level="10.2" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#ht-basics"><i class="fa fa-check"></i><b>10.2</b> Basics of hypothesis testing</a></li>
<li class="chapter" data-level="10.3" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#trial"><i class="fa fa-check"></i><b>10.3</b> Criminal trial analogy</a><ul>
<li class="chapter" data-level="10.3.1" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#two-possible-conclusions"><i class="fa fa-check"></i><b>10.3.1</b> Two possible conclusions</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#types-of-errors-in-hypothesis-testing"><i class="fa fa-check"></i><b>10.4</b> Types of errors in hypothesis testing</a><ul>
<li class="chapter" data-level="10.4.1" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#logic-of-hypothesis-testing"><i class="fa fa-check"></i><b>10.4.1</b> Logic of hypothesis testing</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#statistical-significance"><i class="fa fa-check"></i><b>10.5</b> Statistical significance</a></li>
<li class="chapter" data-level="10.6" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#hypothesis-testing-with-infer"><i class="fa fa-check"></i><b>10.6</b> Hypothesis testing with infer</a></li>
<li class="chapter" data-level="10.7" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#example-comparing-two-means"><i class="fa fa-check"></i><b>10.7</b> Example: Comparing two means</a><ul>
<li class="chapter" data-level="10.7.1" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#randomizationpermutation"><i class="fa fa-check"></i><b>10.7.1</b> Randomization/permutation</a></li>
<li class="chapter" data-level="10.7.2" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#comparing-action-and-romance-movies"><i class="fa fa-check"></i><b>10.7.2</b> Comparing action and romance movies</a></li>
<li class="chapter" data-level="10.7.3" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#sampling-rightarrow-randomization"><i class="fa fa-check"></i><b>10.7.3</b> Sampling <span class="math inline">\(\rightarrow\)</span> randomization</a></li>
<li class="chapter" data-level="10.7.4" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#data"><i class="fa fa-check"></i><b>10.7.4</b> Data</a></li>
<li class="chapter" data-level="10.7.5" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#model-of-h_0"><i class="fa fa-check"></i><b>10.7.5</b> Model of <span class="math inline">\(H_0\)</span></a></li>
<li class="chapter" data-level="10.7.6" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#test-statistic-delta"><i class="fa fa-check"></i><b>10.7.6</b> Test statistic <span class="math inline">\(\delta\)</span></a></li>
<li class="chapter" data-level="10.7.7" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#observed-effect-delta"><i class="fa fa-check"></i><b>10.7.7</b> Observed effect <span class="math inline">\(\delta^*\)</span></a></li>
<li class="chapter" data-level="10.7.8" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#simulated-data"><i class="fa fa-check"></i><b>10.7.8</b> Simulated data</a></li>
<li class="chapter" data-level="10.7.9" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#distribution-of-delta-under-h_0"><i class="fa fa-check"></i><b>10.7.9</b> Distribution of <span class="math inline">\(\delta\)</span> under <span class="math inline">\(H_0\)</span></a></li>
<li class="chapter" data-level="10.7.10" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#the-p-value"><i class="fa fa-check"></i><b>10.7.10</b> The p-value</a></li>
<li class="chapter" data-level="10.7.11" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#corresponding-confidence-interval"><i class="fa fa-check"></i><b>10.7.11</b> Corresponding confidence interval</a></li>
<li class="chapter" data-level="10.7.12" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#summary-5"><i class="fa fa-check"></i><b>10.7.12</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#theory-hypo"><i class="fa fa-check"></i><b>10.8</b> Building theory-based methods using computation</a><ul>
<li class="chapter" data-level="10.8.1" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#example-t-test-for-two-independent-samples"><i class="fa fa-check"></i><b>10.8.1</b> Example: <span class="math inline">\(t\)</span>-test for two independent samples</a></li>
<li class="chapter" data-level="10.8.2" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#conditions-for-t-test"><i class="fa fa-check"></i><b>10.8.2</b> Conditions for t-test</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#conclusion-8"><i class="fa fa-check"></i><b>10.9</b> Conclusion</a><ul>
<li class="chapter" data-level="10.9.1" data-path="10-hypothesis-testing.html"><a href="10-hypothesis-testing.html#script-of-r-code-7"><i class="fa fa-check"></i><b>10.9.1</b> Script of R code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html"><i class="fa fa-check"></i><b>11</b> Inference for Regression</a><ul>
<li class="chapter" data-level="" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html#needed-packages-8"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="11.1" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html#simulation-based-inference-for-regression"><i class="fa fa-check"></i><b>11.1</b> Simulation-based Inference for Regression</a><ul>
<li class="chapter" data-level="11.1.1" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html#data-1"><i class="fa fa-check"></i><b>11.1.1</b> Data</a></li>
<li class="chapter" data-level="11.1.2" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html#test-statistic-delta-1"><i class="fa fa-check"></i><b>11.1.2</b> Test statistic <span class="math inline">\(\delta\)</span></a></li>
<li class="chapter" data-level="11.1.3" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html#observed-effect-delta-1"><i class="fa fa-check"></i><b>11.1.3</b> Observed effect <span class="math inline">\(\delta^*\)</span></a></li>
<li class="chapter" data-level="11.1.4" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html#model-of-h_0-1"><i class="fa fa-check"></i><b>11.1.4</b> Model of <span class="math inline">\(H_0\)</span></a></li>
<li class="chapter" data-level="11.1.5" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html#simulated-data-1"><i class="fa fa-check"></i><b>11.1.5</b> Simulated data</a></li>
<li class="chapter" data-level="11.1.6" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html#distribution-of-delta-under-h_0-1"><i class="fa fa-check"></i><b>11.1.6</b> Distribution of <span class="math inline">\(\delta\)</span> under <span class="math inline">\(H_0\)</span></a></li>
<li class="chapter" data-level="11.1.7" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html#the-p-value-1"><i class="fa fa-check"></i><b>11.1.7</b> The p-value</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html#bootstrapping-for-the-regression-slope"><i class="fa fa-check"></i><b>11.2</b> Bootstrapping for the regression slope</a></li>
<li class="chapter" data-level="11.3" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html#inference-for-multiple-regression"><i class="fa fa-check"></i><b>11.3</b> Inference for multiple regression</a><ul>
<li class="chapter" data-level="11.3.1" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html#refresher-professor-evaluations-data"><i class="fa fa-check"></i><b>11.3.1</b> Refresher: Professor evaluations data</a></li>
<li class="chapter" data-level="11.3.2" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html#refresher-visualizations"><i class="fa fa-check"></i><b>11.3.2</b> Refresher: Visualizations</a></li>
<li class="chapter" data-level="11.3.3" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html#refresher-regression-tables"><i class="fa fa-check"></i><b>11.3.3</b> Refresher: Regression tables</a></li>
<li class="chapter" data-level="11.3.4" data-path="11-inference-for-regression.html"><a href="11-inference-for-regression.html#script-of-r-code-8"><i class="fa fa-check"></i><b>11.3.4</b> Script of R code</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Conclusion</b></span></li>
<li class="chapter" data-level="12" data-path="12-thinking-with-data.html"><a href="12-thinking-with-data.html"><i class="fa fa-check"></i><b>12</b> Thinking with Data</a><ul>
<li class="chapter" data-level="12.1" data-path="12-thinking-with-data.html"><a href="12-thinking-with-data.html#effective-data-storytelling"><i class="fa fa-check"></i><b>12.1</b> Effective Data Storytelling</a></li>
<li class="chapter" data-level="12.2" data-path="12-thinking-with-data.html"><a href="12-thinking-with-data.html#examples"><i class="fa fa-check"></i><b>12.2</b> Examples</a></li>
<li class="chapter" data-level="" data-path="12-thinking-with-data.html"><a href="12-thinking-with-data.html#concluding-remarks"><i class="fa fa-check"></i>Concluding remarks</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="A-appendixA.html"><a href="A-appendixA.html"><i class="fa fa-check"></i><b>A</b> Statistical Background</a><ul>
<li class="chapter" data-level="A.1" data-path="A-appendixA.html"><a href="A-appendixA.html#basic-statistical-terms"><i class="fa fa-check"></i><b>A.1</b> Basic statistical terms</a><ul>
<li class="chapter" data-level="A.1.1" data-path="A-appendixA.html"><a href="A-appendixA.html#mean"><i class="fa fa-check"></i><b>A.1.1</b> Mean</a></li>
<li class="chapter" data-level="A.1.2" data-path="A-appendixA.html"><a href="A-appendixA.html#median"><i class="fa fa-check"></i><b>A.1.2</b> Median</a></li>
<li class="chapter" data-level="A.1.3" data-path="A-appendixA.html"><a href="A-appendixA.html#standard-deviation"><i class="fa fa-check"></i><b>A.1.3</b> Standard deviation</a></li>
<li class="chapter" data-level="A.1.4" data-path="A-appendixA.html"><a href="A-appendixA.html#five-number-summary"><i class="fa fa-check"></i><b>A.1.4</b> Five-number summary</a></li>
<li class="chapter" data-level="A.1.5" data-path="A-appendixA.html"><a href="A-appendixA.html#distribution"><i class="fa fa-check"></i><b>A.1.5</b> Distribution</a></li>
<li class="chapter" data-level="A.1.6" data-path="A-appendixA.html"><a href="A-appendixA.html#outliers"><i class="fa fa-check"></i><b>A.1.6</b> Outliers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="B-appendixB.html"><a href="B-appendixB.html"><i class="fa fa-check"></i><b>B</b> Inference Examples</a><ul>
<li class="chapter" data-level="" data-path="B-appendixB.html"><a href="B-appendixB.html#needed-packages-9"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="B.1" data-path="B-appendixB.html"><a href="B-appendixB.html#inference-mind-map"><i class="fa fa-check"></i><b>B.1</b> Inference mind map</a></li>
<li class="chapter" data-level="B.2" data-path="B-appendixB.html"><a href="B-appendixB.html#one-mean"><i class="fa fa-check"></i><b>B.2</b> One mean</a><ul>
<li class="chapter" data-level="B.2.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement"><i class="fa fa-check"></i><b>B.2.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.2.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses"><i class="fa fa-check"></i><b>B.2.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.2.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data"><i class="fa fa-check"></i><b>B.2.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.2.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods"><i class="fa fa-check"></i><b>B.2.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.2.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods"><i class="fa fa-check"></i><b>B.2.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.2.6" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results"><i class="fa fa-check"></i><b>B.2.6</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.3" data-path="B-appendixB.html"><a href="B-appendixB.html#one-proportion"><i class="fa fa-check"></i><b>B.3</b> One proportion</a><ul>
<li class="chapter" data-level="B.3.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-1"><i class="fa fa-check"></i><b>B.3.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.3.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-1"><i class="fa fa-check"></i><b>B.3.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.3.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-1"><i class="fa fa-check"></i><b>B.3.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.3.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-1"><i class="fa fa-check"></i><b>B.3.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.3.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-1"><i class="fa fa-check"></i><b>B.3.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.3.6" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-1"><i class="fa fa-check"></i><b>B.3.6</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.4" data-path="B-appendixB.html"><a href="B-appendixB.html#two-proportions"><i class="fa fa-check"></i><b>B.4</b> Two proportions</a><ul>
<li class="chapter" data-level="B.4.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-2"><i class="fa fa-check"></i><b>B.4.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.4.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-2"><i class="fa fa-check"></i><b>B.4.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.4.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-2"><i class="fa fa-check"></i><b>B.4.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.4.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-2"><i class="fa fa-check"></i><b>B.4.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.4.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-2"><i class="fa fa-check"></i><b>B.4.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.4.6" data-path="B-appendixB.html"><a href="B-appendixB.html#check-conditions-2"><i class="fa fa-check"></i><b>B.4.6</b> Check conditions</a></li>
<li class="chapter" data-level="B.4.7" data-path="B-appendixB.html"><a href="B-appendixB.html#test-statistic-2"><i class="fa fa-check"></i><b>B.4.7</b> Test statistic</a></li>
<li class="chapter" data-level="B.4.8" data-path="B-appendixB.html"><a href="B-appendixB.html#state-conclusion-2"><i class="fa fa-check"></i><b>B.4.8</b> State conclusion</a></li>
<li class="chapter" data-level="B.4.9" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-2"><i class="fa fa-check"></i><b>B.4.9</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.5" data-path="B-appendixB.html"><a href="B-appendixB.html#two-means-independent-samples"><i class="fa fa-check"></i><b>B.5</b> Two means (independent samples)</a><ul>
<li class="chapter" data-level="B.5.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-3"><i class="fa fa-check"></i><b>B.5.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.5.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-3"><i class="fa fa-check"></i><b>B.5.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.5.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-3"><i class="fa fa-check"></i><b>B.5.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.5.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-3"><i class="fa fa-check"></i><b>B.5.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.5.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-3"><i class="fa fa-check"></i><b>B.5.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.5.6" data-path="B-appendixB.html"><a href="B-appendixB.html#test-statistic-3"><i class="fa fa-check"></i><b>B.5.6</b> Test statistic</a></li>
<li class="chapter" data-level="B.5.7" data-path="B-appendixB.html"><a href="B-appendixB.html#compute-p-value-1"><i class="fa fa-check"></i><b>B.5.7</b> Compute <span class="math inline">\(p\)</span>-value</a></li>
<li class="chapter" data-level="B.5.8" data-path="B-appendixB.html"><a href="B-appendixB.html#state-conclusion-3"><i class="fa fa-check"></i><b>B.5.8</b> State conclusion</a></li>
<li class="chapter" data-level="B.5.9" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-3"><i class="fa fa-check"></i><b>B.5.9</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.6" data-path="B-appendixB.html"><a href="B-appendixB.html#two-means-paired-samples"><i class="fa fa-check"></i><b>B.6</b> Two means (paired samples)</a><ul>
<li class="chapter" data-level="B.6.1" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-4"><i class="fa fa-check"></i><b>B.6.1</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.6.2" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-4"><i class="fa fa-check"></i><b>B.6.2</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.6.3" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-4"><i class="fa fa-check"></i><b>B.6.3</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.6.4" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-4"><i class="fa fa-check"></i><b>B.6.4</b> Traditional methods</a></li>
<li class="chapter" data-level="B.6.5" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-4"><i class="fa fa-check"></i><b>B.6.5</b> Comparing results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="C" data-path="C-appendixC.html"><a href="C-appendixC.html"><i class="fa fa-check"></i><b>C</b> Reach for the Stars</a><ul>
<li class="chapter" data-level="" data-path="C-appendixC.html"><a href="C-appendixC.html#needed-packages-10"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="C.1" data-path="C-appendixC.html"><a href="C-appendixC.html#sorted-barplots"><i class="fa fa-check"></i><b>C.1</b> Sorted barplots</a></li>
<li class="chapter" data-level="C.2" data-path="C-appendixC.html"><a href="C-appendixC.html#interactive-graphics"><i class="fa fa-check"></i><b>C.2</b> Interactive graphics</a><ul>
<li class="chapter" data-level="C.2.1" data-path="C-appendixC.html"><a href="C-appendixC.html#interactive-linegraphs"><i class="fa fa-check"></i><b>C.2.1</b> Interactive linegraphs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">An Introduction to Statistical and Data Sciences via R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<html>
<img src='http://moderndive.com/images/logos/wide_format.png' alt="ModernDive">
</html>
<div id="confidence-intervals" class="section level1">
<h1><span class="header-section-number">9</span> Confidence Intervals</h1>
<div class="learncheck">
<p>
<strong>Note: This chapter is still under construction. If you would like to contribute, please check us out on GitHub at <a href="https://github.com/moderndive/moderndive_book" class="uri">https://github.com/moderndive/moderndive_book</a>.</strong>
</p>
<p>
<strong>Please check out our sneak peak of <code>infer</code> below in the meanwhile. For more details on <code>infer</code> visit <a href="https://infer-dev.netlify.com/" class="uri">https://infer-dev.netlify.com/</a></strong>.
</p>
<center>
<img src="images/sign-2408065_1920.png" alt="Drawing" style="height: 100px;"/>
</center>
</div>
<hr />
<p>In Chapter <a href="8-sampling.html#sampling">8</a>, we explored the process of sampling from a representative sample to build a sampling distribution. The motivation there was to use multiple samples from the same population to visualize and attempt to understand the variability in the statistic from one sample to another.</p>
<p>In most cases, we don’t have the population values as we did with the <code>bowl</code> of balls. We only have a single sample of data from a larger population. We’d like to be able to make some reasonable guesses about population parameters using that single sample to create a range of plausible values for a population parameter. This range of plausible values is known as a <strong>confidence interval</strong> and will be the focus of this chapter. And how do we use a single sample to get some idea of how other samples might vary in terms of their statistic values? One common way this is done is via a process known as <strong>bootstrapping</strong> that will be the focus of the beginning sections of this chapter.</p>
<div id="needed-packages-6" class="section level3 unnumbered">
<h3>Needed packages</h3>
<p>Let’s load all the packages needed for this chapter (this assumes you’ve already installed them). If needed, read Section <a href="2-getting-started.html#packages">2.3</a> for information on how to install and load R packages.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(janitor)
<span class="kw">library</span>(moderndive)
<span class="co"># remotes::install_github(&quot;andrewpbray/infer&quot;, ref = &quot;develop&quot;)</span>
<span class="kw">library</span>(infer)
<span class="co"># For loading CSV files:</span>
<span class="kw">library</span>(readr)</code></pre></div>
</div>
<div id="bootstrapping" class="section level2">
<h2><span class="header-section-number">9.1</span> Bootstrapping</h2>
<div id="data-explanation" class="section level3">
<h3><span class="header-section-number">9.1.1</span> Data explanation</h3>
<p>The <code>moderndive</code> package contains a sample of 40 pennies collected and minted in the United States. Let’s explore this sample data first:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pennies_sample</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["year"],"name":[1],"type":["int"],"align":["right"]},{"label":["age_in_2011"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"2005","2":"6"},{"1":"1981","2":"30"},{"1":"1977","2":"34"},{"1":"1992","2":"19"},{"1":"2005","2":"6"},{"1":"2006","2":"5"},{"1":"2000","2":"11"},{"1":"1992","2":"19"},{"1":"1988","2":"23"},{"1":"1996","2":"15"},{"1":"1972","2":"39"},{"1":"1994","2":"17"},{"1":"1985","2":"26"},{"1":"1964","2":"47"},{"1":"2004","2":"7"},{"1":"1995","2":"16"},{"1":"2001","2":"10"},{"1":"1986","2":"25"},{"1":"1991","2":"20"},{"1":"2010","2":"1"},{"1":"1987","2":"24"},{"1":"1977","2":"34"},{"1":"1983","2":"28"},{"1":"1964","2":"47"},{"1":"1983","2":"28"},{"1":"1993","2":"18"},{"1":"1997","2":"14"},{"1":"1997","2":"14"},{"1":"1979","2":"32"},{"1":"1983","2":"28"},{"1":"1982","2":"29"},{"1":"1960","2":"51"},{"1":"1972","2":"39"},{"1":"1961","2":"50"},{"1":"1974","2":"37"},{"1":"1970","2":"41"},{"1":"1964","2":"47"},{"1":"1979","2":"32"},{"1":"2001","2":"10"},{"1":"1985","2":"26"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The <code>pennies_sample</code> data frame has rows corresponding to a single penny with two variables:</p>
<ul>
<li><code>year</code> of minting as shown on the penny and</li>
<li><code>age_in_2011</code> giving the years the penny had been in circulation from 2011 as an integer, e.g. 15, 2, etc.</li>
</ul>
<p>Suppose we are interested in understanding some properties of the mean age of <strong>all</strong> US pennies from this data collected in 2011. How might we go about that? Let’s begin by understanding some of the properties of <code>pennies_sample</code> using data wrangling from Chapter <a href="5-wrangling.html#wrangling">5</a> and data visualization from Chapter <a href="3-viz.html#viz">3</a>.</p>
</div>
<div id="exploratory-data-analysis" class="section level3">
<h3><span class="header-section-number">9.1.2</span> Exploratory data analysis</h3>
<p>First, let’s visualize the values in this sample as a histogram:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(pennies_sample, <span class="kw">aes</span>(<span class="dt">x =</span> age_in_<span class="dv">2011</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">10</span>, <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>)</code></pre></div>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-277-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>We see a roughly symmetric distribution here that has quite a few values near 20 years in age with only a few larger than 40 years or smaller than 5 years. If <code>pennies_sample</code> is a representative sample from the population, we’d expect the age of all US pennies collected in 2011 to have a similar shape, a similar spread, and similar measures of central tendency like the mean.</p>
<p>So where does the mean value fall for this sample? This point will be known as our <strong>point estimate</strong> and provides us with a single number that could serve as the guess to what the true population mean age might be. Recall how to find this using the <code>dplyr</code> package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x_bar &lt;-<span class="st"> </span>pennies_sample <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">stat =</span> <span class="kw">mean</span>(age_in_<span class="dv">2011</span>))
x_bar</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["stat"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"25.1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We’ve denoted this <em>sample mean</em> as <span class="math inline">\(\bar{x}\)</span>, which is the standard symbol for denoting the mean of a sample. Our point estimate is, thus, <span class="math inline">\(\bar{x} = 25.1\)</span>. Note that this is just one sample though providing just one guess at the population mean. What if we’d like to have another guess?</p>
<p>This should all sound similar to what we did in Chapter <a href="8-sampling.html#sampling">8</a>. There instead of collecting just a single scoop of balls we had many different students use the shovel to scoop different samples of red and white balls. We then calculated a sample statistic (the sample proportion) from each sample. But, we don’t have a population to pull from here with the pennies. We only have this one sample.</p>
<p>The process of <strong>bootstrapping</strong> allows us to use a single sample to generate many different samples that will act as our way of approximating a sampling distribution using a created <strong>bootstrap distribution</strong> instead. We will pull ourselves up from our bootstraps using a single sample (<code>pennies_sample</code>) to get an idea of the grander sampling distribution.</p>
</div>
<div id="bootstrap-process" class="section level3">
<h3><span class="header-section-number">9.1.3</span> The Bootstrapping Process</h3>
<p>Bootstrapping uses a process of sampling <strong>with replacement</strong> from our original sample to create new <strong>bootstrap samples</strong> of the <em>same</em> size as our original sample. We can again make use of the <code>rep_sample_n()</code> function to explore what one such bootstrap sample would look like. Remember that we are randomly sampling from the original sample here with replacement and that we always use the same sample size for the bootstrap samples as the size of the original sample (<code>pennies_sample</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_sample1 &lt;-<span class="st"> </span>pennies_sample <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">rep_sample_n</span>(<span class="dt">size =</span> <span class="dv">40</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">reps =</span> <span class="dv">1</span>)
bootstrap_sample1</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["replicate"],"name":[1],"type":["int"],"align":["right"]},{"label":["year"],"name":[2],"type":["int"],"align":["right"]},{"label":["age_in_2011"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"1","2":"1983","3":"28"},{"1":"1","2":"2000","3":"11"},{"1":"1","2":"2004","3":"7"},{"1":"1","2":"1981","3":"30"},{"1":"1","2":"1993","3":"18"},{"1":"1","2":"2006","3":"5"},{"1":"1","2":"1981","3":"30"},{"1":"1","2":"2004","3":"7"},{"1":"1","2":"1992","3":"19"},{"1":"1","2":"1994","3":"17"},{"1":"1","2":"1991","3":"20"},{"1":"1","2":"1997","3":"14"},{"1":"1","2":"1983","3":"28"},{"1":"1","2":"1991","3":"20"},{"1":"1","2":"1987","3":"24"},{"1":"1","2":"1987","3":"24"},{"1":"1","2":"2005","3":"6"},{"1":"1","2":"1972","3":"39"},{"1":"1","2":"1983","3":"28"},{"1":"1","2":"2010","3":"1"},{"1":"1","2":"1982","3":"29"},{"1":"1","2":"1964","3":"47"},{"1":"1","2":"1964","3":"47"},{"1":"1","2":"1993","3":"18"},{"1":"1","2":"1997","3":"14"},{"1":"1","2":"1979","3":"32"},{"1":"1","2":"1961","3":"50"},{"1":"1","2":"1987","3":"24"},{"1":"1","2":"1972","3":"39"},{"1":"1","2":"1986","3":"25"},{"1":"1","2":"1983","3":"28"},{"1":"1","2":"1995","3":"16"},{"1":"1","2":"1964","3":"47"},{"1":"1","2":"1983","3":"28"},{"1":"1","2":"1977","3":"34"},{"1":"1","2":"2000","3":"11"},{"1":"1","2":"1983","3":"28"},{"1":"1","2":"2005","3":"6"},{"1":"1","2":"2004","3":"7"},{"1":"1","2":"1991","3":"20"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Let’s visualize what this new bootstrap sample looks like:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(bootstrap_sample1, <span class="kw">aes</span>(<span class="dt">x =</span> age_in_<span class="dv">2011</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">10</span>, <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>)</code></pre></div>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-281-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>We now have another sample from what we could assume comes from the population of interest. We can similarly calculate the sample mean of this bootstrap sample, called a <strong>bootstrap statistic</strong>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_sample1 <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">stat =</span> <span class="kw">mean</span>(age_in_<span class="dv">2011</span>))</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["replicate"],"name":[1],"type":["int"],"align":["right"]},{"label":["stat"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"23.1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We can see that this sample mean is smaller than the <code>x_bar</code> value we calculated earlier for the <code>pennies_sample</code> data. We’ll come back to analyzing the different bootstrap statistic values shortly.</p>
<p>Let’s recap what was done to get to this bootstrap sample using a tactile explanation:</p>
<ol style="list-style-type: decimal">
<li>First, pretend that each of the 40 values of <code>age_in_2011</code> in <code>pennies_sample</code> were written on a small piece of paper. Recall that these values were 6, 30, 34, 19, 6, etc.</li>
<li>Now, put the 40 small pieces of paper into a receptacle such as a baseball cap.</li>
<li>Shake up the pieces of paper.</li>
<li>Draw “at random” from the cap to select one piece of paper.</li>
<li>Write down the value on this piece of paper. Say that it is 28.</li>
<li>Now, place this piece of paper containing 28 back into the cap.</li>
<li>Draw “at random” again from the cap to select a piece of paper. Note that this is the <em>sampling with replacement</em> part since you may draw 28 again.</li>
<li>Repeat this process until you have drawn 40 pieces of paper and written down the values on these 40 pieces of paper. Completing this repetetion produces ONE bootstrap sample.</li>
</ol>
<p>If you look at the values in <code>bootstrap_sample1</code>, you can see how this process plays out. We originally drew 28, then we drew 11, then 7, and so on. Of course, we didn’t actually use pieces of paper and a cap here. We just had the computer perform this process for us to produce <code>bootstrap_sample1</code> using <code>rep_sample_n()</code> with <code>replace = TRUE</code> set.</p>
<p>The process of <em>sampling with replacement</em> is how we can use the original sample to take a guess as to what other values in the population may be. Sometimes in these bootstrap samples, we will select lots of larger values from the original sample, sometimes we will select lots of smaller values, and most frequently we will select values that are near the center of the sample. Let’s explore what the distribution of values of <code>age_in_2011</code> for six different bootstrap samples looks like to further understand this variability.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">six_bootstrap_samples &lt;-<span class="st"> </span>pennies_sample <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">rep_sample_n</span>(<span class="dt">size =</span> <span class="dv">40</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">reps =</span> <span class="dv">6</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(six_bootstrap_samples, <span class="kw">aes</span>(<span class="dt">x =</span> age_in_<span class="dv">2011</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">10</span>, <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>replicate)</code></pre></div>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-284-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>We can also look at the six different means using <code>dplyr</code> syntax:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">six_bootstrap_samples <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(replicate) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">stat =</span> <span class="kw">mean</span>(age_in_<span class="dv">2011</span>))</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["replicate"],"name":[1],"type":["int"],"align":["right"]},{"label":["stat"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"23.6"},{"1":"2","2":"24.1"},{"1":"3","2":"25.2"},{"1":"4","2":"23.1"},{"1":"5","2":"24.1"},{"1":"6","2":"24.7"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Instead of doing this six times, we could do it 1000 times and then look at the distribution of <code>stat</code> across all 1000 of the <code>replicate</code>s. This sets the stage for the <code>infer</code> R package <span class="citation">(Bray et al. 2018)</span> that was created to help users perform statistical inference such as confidence intervals and hypothesis tests using verbs similar to what you’ve seen with <code>dplyr</code>. We’ll walk through setting up each of the <code>infer</code> verbs for confidence intervals using this <code>pennies_sample</code> example, while also explaining the purpose of the verbs in a general framework.</p>
</div>
</div>
<div id="the-infer-package-for-statistical-inference" class="section level2">
<h2><span class="header-section-number">9.2</span> The infer package for statistical inference</h2>
<p>The <code>infer</code> package makes great use of the <code>%&gt;%</code> to create a pipeline for statistical inference. The goal of the package is to provide a way for its users to explain the computational process of confidence intervals and hypothesis tests using the code as a guide. The verbs build in order here, so you’ll want to start with <code>specify()</code> and then continue through the others as needed.</p>
<div id="specify-variables" class="section level3">
<h3><span class="header-section-number">9.2.1</span> Specify variables</h3>
<p><img src="images/flowcharts/infer/specify.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>The <code>specify()</code> function is used primarily to choose which variables will be the focus of the statistical inference. In addition, a setting of which variable will act as the <code>explanatory</code> and which acts as the <code>response</code> variable is done here. For proportion problems to those in Chapter <a href="8-sampling.html#sampling">8</a>, we can also give which of the different levels we would like to have as a <code>success</code>. We’ll see further examples of these options in this chapter, Chapter <a href="10-hypothesis-testing.html#hypothesis-testing">10</a>, and in Appendix <a href="B-appendixB.html#appendixB">B</a>.</p>
<p>To begin to create a confidence interval for the population mean age of US pennies in 2011, we start by using <code>specify()</code> to choose which variable in our <code>pennies_sample</code> data we’d like to work with. This can be done in one of two ways:</p>
<ol style="list-style-type: decimal">
<li>Using the <code>response</code> argument:</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pennies_sample <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">specify</span>(<span class="dt">response =</span> age_in_<span class="dv">2011</span>)</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_in_2011"],"name":[1],"type":["int"],"align":["right"]}],"data":[{"1":"6"},{"1":"30"},{"1":"34"},{"1":"19"},{"1":"6"},{"1":"5"},{"1":"11"},{"1":"19"},{"1":"23"},{"1":"15"},{"1":"39"},{"1":"17"},{"1":"26"},{"1":"47"},{"1":"7"},{"1":"16"},{"1":"10"},{"1":"25"},{"1":"20"},{"1":"1"},{"1":"24"},{"1":"34"},{"1":"28"},{"1":"47"},{"1":"28"},{"1":"18"},{"1":"14"},{"1":"14"},{"1":"32"},{"1":"28"},{"1":"29"},{"1":"51"},{"1":"39"},{"1":"50"},{"1":"37"},{"1":"41"},{"1":"47"},{"1":"32"},{"1":"10"},{"1":"26"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Using <code>formula</code> notation:</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pennies_sample <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">specify</span>(<span class="dt">formula =</span> age_in_<span class="dv">2011</span> <span class="op">~</span><span class="st"> </span><span class="ot">NULL</span>)</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_in_2011"],"name":[1],"type":["int"],"align":["right"]}],"data":[{"1":"6"},{"1":"30"},{"1":"34"},{"1":"19"},{"1":"6"},{"1":"5"},{"1":"11"},{"1":"19"},{"1":"23"},{"1":"15"},{"1":"39"},{"1":"17"},{"1":"26"},{"1":"47"},{"1":"7"},{"1":"16"},{"1":"10"},{"1":"25"},{"1":"20"},{"1":"1"},{"1":"24"},{"1":"34"},{"1":"28"},{"1":"47"},{"1":"28"},{"1":"18"},{"1":"14"},{"1":"14"},{"1":"32"},{"1":"28"},{"1":"29"},{"1":"51"},{"1":"39"},{"1":"50"},{"1":"37"},{"1":"41"},{"1":"47"},{"1":"32"},{"1":"10"},{"1":"26"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Note that the formula notation uses the common R methodology to include the response <span class="math inline">\(y\)</span> variable on the left of the <code>~</code> and the explanatory <span class="math inline">\(x\)</span> variable on the right of the “tilde.” Recall that you used this notation frequently with the <code>lm()</code> function in Chapters <a href="6-regression.html#regression">6</a> and <a href="7-multiple-regression.html#multiple-regression">7</a> when fitting regression models. Either notation works just fine, but a preference is usually given here for the <code>formula</code> notation to further build on the ideas from earlier chapters.</p>
</div>
<div id="generate-replicates" class="section level3">
<h3><span class="header-section-number">9.2.2</span> Generate replicates</h3>
<p><img src="images/flowcharts/infer/generate.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>After <code>specify()</code>ing the variables we’d like in our inferential analysis, we next feed that into the <code>generate()</code> verb. The <code>generate()</code> verb’s main argument is <code>reps</code>, which is used to give how many different repetitions one would like to perform. Another argument here is <code>type</code>, which is automatically determined by the kinds of variables passed into <code>specify()</code>. We can also be explicit and set this <code>type</code> to be <code>type = &quot;bootstrap&quot;</code>. This <code>type</code> argument will be further used in hypothesis testing in Chapter <a href="10-hypothesis-testing.html#hypothesis-testing">10</a> as well. Make sure to check out <code>?generate</code> to see the options here and use the <code>?</code> operator to better understand other verbs as well.</p>
<p>Let’s <code>generate()</code> 1000 bootstrap samples:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">thousand_bootstrap_samples &lt;-<span class="st"> </span>pennies_sample <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">specify</span>(<span class="dt">response =</span> age_in_<span class="dv">2011</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">generate</span>(<span class="dt">reps =</span> <span class="dv">1000</span>)</code></pre></div>
<p>We can use the <code>dplyr</code> <code>count()</code> function to help us understand what the <code>thousand_bootstrap_samples</code> data frame looks like:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">thousand_bootstrap_samples <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(replicate)</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["replicate"],"name":[1],"type":["int"],"align":["right"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"1","2":"40"},{"1":"2","2":"40"},{"1":"3","2":"40"},{"1":"4","2":"40"},{"1":"5","2":"40"},{"1":"6","2":"40"},{"1":"7","2":"40"},{"1":"8","2":"40"},{"1":"9","2":"40"},{"1":"10","2":"40"},{"1":"11","2":"40"},{"1":"12","2":"40"},{"1":"13","2":"40"},{"1":"14","2":"40"},{"1":"15","2":"40"},{"1":"16","2":"40"},{"1":"17","2":"40"},{"1":"18","2":"40"},{"1":"19","2":"40"},{"1":"20","2":"40"},{"1":"21","2":"40"},{"1":"22","2":"40"},{"1":"23","2":"40"},{"1":"24","2":"40"},{"1":"25","2":"40"},{"1":"26","2":"40"},{"1":"27","2":"40"},{"1":"28","2":"40"},{"1":"29","2":"40"},{"1":"30","2":"40"},{"1":"31","2":"40"},{"1":"32","2":"40"},{"1":"33","2":"40"},{"1":"34","2":"40"},{"1":"35","2":"40"},{"1":"36","2":"40"},{"1":"37","2":"40"},{"1":"38","2":"40"},{"1":"39","2":"40"},{"1":"40","2":"40"},{"1":"41","2":"40"},{"1":"42","2":"40"},{"1":"43","2":"40"},{"1":"44","2":"40"},{"1":"45","2":"40"},{"1":"46","2":"40"},{"1":"47","2":"40"},{"1":"48","2":"40"},{"1":"49","2":"40"},{"1":"50","2":"40"},{"1":"51","2":"40"},{"1":"52","2":"40"},{"1":"53","2":"40"},{"1":"54","2":"40"},{"1":"55","2":"40"},{"1":"56","2":"40"},{"1":"57","2":"40"},{"1":"58","2":"40"},{"1":"59","2":"40"},{"1":"60","2":"40"},{"1":"61","2":"40"},{"1":"62","2":"40"},{"1":"63","2":"40"},{"1":"64","2":"40"},{"1":"65","2":"40"},{"1":"66","2":"40"},{"1":"67","2":"40"},{"1":"68","2":"40"},{"1":"69","2":"40"},{"1":"70","2":"40"},{"1":"71","2":"40"},{"1":"72","2":"40"},{"1":"73","2":"40"},{"1":"74","2":"40"},{"1":"75","2":"40"},{"1":"76","2":"40"},{"1":"77","2":"40"},{"1":"78","2":"40"},{"1":"79","2":"40"},{"1":"80","2":"40"},{"1":"81","2":"40"},{"1":"82","2":"40"},{"1":"83","2":"40"},{"1":"84","2":"40"},{"1":"85","2":"40"},{"1":"86","2":"40"},{"1":"87","2":"40"},{"1":"88","2":"40"},{"1":"89","2":"40"},{"1":"90","2":"40"},{"1":"91","2":"40"},{"1":"92","2":"40"},{"1":"93","2":"40"},{"1":"94","2":"40"},{"1":"95","2":"40"},{"1":"96","2":"40"},{"1":"97","2":"40"},{"1":"98","2":"40"},{"1":"99","2":"40"},{"1":"100","2":"40"},{"1":"101","2":"40"},{"1":"102","2":"40"},{"1":"103","2":"40"},{"1":"104","2":"40"},{"1":"105","2":"40"},{"1":"106","2":"40"},{"1":"107","2":"40"},{"1":"108","2":"40"},{"1":"109","2":"40"},{"1":"110","2":"40"},{"1":"111","2":"40"},{"1":"112","2":"40"},{"1":"113","2":"40"},{"1":"114","2":"40"},{"1":"115","2":"40"},{"1":"116","2":"40"},{"1":"117","2":"40"},{"1":"118","2":"40"},{"1":"119","2":"40"},{"1":"120","2":"40"},{"1":"121","2":"40"},{"1":"122","2":"40"},{"1":"123","2":"40"},{"1":"124","2":"40"},{"1":"125","2":"40"},{"1":"126","2":"40"},{"1":"127","2":"40"},{"1":"128","2":"40"},{"1":"129","2":"40"},{"1":"130","2":"40"},{"1":"131","2":"40"},{"1":"132","2":"40"},{"1":"133","2":"40"},{"1":"134","2":"40"},{"1":"135","2":"40"},{"1":"136","2":"40"},{"1":"137","2":"40"},{"1":"138","2":"40"},{"1":"139","2":"40"},{"1":"140","2":"40"},{"1":"141","2":"40"},{"1":"142","2":"40"},{"1":"143","2":"40"},{"1":"144","2":"40"},{"1":"145","2":"40"},{"1":"146","2":"40"},{"1":"147","2":"40"},{"1":"148","2":"40"},{"1":"149","2":"40"},{"1":"150","2":"40"},{"1":"151","2":"40"},{"1":"152","2":"40"},{"1":"153","2":"40"},{"1":"154","2":"40"},{"1":"155","2":"40"},{"1":"156","2":"40"},{"1":"157","2":"40"},{"1":"158","2":"40"},{"1":"159","2":"40"},{"1":"160","2":"40"},{"1":"161","2":"40"},{"1":"162","2":"40"},{"1":"163","2":"40"},{"1":"164","2":"40"},{"1":"165","2":"40"},{"1":"166","2":"40"},{"1":"167","2":"40"},{"1":"168","2":"40"},{"1":"169","2":"40"},{"1":"170","2":"40"},{"1":"171","2":"40"},{"1":"172","2":"40"},{"1":"173","2":"40"},{"1":"174","2":"40"},{"1":"175","2":"40"},{"1":"176","2":"40"},{"1":"177","2":"40"},{"1":"178","2":"40"},{"1":"179","2":"40"},{"1":"180","2":"40"},{"1":"181","2":"40"},{"1":"182","2":"40"},{"1":"183","2":"40"},{"1":"184","2":"40"},{"1":"185","2":"40"},{"1":"186","2":"40"},{"1":"187","2":"40"},{"1":"188","2":"40"},{"1":"189","2":"40"},{"1":"190","2":"40"},{"1":"191","2":"40"},{"1":"192","2":"40"},{"1":"193","2":"40"},{"1":"194","2":"40"},{"1":"195","2":"40"},{"1":"196","2":"40"},{"1":"197","2":"40"},{"1":"198","2":"40"},{"1":"199","2":"40"},{"1":"200","2":"40"},{"1":"201","2":"40"},{"1":"202","2":"40"},{"1":"203","2":"40"},{"1":"204","2":"40"},{"1":"205","2":"40"},{"1":"206","2":"40"},{"1":"207","2":"40"},{"1":"208","2":"40"},{"1":"209","2":"40"},{"1":"210","2":"40"},{"1":"211","2":"40"},{"1":"212","2":"40"},{"1":"213","2":"40"},{"1":"214","2":"40"},{"1":"215","2":"40"},{"1":"216","2":"40"},{"1":"217","2":"40"},{"1":"218","2":"40"},{"1":"219","2":"40"},{"1":"220","2":"40"},{"1":"221","2":"40"},{"1":"222","2":"40"},{"1":"223","2":"40"},{"1":"224","2":"40"},{"1":"225","2":"40"},{"1":"226","2":"40"},{"1":"227","2":"40"},{"1":"228","2":"40"},{"1":"229","2":"40"},{"1":"230","2":"40"},{"1":"231","2":"40"},{"1":"232","2":"40"},{"1":"233","2":"40"},{"1":"234","2":"40"},{"1":"235","2":"40"},{"1":"236","2":"40"},{"1":"237","2":"40"},{"1":"238","2":"40"},{"1":"239","2":"40"},{"1":"240","2":"40"},{"1":"241","2":"40"},{"1":"242","2":"40"},{"1":"243","2":"40"},{"1":"244","2":"40"},{"1":"245","2":"40"},{"1":"246","2":"40"},{"1":"247","2":"40"},{"1":"248","2":"40"},{"1":"249","2":"40"},{"1":"250","2":"40"},{"1":"251","2":"40"},{"1":"252","2":"40"},{"1":"253","2":"40"},{"1":"254","2":"40"},{"1":"255","2":"40"},{"1":"256","2":"40"},{"1":"257","2":"40"},{"1":"258","2":"40"},{"1":"259","2":"40"},{"1":"260","2":"40"},{"1":"261","2":"40"},{"1":"262","2":"40"},{"1":"263","2":"40"},{"1":"264","2":"40"},{"1":"265","2":"40"},{"1":"266","2":"40"},{"1":"267","2":"40"},{"1":"268","2":"40"},{"1":"269","2":"40"},{"1":"270","2":"40"},{"1":"271","2":"40"},{"1":"272","2":"40"},{"1":"273","2":"40"},{"1":"274","2":"40"},{"1":"275","2":"40"},{"1":"276","2":"40"},{"1":"277","2":"40"},{"1":"278","2":"40"},{"1":"279","2":"40"},{"1":"280","2":"40"},{"1":"281","2":"40"},{"1":"282","2":"40"},{"1":"283","2":"40"},{"1":"284","2":"40"},{"1":"285","2":"40"},{"1":"286","2":"40"},{"1":"287","2":"40"},{"1":"288","2":"40"},{"1":"289","2":"40"},{"1":"290","2":"40"},{"1":"291","2":"40"},{"1":"292","2":"40"},{"1":"293","2":"40"},{"1":"294","2":"40"},{"1":"295","2":"40"},{"1":"296","2":"40"},{"1":"297","2":"40"},{"1":"298","2":"40"},{"1":"299","2":"40"},{"1":"300","2":"40"},{"1":"301","2":"40"},{"1":"302","2":"40"},{"1":"303","2":"40"},{"1":"304","2":"40"},{"1":"305","2":"40"},{"1":"306","2":"40"},{"1":"307","2":"40"},{"1":"308","2":"40"},{"1":"309","2":"40"},{"1":"310","2":"40"},{"1":"311","2":"40"},{"1":"312","2":"40"},{"1":"313","2":"40"},{"1":"314","2":"40"},{"1":"315","2":"40"},{"1":"316","2":"40"},{"1":"317","2":"40"},{"1":"318","2":"40"},{"1":"319","2":"40"},{"1":"320","2":"40"},{"1":"321","2":"40"},{"1":"322","2":"40"},{"1":"323","2":"40"},{"1":"324","2":"40"},{"1":"325","2":"40"},{"1":"326","2":"40"},{"1":"327","2":"40"},{"1":"328","2":"40"},{"1":"329","2":"40"},{"1":"330","2":"40"},{"1":"331","2":"40"},{"1":"332","2":"40"},{"1":"333","2":"40"},{"1":"334","2":"40"},{"1":"335","2":"40"},{"1":"336","2":"40"},{"1":"337","2":"40"},{"1":"338","2":"40"},{"1":"339","2":"40"},{"1":"340","2":"40"},{"1":"341","2":"40"},{"1":"342","2":"40"},{"1":"343","2":"40"},{"1":"344","2":"40"},{"1":"345","2":"40"},{"1":"346","2":"40"},{"1":"347","2":"40"},{"1":"348","2":"40"},{"1":"349","2":"40"},{"1":"350","2":"40"},{"1":"351","2":"40"},{"1":"352","2":"40"},{"1":"353","2":"40"},{"1":"354","2":"40"},{"1":"355","2":"40"},{"1":"356","2":"40"},{"1":"357","2":"40"},{"1":"358","2":"40"},{"1":"359","2":"40"},{"1":"360","2":"40"},{"1":"361","2":"40"},{"1":"362","2":"40"},{"1":"363","2":"40"},{"1":"364","2":"40"},{"1":"365","2":"40"},{"1":"366","2":"40"},{"1":"367","2":"40"},{"1":"368","2":"40"},{"1":"369","2":"40"},{"1":"370","2":"40"},{"1":"371","2":"40"},{"1":"372","2":"40"},{"1":"373","2":"40"},{"1":"374","2":"40"},{"1":"375","2":"40"},{"1":"376","2":"40"},{"1":"377","2":"40"},{"1":"378","2":"40"},{"1":"379","2":"40"},{"1":"380","2":"40"},{"1":"381","2":"40"},{"1":"382","2":"40"},{"1":"383","2":"40"},{"1":"384","2":"40"},{"1":"385","2":"40"},{"1":"386","2":"40"},{"1":"387","2":"40"},{"1":"388","2":"40"},{"1":"389","2":"40"},{"1":"390","2":"40"},{"1":"391","2":"40"},{"1":"392","2":"40"},{"1":"393","2":"40"},{"1":"394","2":"40"},{"1":"395","2":"40"},{"1":"396","2":"40"},{"1":"397","2":"40"},{"1":"398","2":"40"},{"1":"399","2":"40"},{"1":"400","2":"40"},{"1":"401","2":"40"},{"1":"402","2":"40"},{"1":"403","2":"40"},{"1":"404","2":"40"},{"1":"405","2":"40"},{"1":"406","2":"40"},{"1":"407","2":"40"},{"1":"408","2":"40"},{"1":"409","2":"40"},{"1":"410","2":"40"},{"1":"411","2":"40"},{"1":"412","2":"40"},{"1":"413","2":"40"},{"1":"414","2":"40"},{"1":"415","2":"40"},{"1":"416","2":"40"},{"1":"417","2":"40"},{"1":"418","2":"40"},{"1":"419","2":"40"},{"1":"420","2":"40"},{"1":"421","2":"40"},{"1":"422","2":"40"},{"1":"423","2":"40"},{"1":"424","2":"40"},{"1":"425","2":"40"},{"1":"426","2":"40"},{"1":"427","2":"40"},{"1":"428","2":"40"},{"1":"429","2":"40"},{"1":"430","2":"40"},{"1":"431","2":"40"},{"1":"432","2":"40"},{"1":"433","2":"40"},{"1":"434","2":"40"},{"1":"435","2":"40"},{"1":"436","2":"40"},{"1":"437","2":"40"},{"1":"438","2":"40"},{"1":"439","2":"40"},{"1":"440","2":"40"},{"1":"441","2":"40"},{"1":"442","2":"40"},{"1":"443","2":"40"},{"1":"444","2":"40"},{"1":"445","2":"40"},{"1":"446","2":"40"},{"1":"447","2":"40"},{"1":"448","2":"40"},{"1":"449","2":"40"},{"1":"450","2":"40"},{"1":"451","2":"40"},{"1":"452","2":"40"},{"1":"453","2":"40"},{"1":"454","2":"40"},{"1":"455","2":"40"},{"1":"456","2":"40"},{"1":"457","2":"40"},{"1":"458","2":"40"},{"1":"459","2":"40"},{"1":"460","2":"40"},{"1":"461","2":"40"},{"1":"462","2":"40"},{"1":"463","2":"40"},{"1":"464","2":"40"},{"1":"465","2":"40"},{"1":"466","2":"40"},{"1":"467","2":"40"},{"1":"468","2":"40"},{"1":"469","2":"40"},{"1":"470","2":"40"},{"1":"471","2":"40"},{"1":"472","2":"40"},{"1":"473","2":"40"},{"1":"474","2":"40"},{"1":"475","2":"40"},{"1":"476","2":"40"},{"1":"477","2":"40"},{"1":"478","2":"40"},{"1":"479","2":"40"},{"1":"480","2":"40"},{"1":"481","2":"40"},{"1":"482","2":"40"},{"1":"483","2":"40"},{"1":"484","2":"40"},{"1":"485","2":"40"},{"1":"486","2":"40"},{"1":"487","2":"40"},{"1":"488","2":"40"},{"1":"489","2":"40"},{"1":"490","2":"40"},{"1":"491","2":"40"},{"1":"492","2":"40"},{"1":"493","2":"40"},{"1":"494","2":"40"},{"1":"495","2":"40"},{"1":"496","2":"40"},{"1":"497","2":"40"},{"1":"498","2":"40"},{"1":"499","2":"40"},{"1":"500","2":"40"},{"1":"501","2":"40"},{"1":"502","2":"40"},{"1":"503","2":"40"},{"1":"504","2":"40"},{"1":"505","2":"40"},{"1":"506","2":"40"},{"1":"507","2":"40"},{"1":"508","2":"40"},{"1":"509","2":"40"},{"1":"510","2":"40"},{"1":"511","2":"40"},{"1":"512","2":"40"},{"1":"513","2":"40"},{"1":"514","2":"40"},{"1":"515","2":"40"},{"1":"516","2":"40"},{"1":"517","2":"40"},{"1":"518","2":"40"},{"1":"519","2":"40"},{"1":"520","2":"40"},{"1":"521","2":"40"},{"1":"522","2":"40"},{"1":"523","2":"40"},{"1":"524","2":"40"},{"1":"525","2":"40"},{"1":"526","2":"40"},{"1":"527","2":"40"},{"1":"528","2":"40"},{"1":"529","2":"40"},{"1":"530","2":"40"},{"1":"531","2":"40"},{"1":"532","2":"40"},{"1":"533","2":"40"},{"1":"534","2":"40"},{"1":"535","2":"40"},{"1":"536","2":"40"},{"1":"537","2":"40"},{"1":"538","2":"40"},{"1":"539","2":"40"},{"1":"540","2":"40"},{"1":"541","2":"40"},{"1":"542","2":"40"},{"1":"543","2":"40"},{"1":"544","2":"40"},{"1":"545","2":"40"},{"1":"546","2":"40"},{"1":"547","2":"40"},{"1":"548","2":"40"},{"1":"549","2":"40"},{"1":"550","2":"40"},{"1":"551","2":"40"},{"1":"552","2":"40"},{"1":"553","2":"40"},{"1":"554","2":"40"},{"1":"555","2":"40"},{"1":"556","2":"40"},{"1":"557","2":"40"},{"1":"558","2":"40"},{"1":"559","2":"40"},{"1":"560","2":"40"},{"1":"561","2":"40"},{"1":"562","2":"40"},{"1":"563","2":"40"},{"1":"564","2":"40"},{"1":"565","2":"40"},{"1":"566","2":"40"},{"1":"567","2":"40"},{"1":"568","2":"40"},{"1":"569","2":"40"},{"1":"570","2":"40"},{"1":"571","2":"40"},{"1":"572","2":"40"},{"1":"573","2":"40"},{"1":"574","2":"40"},{"1":"575","2":"40"},{"1":"576","2":"40"},{"1":"577","2":"40"},{"1":"578","2":"40"},{"1":"579","2":"40"},{"1":"580","2":"40"},{"1":"581","2":"40"},{"1":"582","2":"40"},{"1":"583","2":"40"},{"1":"584","2":"40"},{"1":"585","2":"40"},{"1":"586","2":"40"},{"1":"587","2":"40"},{"1":"588","2":"40"},{"1":"589","2":"40"},{"1":"590","2":"40"},{"1":"591","2":"40"},{"1":"592","2":"40"},{"1":"593","2":"40"},{"1":"594","2":"40"},{"1":"595","2":"40"},{"1":"596","2":"40"},{"1":"597","2":"40"},{"1":"598","2":"40"},{"1":"599","2":"40"},{"1":"600","2":"40"},{"1":"601","2":"40"},{"1":"602","2":"40"},{"1":"603","2":"40"},{"1":"604","2":"40"},{"1":"605","2":"40"},{"1":"606","2":"40"},{"1":"607","2":"40"},{"1":"608","2":"40"},{"1":"609","2":"40"},{"1":"610","2":"40"},{"1":"611","2":"40"},{"1":"612","2":"40"},{"1":"613","2":"40"},{"1":"614","2":"40"},{"1":"615","2":"40"},{"1":"616","2":"40"},{"1":"617","2":"40"},{"1":"618","2":"40"},{"1":"619","2":"40"},{"1":"620","2":"40"},{"1":"621","2":"40"},{"1":"622","2":"40"},{"1":"623","2":"40"},{"1":"624","2":"40"},{"1":"625","2":"40"},{"1":"626","2":"40"},{"1":"627","2":"40"},{"1":"628","2":"40"},{"1":"629","2":"40"},{"1":"630","2":"40"},{"1":"631","2":"40"},{"1":"632","2":"40"},{"1":"633","2":"40"},{"1":"634","2":"40"},{"1":"635","2":"40"},{"1":"636","2":"40"},{"1":"637","2":"40"},{"1":"638","2":"40"},{"1":"639","2":"40"},{"1":"640","2":"40"},{"1":"641","2":"40"},{"1":"642","2":"40"},{"1":"643","2":"40"},{"1":"644","2":"40"},{"1":"645","2":"40"},{"1":"646","2":"40"},{"1":"647","2":"40"},{"1":"648","2":"40"},{"1":"649","2":"40"},{"1":"650","2":"40"},{"1":"651","2":"40"},{"1":"652","2":"40"},{"1":"653","2":"40"},{"1":"654","2":"40"},{"1":"655","2":"40"},{"1":"656","2":"40"},{"1":"657","2":"40"},{"1":"658","2":"40"},{"1":"659","2":"40"},{"1":"660","2":"40"},{"1":"661","2":"40"},{"1":"662","2":"40"},{"1":"663","2":"40"},{"1":"664","2":"40"},{"1":"665","2":"40"},{"1":"666","2":"40"},{"1":"667","2":"40"},{"1":"668","2":"40"},{"1":"669","2":"40"},{"1":"670","2":"40"},{"1":"671","2":"40"},{"1":"672","2":"40"},{"1":"673","2":"40"},{"1":"674","2":"40"},{"1":"675","2":"40"},{"1":"676","2":"40"},{"1":"677","2":"40"},{"1":"678","2":"40"},{"1":"679","2":"40"},{"1":"680","2":"40"},{"1":"681","2":"40"},{"1":"682","2":"40"},{"1":"683","2":"40"},{"1":"684","2":"40"},{"1":"685","2":"40"},{"1":"686","2":"40"},{"1":"687","2":"40"},{"1":"688","2":"40"},{"1":"689","2":"40"},{"1":"690","2":"40"},{"1":"691","2":"40"},{"1":"692","2":"40"},{"1":"693","2":"40"},{"1":"694","2":"40"},{"1":"695","2":"40"},{"1":"696","2":"40"},{"1":"697","2":"40"},{"1":"698","2":"40"},{"1":"699","2":"40"},{"1":"700","2":"40"},{"1":"701","2":"40"},{"1":"702","2":"40"},{"1":"703","2":"40"},{"1":"704","2":"40"},{"1":"705","2":"40"},{"1":"706","2":"40"},{"1":"707","2":"40"},{"1":"708","2":"40"},{"1":"709","2":"40"},{"1":"710","2":"40"},{"1":"711","2":"40"},{"1":"712","2":"40"},{"1":"713","2":"40"},{"1":"714","2":"40"},{"1":"715","2":"40"},{"1":"716","2":"40"},{"1":"717","2":"40"},{"1":"718","2":"40"},{"1":"719","2":"40"},{"1":"720","2":"40"},{"1":"721","2":"40"},{"1":"722","2":"40"},{"1":"723","2":"40"},{"1":"724","2":"40"},{"1":"725","2":"40"},{"1":"726","2":"40"},{"1":"727","2":"40"},{"1":"728","2":"40"},{"1":"729","2":"40"},{"1":"730","2":"40"},{"1":"731","2":"40"},{"1":"732","2":"40"},{"1":"733","2":"40"},{"1":"734","2":"40"},{"1":"735","2":"40"},{"1":"736","2":"40"},{"1":"737","2":"40"},{"1":"738","2":"40"},{"1":"739","2":"40"},{"1":"740","2":"40"},{"1":"741","2":"40"},{"1":"742","2":"40"},{"1":"743","2":"40"},{"1":"744","2":"40"},{"1":"745","2":"40"},{"1":"746","2":"40"},{"1":"747","2":"40"},{"1":"748","2":"40"},{"1":"749","2":"40"},{"1":"750","2":"40"},{"1":"751","2":"40"},{"1":"752","2":"40"},{"1":"753","2":"40"},{"1":"754","2":"40"},{"1":"755","2":"40"},{"1":"756","2":"40"},{"1":"757","2":"40"},{"1":"758","2":"40"},{"1":"759","2":"40"},{"1":"760","2":"40"},{"1":"761","2":"40"},{"1":"762","2":"40"},{"1":"763","2":"40"},{"1":"764","2":"40"},{"1":"765","2":"40"},{"1":"766","2":"40"},{"1":"767","2":"40"},{"1":"768","2":"40"},{"1":"769","2":"40"},{"1":"770","2":"40"},{"1":"771","2":"40"},{"1":"772","2":"40"},{"1":"773","2":"40"},{"1":"774","2":"40"},{"1":"775","2":"40"},{"1":"776","2":"40"},{"1":"777","2":"40"},{"1":"778","2":"40"},{"1":"779","2":"40"},{"1":"780","2":"40"},{"1":"781","2":"40"},{"1":"782","2":"40"},{"1":"783","2":"40"},{"1":"784","2":"40"},{"1":"785","2":"40"},{"1":"786","2":"40"},{"1":"787","2":"40"},{"1":"788","2":"40"},{"1":"789","2":"40"},{"1":"790","2":"40"},{"1":"791","2":"40"},{"1":"792","2":"40"},{"1":"793","2":"40"},{"1":"794","2":"40"},{"1":"795","2":"40"},{"1":"796","2":"40"},{"1":"797","2":"40"},{"1":"798","2":"40"},{"1":"799","2":"40"},{"1":"800","2":"40"},{"1":"801","2":"40"},{"1":"802","2":"40"},{"1":"803","2":"40"},{"1":"804","2":"40"},{"1":"805","2":"40"},{"1":"806","2":"40"},{"1":"807","2":"40"},{"1":"808","2":"40"},{"1":"809","2":"40"},{"1":"810","2":"40"},{"1":"811","2":"40"},{"1":"812","2":"40"},{"1":"813","2":"40"},{"1":"814","2":"40"},{"1":"815","2":"40"},{"1":"816","2":"40"},{"1":"817","2":"40"},{"1":"818","2":"40"},{"1":"819","2":"40"},{"1":"820","2":"40"},{"1":"821","2":"40"},{"1":"822","2":"40"},{"1":"823","2":"40"},{"1":"824","2":"40"},{"1":"825","2":"40"},{"1":"826","2":"40"},{"1":"827","2":"40"},{"1":"828","2":"40"},{"1":"829","2":"40"},{"1":"830","2":"40"},{"1":"831","2":"40"},{"1":"832","2":"40"},{"1":"833","2":"40"},{"1":"834","2":"40"},{"1":"835","2":"40"},{"1":"836","2":"40"},{"1":"837","2":"40"},{"1":"838","2":"40"},{"1":"839","2":"40"},{"1":"840","2":"40"},{"1":"841","2":"40"},{"1":"842","2":"40"},{"1":"843","2":"40"},{"1":"844","2":"40"},{"1":"845","2":"40"},{"1":"846","2":"40"},{"1":"847","2":"40"},{"1":"848","2":"40"},{"1":"849","2":"40"},{"1":"850","2":"40"},{"1":"851","2":"40"},{"1":"852","2":"40"},{"1":"853","2":"40"},{"1":"854","2":"40"},{"1":"855","2":"40"},{"1":"856","2":"40"},{"1":"857","2":"40"},{"1":"858","2":"40"},{"1":"859","2":"40"},{"1":"860","2":"40"},{"1":"861","2":"40"},{"1":"862","2":"40"},{"1":"863","2":"40"},{"1":"864","2":"40"},{"1":"865","2":"40"},{"1":"866","2":"40"},{"1":"867","2":"40"},{"1":"868","2":"40"},{"1":"869","2":"40"},{"1":"870","2":"40"},{"1":"871","2":"40"},{"1":"872","2":"40"},{"1":"873","2":"40"},{"1":"874","2":"40"},{"1":"875","2":"40"},{"1":"876","2":"40"},{"1":"877","2":"40"},{"1":"878","2":"40"},{"1":"879","2":"40"},{"1":"880","2":"40"},{"1":"881","2":"40"},{"1":"882","2":"40"},{"1":"883","2":"40"},{"1":"884","2":"40"},{"1":"885","2":"40"},{"1":"886","2":"40"},{"1":"887","2":"40"},{"1":"888","2":"40"},{"1":"889","2":"40"},{"1":"890","2":"40"},{"1":"891","2":"40"},{"1":"892","2":"40"},{"1":"893","2":"40"},{"1":"894","2":"40"},{"1":"895","2":"40"},{"1":"896","2":"40"},{"1":"897","2":"40"},{"1":"898","2":"40"},{"1":"899","2":"40"},{"1":"900","2":"40"},{"1":"901","2":"40"},{"1":"902","2":"40"},{"1":"903","2":"40"},{"1":"904","2":"40"},{"1":"905","2":"40"},{"1":"906","2":"40"},{"1":"907","2":"40"},{"1":"908","2":"40"},{"1":"909","2":"40"},{"1":"910","2":"40"},{"1":"911","2":"40"},{"1":"912","2":"40"},{"1":"913","2":"40"},{"1":"914","2":"40"},{"1":"915","2":"40"},{"1":"916","2":"40"},{"1":"917","2":"40"},{"1":"918","2":"40"},{"1":"919","2":"40"},{"1":"920","2":"40"},{"1":"921","2":"40"},{"1":"922","2":"40"},{"1":"923","2":"40"},{"1":"924","2":"40"},{"1":"925","2":"40"},{"1":"926","2":"40"},{"1":"927","2":"40"},{"1":"928","2":"40"},{"1":"929","2":"40"},{"1":"930","2":"40"},{"1":"931","2":"40"},{"1":"932","2":"40"},{"1":"933","2":"40"},{"1":"934","2":"40"},{"1":"935","2":"40"},{"1":"936","2":"40"},{"1":"937","2":"40"},{"1":"938","2":"40"},{"1":"939","2":"40"},{"1":"940","2":"40"},{"1":"941","2":"40"},{"1":"942","2":"40"},{"1":"943","2":"40"},{"1":"944","2":"40"},{"1":"945","2":"40"},{"1":"946","2":"40"},{"1":"947","2":"40"},{"1":"948","2":"40"},{"1":"949","2":"40"},{"1":"950","2":"40"},{"1":"951","2":"40"},{"1":"952","2":"40"},{"1":"953","2":"40"},{"1":"954","2":"40"},{"1":"955","2":"40"},{"1":"956","2":"40"},{"1":"957","2":"40"},{"1":"958","2":"40"},{"1":"959","2":"40"},{"1":"960","2":"40"},{"1":"961","2":"40"},{"1":"962","2":"40"},{"1":"963","2":"40"},{"1":"964","2":"40"},{"1":"965","2":"40"},{"1":"966","2":"40"},{"1":"967","2":"40"},{"1":"968","2":"40"},{"1":"969","2":"40"},{"1":"970","2":"40"},{"1":"971","2":"40"},{"1":"972","2":"40"},{"1":"973","2":"40"},{"1":"974","2":"40"},{"1":"975","2":"40"},{"1":"976","2":"40"},{"1":"977","2":"40"},{"1":"978","2":"40"},{"1":"979","2":"40"},{"1":"980","2":"40"},{"1":"981","2":"40"},{"1":"982","2":"40"},{"1":"983","2":"40"},{"1":"984","2":"40"},{"1":"985","2":"40"},{"1":"986","2":"40"},{"1":"987","2":"40"},{"1":"988","2":"40"},{"1":"989","2":"40"},{"1":"990","2":"40"},{"1":"991","2":"40"},{"1":"992","2":"40"},{"1":"993","2":"40"},{"1":"994","2":"40"},{"1":"995","2":"40"},{"1":"996","2":"40"},{"1":"997","2":"40"},{"1":"998","2":"40"},{"1":"999","2":"40"},{"1":"1000","2":"40"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Notice that each <code>replicate</code> has 40 entries here. Now that we have 1000 different bootstrap samples, our next step is to <code>calculate</code> the bootstrap statistics for each sample.</p>
</div>
<div id="calculate-summary-statistics" class="section level3">
<h3><span class="header-section-number">9.2.3</span> Calculate summary statistics</h3>
<p><img src="images/flowcharts/infer/calculate.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>After <code>generate()</code>ing many different samples, we next want to condense those samples down into a single statistic for each <code>replicate</code>d sample. As seen in the diagram, the <code>calculate()</code> function is helpful here.</p>
<p>As we did at the beginning of this chapter, we now want to calculate the mean <code>age_in_2011</code> for each bootstrap sample. To do so, we use the <code>stat</code> argument and set it to <code>&quot;mean&quot;</code> below. The <code>stat</code> argument has a variety of different options here and we will see further examples of this throughout the remaining chapters.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_distribution &lt;-<span class="st"> </span>pennies_sample <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">specify</span>(<span class="dt">response =</span> age_in_<span class="dv">2011</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">generate</span>(<span class="dt">reps =</span> <span class="dv">1000</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">calculate</span>(<span class="dt">stat =</span> <span class="st">&quot;mean&quot;</span>)
bootstrap_distribution</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["replicate"],"name":[1],"type":["int"],"align":["right"]},{"label":["stat"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"26.5"},{"1":"2","2":"25.4"},{"1":"3","2":"26.0"},{"1":"4","2":"26.0"},{"1":"5","2":"25.2"},{"1":"6","2":"28.9"},{"1":"7","2":"22.9"},{"1":"8","2":"26.4"},{"1":"9","2":"24.9"},{"1":"10","2":"28.1"},{"1":"11","2":"26.0"},{"1":"12","2":"27.1"},{"1":"13","2":"25.4"},{"1":"14","2":"24.8"},{"1":"15","2":"25.4"},{"1":"16","2":"30.4"},{"1":"17","2":"23.0"},{"1":"18","2":"24.4"},{"1":"19","2":"25.2"},{"1":"20","2":"28.2"},{"1":"21","2":"24.7"},{"1":"22","2":"27.2"},{"1":"23","2":"28.0"},{"1":"24","2":"27.2"},{"1":"25","2":"28.6"},{"1":"26","2":"27.0"},{"1":"27","2":"26.8"},{"1":"28","2":"27.8"},{"1":"29","2":"26.2"},{"1":"30","2":"20.9"},{"1":"31","2":"25.5"},{"1":"32","2":"24.4"},{"1":"33","2":"26.7"},{"1":"34","2":"23.4"},{"1":"35","2":"27.0"},{"1":"36","2":"25.1"},{"1":"37","2":"22.3"},{"1":"38","2":"26.8"},{"1":"39","2":"23.8"},{"1":"40","2":"25.4"},{"1":"41","2":"24.1"},{"1":"42","2":"27.1"},{"1":"43","2":"24.8"},{"1":"44","2":"26.3"},{"1":"45","2":"25.5"},{"1":"46","2":"25.8"},{"1":"47","2":"24.8"},{"1":"48","2":"24.7"},{"1":"49","2":"27.6"},{"1":"50","2":"24.7"},{"1":"51","2":"25.4"},{"1":"52","2":"23.6"},{"1":"53","2":"23.4"},{"1":"54","2":"26.7"},{"1":"55","2":"26.0"},{"1":"56","2":"22.8"},{"1":"57","2":"30.6"},{"1":"58","2":"21.0"},{"1":"59","2":"23.7"},{"1":"60","2":"22.7"},{"1":"61","2":"22.3"},{"1":"62","2":"27.2"},{"1":"63","2":"26.4"},{"1":"64","2":"24.9"},{"1":"65","2":"25.3"},{"1":"66","2":"25.1"},{"1":"67","2":"25.8"},{"1":"68","2":"27.8"},{"1":"69","2":"22.5"},{"1":"70","2":"23.0"},{"1":"71","2":"22.9"},{"1":"72","2":"25.7"},{"1":"73","2":"21.9"},{"1":"74","2":"24.7"},{"1":"75","2":"25.3"},{"1":"76","2":"24.6"},{"1":"77","2":"24.6"},{"1":"78","2":"24.1"},{"1":"79","2":"26.0"},{"1":"80","2":"25.1"},{"1":"81","2":"25.5"},{"1":"82","2":"25.6"},{"1":"83","2":"18.5"},{"1":"84","2":"25.2"},{"1":"85","2":"23.3"},{"1":"86","2":"24.1"},{"1":"87","2":"24.2"},{"1":"88","2":"25.7"},{"1":"89","2":"27.4"},{"1":"90","2":"27.8"},{"1":"91","2":"27.0"},{"1":"92","2":"23.1"},{"1":"93","2":"24.9"},{"1":"94","2":"26.7"},{"1":"95","2":"26.6"},{"1":"96","2":"29.4"},{"1":"97","2":"24.9"},{"1":"98","2":"24.2"},{"1":"99","2":"25.4"},{"1":"100","2":"26.5"},{"1":"101","2":"21.8"},{"1":"102","2":"25.0"},{"1":"103","2":"24.9"},{"1":"104","2":"24.9"},{"1":"105","2":"24.2"},{"1":"106","2":"23.1"},{"1":"107","2":"27.6"},{"1":"108","2":"26.6"},{"1":"109","2":"25.2"},{"1":"110","2":"22.8"},{"1":"111","2":"28.4"},{"1":"112","2":"22.8"},{"1":"113","2":"21.9"},{"1":"114","2":"24.5"},{"1":"115","2":"29.6"},{"1":"116","2":"26.3"},{"1":"117","2":"24.0"},{"1":"118","2":"26.7"},{"1":"119","2":"25.8"},{"1":"120","2":"26.0"},{"1":"121","2":"25.0"},{"1":"122","2":"23.8"},{"1":"123","2":"30.0"},{"1":"124","2":"22.0"},{"1":"125","2":"22.2"},{"1":"126","2":"21.4"},{"1":"127","2":"23.3"},{"1":"128","2":"24.8"},{"1":"129","2":"23.7"},{"1":"130","2":"23.2"},{"1":"131","2":"29.0"},{"1":"132","2":"22.4"},{"1":"133","2":"31.7"},{"1":"134","2":"24.1"},{"1":"135","2":"23.7"},{"1":"136","2":"24.9"},{"1":"137","2":"21.3"},{"1":"138","2":"24.2"},{"1":"139","2":"26.3"},{"1":"140","2":"22.9"},{"1":"141","2":"25.3"},{"1":"142","2":"15.7"},{"1":"143","2":"26.6"},{"1":"144","2":"27.4"},{"1":"145","2":"23.5"},{"1":"146","2":"25.6"},{"1":"147","2":"23.4"},{"1":"148","2":"25.2"},{"1":"149","2":"21.9"},{"1":"150","2":"23.3"},{"1":"151","2":"23.9"},{"1":"152","2":"24.0"},{"1":"153","2":"20.9"},{"1":"154","2":"24.5"},{"1":"155","2":"26.3"},{"1":"156","2":"25.8"},{"1":"157","2":"21.4"},{"1":"158","2":"20.6"},{"1":"159","2":"24.3"},{"1":"160","2":"21.6"},{"1":"161","2":"25.4"},{"1":"162","2":"25.7"},{"1":"163","2":"25.6"},{"1":"164","2":"26.4"},{"1":"165","2":"26.3"},{"1":"166","2":"22.4"},{"1":"167","2":"25.8"},{"1":"168","2":"25.8"},{"1":"169","2":"27.8"},{"1":"170","2":"22.7"},{"1":"171","2":"24.6"},{"1":"172","2":"26.3"},{"1":"173","2":"22.8"},{"1":"174","2":"24.1"},{"1":"175","2":"22.9"},{"1":"176","2":"22.9"},{"1":"177","2":"25.1"},{"1":"178","2":"28.1"},{"1":"179","2":"25.1"},{"1":"180","2":"28.2"},{"1":"181","2":"26.1"},{"1":"182","2":"24.1"},{"1":"183","2":"25.6"},{"1":"184","2":"23.4"},{"1":"185","2":"25.3"},{"1":"186","2":"23.0"},{"1":"187","2":"26.8"},{"1":"188","2":"27.2"},{"1":"189","2":"23.7"},{"1":"190","2":"26.1"},{"1":"191","2":"24.2"},{"1":"192","2":"23.5"},{"1":"193","2":"22.4"},{"1":"194","2":"24.3"},{"1":"195","2":"24.9"},{"1":"196","2":"27.4"},{"1":"197","2":"22.3"},{"1":"198","2":"25.8"},{"1":"199","2":"21.0"},{"1":"200","2":"27.7"},{"1":"201","2":"24.3"},{"1":"202","2":"20.7"},{"1":"203","2":"22.9"},{"1":"204","2":"26.0"},{"1":"205","2":"27.9"},{"1":"206","2":"25.8"},{"1":"207","2":"24.1"},{"1":"208","2":"23.1"},{"1":"209","2":"22.9"},{"1":"210","2":"25.9"},{"1":"211","2":"27.3"},{"1":"212","2":"23.7"},{"1":"213","2":"23.4"},{"1":"214","2":"24.7"},{"1":"215","2":"24.6"},{"1":"216","2":"26.4"},{"1":"217","2":"24.0"},{"1":"218","2":"28.8"},{"1":"219","2":"24.3"},{"1":"220","2":"23.1"},{"1":"221","2":"26.3"},{"1":"222","2":"27.0"},{"1":"223","2":"26.3"},{"1":"224","2":"24.9"},{"1":"225","2":"25.2"},{"1":"226","2":"22.9"},{"1":"227","2":"25.3"},{"1":"228","2":"28.4"},{"1":"229","2":"25.4"},{"1":"230","2":"26.7"},{"1":"231","2":"24.5"},{"1":"232","2":"22.9"},{"1":"233","2":"25.3"},{"1":"234","2":"25.9"},{"1":"235","2":"25.5"},{"1":"236","2":"24.8"},{"1":"237","2":"23.8"},{"1":"238","2":"24.1"},{"1":"239","2":"22.6"},{"1":"240","2":"21.9"},{"1":"241","2":"24.9"},{"1":"242","2":"28.9"},{"1":"243","2":"27.4"},{"1":"244","2":"24.7"},{"1":"245","2":"23.6"},{"1":"246","2":"24.4"},{"1":"247","2":"27.2"},{"1":"248","2":"25.2"},{"1":"249","2":"23.8"},{"1":"250","2":"25.9"},{"1":"251","2":"27.5"},{"1":"252","2":"27.6"},{"1":"253","2":"26.9"},{"1":"254","2":"23.4"},{"1":"255","2":"25.1"},{"1":"256","2":"27.5"},{"1":"257","2":"24.0"},{"1":"258","2":"30.1"},{"1":"259","2":"24.5"},{"1":"260","2":"27.4"},{"1":"261","2":"25.4"},{"1":"262","2":"23.3"},{"1":"263","2":"24.9"},{"1":"264","2":"25.2"},{"1":"265","2":"28.1"},{"1":"266","2":"24.1"},{"1":"267","2":"29.1"},{"1":"268","2":"26.2"},{"1":"269","2":"27.1"},{"1":"270","2":"23.4"},{"1":"271","2":"25.1"},{"1":"272","2":"24.3"},{"1":"273","2":"27.4"},{"1":"274","2":"27.2"},{"1":"275","2":"24.1"},{"1":"276","2":"20.8"},{"1":"277","2":"26.8"},{"1":"278","2":"25.2"},{"1":"279","2":"29.4"},{"1":"280","2":"22.6"},{"1":"281","2":"24.8"},{"1":"282","2":"23.0"},{"1":"283","2":"23.6"},{"1":"284","2":"25.1"},{"1":"285","2":"28.4"},{"1":"286","2":"26.8"},{"1":"287","2":"25.3"},{"1":"288","2":"26.5"},{"1":"289","2":"25.2"},{"1":"290","2":"23.4"},{"1":"291","2":"26.5"},{"1":"292","2":"21.3"},{"1":"293","2":"25.0"},{"1":"294","2":"25.3"},{"1":"295","2":"27.2"},{"1":"296","2":"22.2"},{"1":"297","2":"24.9"},{"1":"298","2":"23.9"},{"1":"299","2":"25.4"},{"1":"300","2":"23.6"},{"1":"301","2":"26.6"},{"1":"302","2":"29.1"},{"1":"303","2":"21.8"},{"1":"304","2":"27.5"},{"1":"305","2":"24.1"},{"1":"306","2":"23.5"},{"1":"307","2":"22.1"},{"1":"308","2":"24.4"},{"1":"309","2":"21.2"},{"1":"310","2":"25.3"},{"1":"311","2":"22.7"},{"1":"312","2":"25.7"},{"1":"313","2":"23.4"},{"1":"314","2":"24.4"},{"1":"315","2":"24.1"},{"1":"316","2":"24.3"},{"1":"317","2":"19.2"},{"1":"318","2":"24.6"},{"1":"319","2":"21.6"},{"1":"320","2":"26.0"},{"1":"321","2":"24.3"},{"1":"322","2":"24.0"},{"1":"323","2":"28.3"},{"1":"324","2":"24.6"},{"1":"325","2":"23.4"},{"1":"326","2":"27.2"},{"1":"327","2":"25.6"},{"1":"328","2":"25.2"},{"1":"329","2":"25.6"},{"1":"330","2":"27.9"},{"1":"331","2":"27.9"},{"1":"332","2":"27.4"},{"1":"333","2":"25.1"},{"1":"334","2":"25.9"},{"1":"335","2":"24.9"},{"1":"336","2":"26.9"},{"1":"337","2":"25.6"},{"1":"338","2":"25.2"},{"1":"339","2":"22.9"},{"1":"340","2":"27.7"},{"1":"341","2":"24.2"},{"1":"342","2":"22.3"},{"1":"343","2":"26.4"},{"1":"344","2":"27.4"},{"1":"345","2":"22.8"},{"1":"346","2":"22.2"},{"1":"347","2":"22.3"},{"1":"348","2":"22.6"},{"1":"349","2":"21.1"},{"1":"350","2":"27.8"},{"1":"351","2":"22.3"},{"1":"352","2":"24.0"},{"1":"353","2":"27.6"},{"1":"354","2":"24.6"},{"1":"355","2":"25.4"},{"1":"356","2":"26.1"},{"1":"357","2":"25.4"},{"1":"358","2":"23.7"},{"1":"359","2":"26.0"},{"1":"360","2":"24.7"},{"1":"361","2":"20.3"},{"1":"362","2":"21.6"},{"1":"363","2":"26.4"},{"1":"364","2":"21.3"},{"1":"365","2":"24.1"},{"1":"366","2":"23.7"},{"1":"367","2":"22.9"},{"1":"368","2":"23.1"},{"1":"369","2":"24.2"},{"1":"370","2":"23.1"},{"1":"371","2":"25.2"},{"1":"372","2":"26.4"},{"1":"373","2":"27.8"},{"1":"374","2":"26.8"},{"1":"375","2":"24.0"},{"1":"376","2":"25.6"},{"1":"377","2":"24.0"},{"1":"378","2":"26.5"},{"1":"379","2":"24.9"},{"1":"380","2":"26.1"},{"1":"381","2":"23.9"},{"1":"382","2":"24.9"},{"1":"383","2":"26.1"},{"1":"384","2":"24.2"},{"1":"385","2":"24.1"},{"1":"386","2":"24.7"},{"1":"387","2":"24.4"},{"1":"388","2":"18.6"},{"1":"389","2":"24.6"},{"1":"390","2":"27.9"},{"1":"391","2":"24.6"},{"1":"392","2":"19.5"},{"1":"393","2":"22.7"},{"1":"394","2":"25.9"},{"1":"395","2":"27.4"},{"1":"396","2":"24.6"},{"1":"397","2":"27.5"},{"1":"398","2":"25.4"},{"1":"399","2":"29.0"},{"1":"400","2":"22.9"},{"1":"401","2":"25.4"},{"1":"402","2":"25.1"},{"1":"403","2":"28.1"},{"1":"404","2":"24.6"},{"1":"405","2":"21.2"},{"1":"406","2":"26.5"},{"1":"407","2":"26.4"},{"1":"408","2":"26.0"},{"1":"409","2":"27.1"},{"1":"410","2":"28.3"},{"1":"411","2":"24.4"},{"1":"412","2":"21.8"},{"1":"413","2":"19.6"},{"1":"414","2":"22.1"},{"1":"415","2":"22.9"},{"1":"416","2":"25.4"},{"1":"417","2":"27.1"},{"1":"418","2":"23.2"},{"1":"419","2":"25.1"},{"1":"420","2":"24.8"},{"1":"421","2":"23.9"},{"1":"422","2":"22.2"},{"1":"423","2":"21.9"},{"1":"424","2":"25.0"},{"1":"425","2":"29.9"},{"1":"426","2":"21.8"},{"1":"427","2":"23.1"},{"1":"428","2":"24.7"},{"1":"429","2":"21.2"},{"1":"430","2":"25.8"},{"1":"431","2":"28.6"},{"1":"432","2":"23.7"},{"1":"433","2":"23.9"},{"1":"434","2":"21.2"},{"1":"435","2":"26.9"},{"1":"436","2":"25.7"},{"1":"437","2":"24.9"},{"1":"438","2":"23.7"},{"1":"439","2":"26.2"},{"1":"440","2":"22.4"},{"1":"441","2":"26.8"},{"1":"442","2":"25.4"},{"1":"443","2":"24.4"},{"1":"444","2":"24.6"},{"1":"445","2":"28.4"},{"1":"446","2":"22.3"},{"1":"447","2":"23.5"},{"1":"448","2":"24.6"},{"1":"449","2":"21.4"},{"1":"450","2":"22.8"},{"1":"451","2":"23.6"},{"1":"452","2":"23.7"},{"1":"453","2":"25.4"},{"1":"454","2":"28.6"},{"1":"455","2":"25.3"},{"1":"456","2":"27.8"},{"1":"457","2":"27.6"},{"1":"458","2":"26.8"},{"1":"459","2":"24.6"},{"1":"460","2":"23.4"},{"1":"461","2":"24.6"},{"1":"462","2":"23.8"},{"1":"463","2":"23.6"},{"1":"464","2":"24.9"},{"1":"465","2":"26.3"},{"1":"466","2":"24.8"},{"1":"467","2":"24.2"},{"1":"468","2":"25.4"},{"1":"469","2":"23.7"},{"1":"470","2":"29.8"},{"1":"471","2":"27.9"},{"1":"472","2":"24.1"},{"1":"473","2":"28.9"},{"1":"474","2":"23.2"},{"1":"475","2":"24.2"},{"1":"476","2":"26.1"},{"1":"477","2":"23.4"},{"1":"478","2":"24.0"},{"1":"479","2":"27.8"},{"1":"480","2":"27.7"},{"1":"481","2":"26.5"},{"1":"482","2":"26.5"},{"1":"483","2":"22.8"},{"1":"484","2":"28.7"},{"1":"485","2":"23.8"},{"1":"486","2":"24.2"},{"1":"487","2":"22.6"},{"1":"488","2":"22.9"},{"1":"489","2":"28.6"},{"1":"490","2":"25.0"},{"1":"491","2":"24.5"},{"1":"492","2":"22.6"},{"1":"493","2":"26.3"},{"1":"494","2":"24.2"},{"1":"495","2":"23.9"},{"1":"496","2":"26.8"},{"1":"497","2":"24.9"},{"1":"498","2":"23.6"},{"1":"499","2":"25.1"},{"1":"500","2":"26.6"},{"1":"501","2":"28.6"},{"1":"502","2":"24.9"},{"1":"503","2":"28.1"},{"1":"504","2":"27.3"},{"1":"505","2":"25.9"},{"1":"506","2":"24.7"},{"1":"507","2":"24.4"},{"1":"508","2":"25.0"},{"1":"509","2":"23.2"},{"1":"510","2":"25.2"},{"1":"511","2":"25.6"},{"1":"512","2":"25.5"},{"1":"513","2":"25.6"},{"1":"514","2":"26.5"},{"1":"515","2":"27.9"},{"1":"516","2":"27.8"},{"1":"517","2":"24.1"},{"1":"518","2":"23.4"},{"1":"519","2":"22.9"},{"1":"520","2":"28.1"},{"1":"521","2":"26.6"},{"1":"522","2":"26.5"},{"1":"523","2":"26.1"},{"1":"524","2":"24.6"},{"1":"525","2":"28.0"},{"1":"526","2":"25.0"},{"1":"527","2":"24.4"},{"1":"528","2":"26.9"},{"1":"529","2":"25.0"},{"1":"530","2":"23.6"},{"1":"531","2":"23.8"},{"1":"532","2":"25.6"},{"1":"533","2":"29.8"},{"1":"534","2":"25.8"},{"1":"535","2":"23.6"},{"1":"536","2":"27.5"},{"1":"537","2":"24.9"},{"1":"538","2":"26.4"},{"1":"539","2":"24.3"},{"1":"540","2":"27.3"},{"1":"541","2":"22.8"},{"1":"542","2":"22.1"},{"1":"543","2":"27.9"},{"1":"544","2":"25.1"},{"1":"545","2":"26.6"},{"1":"546","2":"21.5"},{"1":"547","2":"26.9"},{"1":"548","2":"28.5"},{"1":"549","2":"23.8"},{"1":"550","2":"25.3"},{"1":"551","2":"25.5"},{"1":"552","2":"26.9"},{"1":"553","2":"25.3"},{"1":"554","2":"24.5"},{"1":"555","2":"24.9"},{"1":"556","2":"23.4"},{"1":"557","2":"23.8"},{"1":"558","2":"28.2"},{"1":"559","2":"24.4"},{"1":"560","2":"25.5"},{"1":"561","2":"22.5"},{"1":"562","2":"24.6"},{"1":"563","2":"26.8"},{"1":"564","2":"26.6"},{"1":"565","2":"22.9"},{"1":"566","2":"25.6"},{"1":"567","2":"22.8"},{"1":"568","2":"24.6"},{"1":"569","2":"25.6"},{"1":"570","2":"26.1"},{"1":"571","2":"22.8"},{"1":"572","2":"25.1"},{"1":"573","2":"21.1"},{"1":"574","2":"22.6"},{"1":"575","2":"26.8"},{"1":"576","2":"25.6"},{"1":"577","2":"21.8"},{"1":"578","2":"27.1"},{"1":"579","2":"23.9"},{"1":"580","2":"27.8"},{"1":"581","2":"26.5"},{"1":"582","2":"24.0"},{"1":"583","2":"25.0"},{"1":"584","2":"23.5"},{"1":"585","2":"20.3"},{"1":"586","2":"23.1"},{"1":"587","2":"25.9"},{"1":"588","2":"23.4"},{"1":"589","2":"28.0"},{"1":"590","2":"22.6"},{"1":"591","2":"23.7"},{"1":"592","2":"25.6"},{"1":"593","2":"29.7"},{"1":"594","2":"24.6"},{"1":"595","2":"23.8"},{"1":"596","2":"23.7"},{"1":"597","2":"22.4"},{"1":"598","2":"25.4"},{"1":"599","2":"27.5"},{"1":"600","2":"24.8"},{"1":"601","2":"29.8"},{"1":"602","2":"23.6"},{"1":"603","2":"27.4"},{"1":"604","2":"20.7"},{"1":"605","2":"22.5"},{"1":"606","2":"25.7"},{"1":"607","2":"24.1"},{"1":"608","2":"29.4"},{"1":"609","2":"21.6"},{"1":"610","2":"27.9"},{"1":"611","2":"26.6"},{"1":"612","2":"25.1"},{"1":"613","2":"24.4"},{"1":"614","2":"24.8"},{"1":"615","2":"27.8"},{"1":"616","2":"28.8"},{"1":"617","2":"21.9"},{"1":"618","2":"25.0"},{"1":"619","2":"25.7"},{"1":"620","2":"20.7"},{"1":"621","2":"22.3"},{"1":"622","2":"27.4"},{"1":"623","2":"24.1"},{"1":"624","2":"27.0"},{"1":"625","2":"24.2"},{"1":"626","2":"26.2"},{"1":"627","2":"27.0"},{"1":"628","2":"25.6"},{"1":"629","2":"30.1"},{"1":"630","2":"27.2"},{"1":"631","2":"24.1"},{"1":"632","2":"24.2"},{"1":"633","2":"25.1"},{"1":"634","2":"24.8"},{"1":"635","2":"21.6"},{"1":"636","2":"26.6"},{"1":"637","2":"25.5"},{"1":"638","2":"25.1"},{"1":"639","2":"24.3"},{"1":"640","2":"22.9"},{"1":"641","2":"26.7"},{"1":"642","2":"22.5"},{"1":"643","2":"27.4"},{"1":"644","2":"27.0"},{"1":"645","2":"24.6"},{"1":"646","2":"23.1"},{"1":"647","2":"24.9"},{"1":"648","2":"23.4"},{"1":"649","2":"25.3"},{"1":"650","2":"26.0"},{"1":"651","2":"24.4"},{"1":"652","2":"26.0"},{"1":"653","2":"24.1"},{"1":"654","2":"25.3"},{"1":"655","2":"24.9"},{"1":"656","2":"30.4"},{"1":"657","2":"29.2"},{"1":"658","2":"28.6"},{"1":"659","2":"23.8"},{"1":"660","2":"23.7"},{"1":"661","2":"25.5"},{"1":"662","2":"27.1"},{"1":"663","2":"24.8"},{"1":"664","2":"18.4"},{"1":"665","2":"25.3"},{"1":"666","2":"21.3"},{"1":"667","2":"20.1"},{"1":"668","2":"26.8"},{"1":"669","2":"26.0"},{"1":"670","2":"26.6"},{"1":"671","2":"24.9"},{"1":"672","2":"22.3"},{"1":"673","2":"25.0"},{"1":"674","2":"23.1"},{"1":"675","2":"26.0"},{"1":"676","2":"20.5"},{"1":"677","2":"23.7"},{"1":"678","2":"23.6"},{"1":"679","2":"27.6"},{"1":"680","2":"29.3"},{"1":"681","2":"24.6"},{"1":"682","2":"24.2"},{"1":"683","2":"26.6"},{"1":"684","2":"24.5"},{"1":"685","2":"24.1"},{"1":"686","2":"28.3"},{"1":"687","2":"21.5"},{"1":"688","2":"26.4"},{"1":"689","2":"19.8"},{"1":"690","2":"24.2"},{"1":"691","2":"26.4"},{"1":"692","2":"25.4"},{"1":"693","2":"25.6"},{"1":"694","2":"22.9"},{"1":"695","2":"23.9"},{"1":"696","2":"24.6"},{"1":"697","2":"26.9"},{"1":"698","2":"24.1"},{"1":"699","2":"24.2"},{"1":"700","2":"26.8"},{"1":"701","2":"28.2"},{"1":"702","2":"26.4"},{"1":"703","2":"23.0"},{"1":"704","2":"25.0"},{"1":"705","2":"24.5"},{"1":"706","2":"23.1"},{"1":"707","2":"25.4"},{"1":"708","2":"25.1"},{"1":"709","2":"25.6"},{"1":"710","2":"21.0"},{"1":"711","2":"25.2"},{"1":"712","2":"24.6"},{"1":"713","2":"24.2"},{"1":"714","2":"25.1"},{"1":"715","2":"25.2"},{"1":"716","2":"22.3"},{"1":"717","2":"27.7"},{"1":"718","2":"23.4"},{"1":"719","2":"22.0"},{"1":"720","2":"23.5"},{"1":"721","2":"28.6"},{"1":"722","2":"27.4"},{"1":"723","2":"25.9"},{"1":"724","2":"24.2"},{"1":"725","2":"26.6"},{"1":"726","2":"24.1"},{"1":"727","2":"25.9"},{"1":"728","2":"27.9"},{"1":"729","2":"25.4"},{"1":"730","2":"25.1"},{"1":"731","2":"20.8"},{"1":"732","2":"23.9"},{"1":"733","2":"25.4"},{"1":"734","2":"23.6"},{"1":"735","2":"26.2"},{"1":"736","2":"24.4"},{"1":"737","2":"23.2"},{"1":"738","2":"24.6"},{"1":"739","2":"24.0"},{"1":"740","2":"25.9"},{"1":"741","2":"24.6"},{"1":"742","2":"26.6"},{"1":"743","2":"23.8"},{"1":"744","2":"24.8"},{"1":"745","2":"22.6"},{"1":"746","2":"24.4"},{"1":"747","2":"25.6"},{"1":"748","2":"22.9"},{"1":"749","2":"21.8"},{"1":"750","2":"23.3"},{"1":"751","2":"25.4"},{"1":"752","2":"27.1"},{"1":"753","2":"21.4"},{"1":"754","2":"25.1"},{"1":"755","2":"24.4"},{"1":"756","2":"30.2"},{"1":"757","2":"25.0"},{"1":"758","2":"27.1"},{"1":"759","2":"26.9"},{"1":"760","2":"29.0"},{"1":"761","2":"26.0"},{"1":"762","2":"23.4"},{"1":"763","2":"26.3"},{"1":"764","2":"22.0"},{"1":"765","2":"26.7"},{"1":"766","2":"29.9"},{"1":"767","2":"25.4"},{"1":"768","2":"23.5"},{"1":"769","2":"24.9"},{"1":"770","2":"26.1"},{"1":"771","2":"23.9"},{"1":"772","2":"27.9"},{"1":"773","2":"24.4"},{"1":"774","2":"26.1"},{"1":"775","2":"24.7"},{"1":"776","2":"23.0"},{"1":"777","2":"23.1"},{"1":"778","2":"25.0"},{"1":"779","2":"27.4"},{"1":"780","2":"26.4"},{"1":"781","2":"21.4"},{"1":"782","2":"23.4"},{"1":"783","2":"23.6"},{"1":"784","2":"23.4"},{"1":"785","2":"25.1"},{"1":"786","2":"24.5"},{"1":"787","2":"29.9"},{"1":"788","2":"24.1"},{"1":"789","2":"26.3"},{"1":"790","2":"26.2"},{"1":"791","2":"24.3"},{"1":"792","2":"20.1"},{"1":"793","2":"24.5"},{"1":"794","2":"24.8"},{"1":"795","2":"26.6"},{"1":"796","2":"26.6"},{"1":"797","2":"25.1"},{"1":"798","2":"27.8"},{"1":"799","2":"24.9"},{"1":"800","2":"26.2"},{"1":"801","2":"25.0"},{"1":"802","2":"23.4"},{"1":"803","2":"28.9"},{"1":"804","2":"24.6"},{"1":"805","2":"24.2"},{"1":"806","2":"25.9"},{"1":"807","2":"26.2"},{"1":"808","2":"25.4"},{"1":"809","2":"27.3"},{"1":"810","2":"25.6"},{"1":"811","2":"24.6"},{"1":"812","2":"21.6"},{"1":"813","2":"26.0"},{"1":"814","2":"23.9"},{"1":"815","2":"23.3"},{"1":"816","2":"28.3"},{"1":"817","2":"24.6"},{"1":"818","2":"26.8"},{"1":"819","2":"23.6"},{"1":"820","2":"27.5"},{"1":"821","2":"22.2"},{"1":"822","2":"26.8"},{"1":"823","2":"27.4"},{"1":"824","2":"26.9"},{"1":"825","2":"26.9"},{"1":"826","2":"26.6"},{"1":"827","2":"27.2"},{"1":"828","2":"21.6"},{"1":"829","2":"19.8"},{"1":"830","2":"24.5"},{"1":"831","2":"26.3"},{"1":"832","2":"21.8"},{"1":"833","2":"26.1"},{"1":"834","2":"24.8"},{"1":"835","2":"27.2"},{"1":"836","2":"26.9"},{"1":"837","2":"27.5"},{"1":"838","2":"27.9"},{"1":"839","2":"28.8"},{"1":"840","2":"25.1"},{"1":"841","2":"23.1"},{"1":"842","2":"26.0"},{"1":"843","2":"25.4"},{"1":"844","2":"23.7"},{"1":"845","2":"26.0"},{"1":"846","2":"26.5"},{"1":"847","2":"21.0"},{"1":"848","2":"28.3"},{"1":"849","2":"23.0"},{"1":"850","2":"31.1"},{"1":"851","2":"22.1"},{"1":"852","2":"23.5"},{"1":"853","2":"28.1"},{"1":"854","2":"24.4"},{"1":"855","2":"23.0"},{"1":"856","2":"26.8"},{"1":"857","2":"28.9"},{"1":"858","2":"23.4"},{"1":"859","2":"28.7"},{"1":"860","2":"26.4"},{"1":"861","2":"25.4"},{"1":"862","2":"25.2"},{"1":"863","2":"27.1"},{"1":"864","2":"22.4"},{"1":"865","2":"24.2"},{"1":"866","2":"28.2"},{"1":"867","2":"21.2"},{"1":"868","2":"23.7"},{"1":"869","2":"24.8"},{"1":"870","2":"26.3"},{"1":"871","2":"26.6"},{"1":"872","2":"25.4"},{"1":"873","2":"26.0"},{"1":"874","2":"26.1"},{"1":"875","2":"27.4"},{"1":"876","2":"29.4"},{"1":"877","2":"26.4"},{"1":"878","2":"24.6"},{"1":"879","2":"22.5"},{"1":"880","2":"27.0"},{"1":"881","2":"22.9"},{"1":"882","2":"25.2"},{"1":"883","2":"23.6"},{"1":"884","2":"29.6"},{"1":"885","2":"25.4"},{"1":"886","2":"24.3"},{"1":"887","2":"23.1"},{"1":"888","2":"22.2"},{"1":"889","2":"26.0"},{"1":"890","2":"25.6"},{"1":"891","2":"25.6"},{"1":"892","2":"24.9"},{"1":"893","2":"25.7"},{"1":"894","2":"25.8"},{"1":"895","2":"26.9"},{"1":"896","2":"27.6"},{"1":"897","2":"24.8"},{"1":"898","2":"24.4"},{"1":"899","2":"22.4"},{"1":"900","2":"23.8"},{"1":"901","2":"26.8"},{"1":"902","2":"28.9"},{"1":"903","2":"26.8"},{"1":"904","2":"23.1"},{"1":"905","2":"24.8"},{"1":"906","2":"24.1"},{"1":"907","2":"26.6"},{"1":"908","2":"22.8"},{"1":"909","2":"27.9"},{"1":"910","2":"23.8"},{"1":"911","2":"27.2"},{"1":"912","2":"25.6"},{"1":"913","2":"27.7"},{"1":"914","2":"26.1"},{"1":"915","2":"25.0"},{"1":"916","2":"25.2"},{"1":"917","2":"25.9"},{"1":"918","2":"25.2"},{"1":"919","2":"24.1"},{"1":"920","2":"24.8"},{"1":"921","2":"24.2"},{"1":"922","2":"25.4"},{"1":"923","2":"23.6"},{"1":"924","2":"28.4"},{"1":"925","2":"26.3"},{"1":"926","2":"29.9"},{"1":"927","2":"26.5"},{"1":"928","2":"28.2"},{"1":"929","2":"24.7"},{"1":"930","2":"27.3"},{"1":"931","2":"21.8"},{"1":"932","2":"28.0"},{"1":"933","2":"26.8"},{"1":"934","2":"26.8"},{"1":"935","2":"19.6"},{"1":"936","2":"21.5"},{"1":"937","2":"25.4"},{"1":"938","2":"24.2"},{"1":"939","2":"28.1"},{"1":"940","2":"24.9"},{"1":"941","2":"20.2"},{"1":"942","2":"23.4"},{"1":"943","2":"29.8"},{"1":"944","2":"28.1"},{"1":"945","2":"25.6"},{"1":"946","2":"25.7"},{"1":"947","2":"26.4"},{"1":"948","2":"25.6"},{"1":"949","2":"24.3"},{"1":"950","2":"23.1"},{"1":"951","2":"27.4"},{"1":"952","2":"26.2"},{"1":"953","2":"23.3"},{"1":"954","2":"27.1"},{"1":"955","2":"26.8"},{"1":"956","2":"27.4"},{"1":"957","2":"25.8"},{"1":"958","2":"24.9"},{"1":"959","2":"27.0"},{"1":"960","2":"23.6"},{"1":"961","2":"24.1"},{"1":"962","2":"28.8"},{"1":"963","2":"26.1"},{"1":"964","2":"22.3"},{"1":"965","2":"23.1"},{"1":"966","2":"22.6"},{"1":"967","2":"28.7"},{"1":"968","2":"27.2"},{"1":"969","2":"27.3"},{"1":"970","2":"27.4"},{"1":"971","2":"26.9"},{"1":"972","2":"26.9"},{"1":"973","2":"25.4"},{"1":"974","2":"24.7"},{"1":"975","2":"24.6"},{"1":"976","2":"25.3"},{"1":"977","2":"26.3"},{"1":"978","2":"28.2"},{"1":"979","2":"25.7"},{"1":"980","2":"25.1"},{"1":"981","2":"25.6"},{"1":"982","2":"23.9"},{"1":"983","2":"21.9"},{"1":"984","2":"28.8"},{"1":"985","2":"24.3"},{"1":"986","2":"26.7"},{"1":"987","2":"26.4"},{"1":"988","2":"23.3"},{"1":"989","2":"22.8"},{"1":"990","2":"23.4"},{"1":"991","2":"22.6"},{"1":"992","2":"23.1"},{"1":"993","2":"19.2"},{"1":"994","2":"26.9"},{"1":"995","2":"23.2"},{"1":"996","2":"28.4"},{"1":"997","2":"21.8"},{"1":"998","2":"25.4"},{"1":"999","2":"24.8"},{"1":"1000","2":"27.8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We see that the resulting data has 1000 rows and 2 columns corresponding to the 1000 replicates and the mean for each bootstrap sample.</p>
<div id="observed-statistic-point-estimate-calculations" class="section level4 unnumbered">
<h4>Observed statistic / point estimate calculations</h4>
<p>Just as <code>group_by() %&gt;% summarize()</code> produces a useful workflow in <code>dplyr</code>, we can also use <code>specify() %&gt;% calculate()</code> to compute summary measures on our original sample data. It’s often helpful both in confidence interval calculations, but also in hypothesis testing to identify what the corresponding statistic is in the original data. For our example on penny age, we computed above a value of <code>x_bar</code> using the <code>summarize()</code> verb in <code>dplyr</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pennies_sample <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">stat =</span> <span class="kw">mean</span>(age_in_<span class="dv">2011</span>))</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["stat"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"25.1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>This can also be done by skipping the <code>generate()</code> step in the pipeline feeding <code>specify()</code> directly into <code>calculate()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pennies_sample <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">specify</span>(<span class="dt">response =</span> age_in_<span class="dv">2011</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">calculate</span>(<span class="dt">stat =</span> <span class="st">&quot;mean&quot;</span>)</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["stat"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"25.1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>This shortcut will be particularly useful when the calculation of the observed statistic is tricky to do using <code>dplyr</code> alone. This is particularly the case when working with more than one variable as will be seen in Chapter <a href="10-hypothesis-testing.html#hypothesis-testing">10</a>.</p>
</div>
</div>
<div id="visualize-the-results" class="section level3">
<h3><span class="header-section-number">9.2.4</span> Visualize the results</h3>
<p><img src="images/flowcharts/infer/visualize.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>The <code>visualize()</code> verb provides a simple way to view the bootstrap distribution as a histogram of the <code>stat</code> variable values. It has many other arguments that one can use as well including the shading of the histogram values corresponding to the confidence interval values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_distribution <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">visualize</span>()</code></pre></div>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-297-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>The shape of this resulting distribution may look familiar to you. It resembles the well-known normal (bell-shaped) curve.</p>
<p>The following diagram recaps the <code>infer</code> pipeline for creating a bootstrap distribution.</p>
<p><img src="images/flowcharts/infer/ci_diagram.png" width="\textwidth" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="now-to-confidence-intervals" class="section level2">
<h2><span class="header-section-number">9.3</span> Now to confidence intervals</h2>
<p><strong>Definition: Confidence Interval</strong></p>
<p>A <em>confidence interval</em> gives a range of plausible values for a parameter. It depends on a specified <em>confidence level</em> with higher confidence levels corresponding to wider confidence intervals and lower confidence levels corresponding to narrower confidence intervals. Common confidence levels include 90%, 95%, and 99%.</p>
<p>Usually we don’t just begin sections with a definition, but <em>confidence intervals</em> are simple to define and play an important role in the sciences and any field that uses data. You can think of a confidence interval as playing the role of a net when fishing. Instead of just trying to catch a fish with a single spear (estimating an unknown parameter by using a single point estimate/statistic), we can use a net to try to provide a range of possible locations for the fish (use a range of possible values based around our statistic to make a plausible guess as to the location of the parameter).</p>
<p>The bootstrapping process will provide bootstrap statistics that have a bootstrap distribution with center at (or extremely close to) the mean of the original sample. This can be seen by giving the observed statistic <code>obs_stat</code> argument the value of the point estimate <code>x_bar</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_distribution <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">visualize</span>(<span class="dt">obs_stat =</span> x_bar)</code></pre></div>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-299-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>We can also compute the mean of the bootstrap distribution of means to see how it compares to <code>x_bar</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_distribution <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_of_means =</span> <span class="kw">mean</span>(stat))</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mean_of_means"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"25.1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>In this case, we can see that the bootstrap distribution provides us a guess as to what the variability in different sample means may look like only using the original sample as our guide. We can quantify this variability in the form of a 95% confidence interval in a couple different ways.</p>
<div id="percentile-method" class="section level3">
<h3><span class="header-section-number">9.3.1</span> The percentile method</h3>
<p>One way to calculate a range of plausible values for the unknown mean age of coins in 2011 is to use the middle 95% of the <code>bootstrap_distribution</code> to determine our endpoints. Our endpoints are thus at the 2.5<sup>th</sup> and 97.5<sup>th</sup> percentiles. This can be done with <code>infer</code> using the <code>get_ci()</code> function. (You can also use the <code>conf_int()</code> or <code>get_confidence_interval()</code> functions here as they are aliases that work the exact same way.)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_distribution <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">get_ci</span>(<span class="dt">level =</span> <span class="fl">0.95</span>, <span class="dt">type =</span> <span class="st">&quot;percentile&quot;</span>)</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["2.5%"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["97.5%"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"21","2":"29.3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>These options are the default values for <code>level</code> and <code>type</code> so we can also just do:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">percentile_ci &lt;-<span class="st"> </span>bootstrap_distribution <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">get_ci</span>()
percentile_ci</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["2.5%"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["97.5%"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"21","2":"29.3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Using the percentile method, our range of plausible values for the mean age of US pennies in circulation in 2011 is 20.972 years to 29.252 years. We can use the <code>visualize()</code> function to view this using the <code>endpoints</code> and <code>direction</code> arguments, setting <code>direction</code> to <code>&quot;between&quot;</code> (between the values) and <code>endpoints</code> to be those stored with name <code>percentile_ci</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_distribution <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">visualize</span>(<span class="dt">endpoints =</span> percentile_ci, <span class="dt">direction =</span> <span class="st">&quot;between&quot;</span>)</code></pre></div>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-303-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>You can see that 95% of the data stored in the <code>stat</code> variable in <code>bootstrap_distribution</code> falls between the two endpoints with 2.5% to the left outside of the shading and 2.5% to the right outside of the shading. The cut-off points that provide our range are shown with the darker lines.</p>
</div>
<div id="the-standard-error-method" class="section level3">
<h3><span class="header-section-number">9.3.2</span> The standard error method</h3>
<p>If the bootstrap distribution is close to symmetric and bell-shaped, we can also use a shortcut formula for determining the lower and upper endpoints of the confidence interval. This is done by using the formula <span class="math inline">\(\bar{x} \pm (multiplier * SE),\)</span> where <span class="math inline">\(\bar{x}\)</span> is our original sample mean and <span class="math inline">\(SE\)</span> stands for <strong>standard error</strong> and corresponds to the standard deviation of the bootstrap distribution. The value of <span class="math inline">\(multiplier\)</span> here is the appropriate percentile of the standard normal distribution.</p>
<p>These are automatically calculated when <code>level</code> is provided with <code>level = 0.95</code> being the default. (95% of the values in a standard normal distribution fall within 1.96 standard deviations of the mean, so <span class="math inline">\(multiplier = 1.96\)</span> for <code>level = 0.95</code>, for example.) As mentioned, this formula assumes that the bootstrap distribution is symmetric and bell-shaped. This is often the case with bootstrap distributions, especially those in which the original distribution of the sample is not highly skewed.</p>
<p><strong>Definition: standard error</strong></p>
<p>The <em>standard error</em> is the standard deviation of the sampling distribution.</p>
<p>The variability of the sampling distribution may be approximated by the variability of the bootstrap distribution. Traditional theory-based methodologies for inference also have formulas for standard errors, assuming some conditions are met.</p>
<p>This <span class="math inline">\(\bar{x} \pm (multiplier * SE)\)</span> formula is implemented in the <code>get_ci()</code> function as shown with our pennies problem using the bootstrap distribution’s variability as an approximation for the sampling distribution’s variability. We’ll see more on this approximation shortly.</p>
<p>Note that the center of the confidence interval (the <code>point_estimate</code>) must be provided for the standard error confidence interval.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">standard_error_ci &lt;-<span class="st"> </span>bootstrap_distribution <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">get_ci</span>(<span class="dt">type =</span> <span class="st">&quot;se&quot;</span>, <span class="dt">point_estimate =</span> x_bar)
standard_error_ci</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["lower"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["upper"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"21","2":"29.3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_distribution <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">visualize</span>(<span class="dt">endpoints =</span> standard_error_ci, <span class="dt">direction =</span> <span class="st">&quot;between&quot;</span>)</code></pre></div>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-306-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>We see that both methods produce nearly identical confidence intervals with the percentile method being <span class="math inline">\([20.97, 29.25]\)</span> and the standard error method being <span class="math inline">\([20.97, 29.28]\)</span>.</p>
</div>
</div>
<div id="comparing-bootstrap-and-sampling-distributions" class="section level2">
<h2><span class="header-section-number">9.4</span> Comparing bootstrap and sampling distributions</h2>
<p>To help build up the idea of a confidence interval, we weren’t completely honest in our initial discussion. The <code>pennies_sample</code> data frame represents a sample from a larger number of pennies stored as <code>pennies</code> in the <code>moderndive</code> package. The <code>pennies</code> data frame (also in the <code>moderndive</code> package) contains 800 rows of data and two columns pertaining to the same variables as <code>pennies_sample</code>. Let’s begin by understanding some of the properties of the <code>age_by_2011</code> variable in the <code>pennies</code> data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(pennies, <span class="kw">aes</span>(<span class="dt">x =</span> age_in_<span class="dv">2011</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">10</span>, <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>)</code></pre></div>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-307-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pennies <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_age =</span> <span class="kw">mean</span>(age_in_<span class="dv">2011</span>),
            <span class="dt">median_age =</span> <span class="kw">median</span>(age_in_<span class="dv">2011</span>))</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mean_age"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["median_age"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.2","2":"20"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We see that <code>pennies</code> is slightly right-skewed with the mean being pulled towards the upper outliers. Recall that <code>pennies_sample</code> was more symmetric than <code>pennies</code>. In fact, it actually exhibited some left-skew as we compare the mean and median values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(pennies_sample, <span class="kw">aes</span>(<span class="dt">x =</span> age_in_<span class="dv">2011</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">10</span>, <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>)</code></pre></div>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-309-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pennies_sample <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_age =</span> <span class="kw">mean</span>(age_in_<span class="dv">2011</span>),
            <span class="dt">median_age =</span> <span class="kw">median</span>(age_in_<span class="dv">2011</span>))</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mean_age"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["median_age"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"25.1","2":"25.5"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div id="sampling-distribution-1" class="section level4 unnumbered">
<h4>Sampling distribution</h4>
<p>Let’s assume that <code>pennies</code> represents our population of interest. We can then create a sampling distribution for the population mean age of pennies, denoted by the Greek letter <span class="math inline">\(\mu\)</span>, using the <code>rep_sample_n()</code> function seen in Chapter <a href="8-sampling.html#sampling">8</a>. First we will create 1000 samples from the <code>pennies</code> data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">thousand_samples &lt;-<span class="st"> </span>pennies <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">rep_sample_n</span>(<span class="dt">size =</span> <span class="dv">40</span>, <span class="dt">reps =</span> <span class="dv">1000</span>, <span class="dt">replace =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p>When creating a sampling distribution, we do not replace the items when we create each sample. This is in contrast to the bootstrap distribution. It’s important to remember that the sampling distribution is sampling <strong>without</strong> replacement from the population to better understand sample-to-sample variability, whereas the bootstrap distribution is sampling <strong>with</strong> replacement from our original sample to better understand potential sample-to-sample variability.</p>
<p>After sampling from <code>pennies</code> 1000 times, we next want to compute the mean age for each of the 1000 samples:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sampling_distribution &lt;-<span class="st"> </span>thousand_samples <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(replicate) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">stat =</span> <span class="kw">mean</span>(age_in_<span class="dv">2011</span>))</code></pre></div>
<p>We could use <code>ggplot()</code> with <code>geom_histogram()</code> again, but since we’ve named our column in <code>summarize()</code> to be <code>stat</code>, we can also use the shortcut <code>visualize()</code> function in <code>infer</code> and also specify the number of bins and also fill the bars with a different color such as <code>&quot;salmon&quot;</code>. This will be done to help remember that <code>&quot;salmon&quot;</code> corresponds to “sampling distribution”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sampling_distribution <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">visualize</span>(<span class="dt">bins =</span> <span class="dv">10</span>, <span class="dt">fill =</span> <span class="st">&quot;salmon&quot;</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-313"></span>
<img src="ismaykim_files/figure-html/unnamed-chunk-313-1.png" alt="Sampling distribution for n=40 samples of pennies" width="\textwidth" />
<p class="caption">
Figure 9.1: Sampling distribution for n=40 samples of pennies
</p>
</div>
<p>We can also examine the variability in this sampling distribution by calculating the standard deviation of the <code>stat</code> column. Remember that the standard deviation of the sampling distribution is the <strong>standard error</strong>, frequently denoted as <code>se</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sampling_distribution <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">se =</span> <span class="kw">sd</span>(stat))</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["se"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"2.01"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="bootstrap-distribution" class="section level4 unnumbered">
<h4>Bootstrap distribution</h4>
<p>Let’s now see how the shape of the bootstrap distribution compares to that of the sampling distribution. We’ll shade the bootstrap distribution blue to further assist with remembering which is which.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_distribution <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">visualize</span>(<span class="dt">bins =</span> <span class="dv">10</span>, <span class="dt">fill =</span> <span class="st">&quot;blue&quot;</span>)</code></pre></div>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-315-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_distribution <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">se =</span> <span class="kw">sd</span>(stat))</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["se"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"2.12"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Notice that while the standard deviations are similar, the center of the sampling distribution and the bootstrap distribution differ:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sampling_distribution <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_of_sampling_means =</span> <span class="kw">mean</span>(stat))</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mean_of_sampling_means"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_distribution <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_of_bootstrap_means =</span> <span class="kw">mean</span>(stat))</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mean_of_bootstrap_means"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"25.1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Since the bootstrap distribution is centered at the original sample mean, it doesn’t necessarily provide a good estimate of the overall population mean <span class="math inline">\(\mu\)</span>. Let’s calculate the mean of <code>age_in_2011</code> for the <code>pennies</code> data frame to see how it compares to the mean of the sampling distribution and the mean of the bootstrap distribution.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pennies <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">overall_mean =</span> <span class="kw">mean</span>(age_in_<span class="dv">2011</span>))</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["overall_mean"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Notice that this value matches up well with the mean of the sampling distribution. This is actually an artifact of the Central Limit Theorem introduced in Chapter <a href="8-sampling.html#sampling">8</a>. The mean of the sampling distribution is expected to be the mean of the overall population.</p>
<p>The unfortunate fact though is that we don’t know the population mean in nearly all circumstances. The motivation of presenting it here was to show that the theory behind the Central Limit Theorem works using the tools you’ve worked with so far using the <code>ggplot2</code>, <code>dplyr</code>, <code>moderndive</code>, and <code>infer</code> packages.</p>
<p>If we aren’t able to use the sample mean as a good guess for the population mean, how should we best go about estimating what the population mean may be if we can only select samples from the population. We’ve now come full circle and can discuss the underpinnings of the confidence interval and ways to interpret it.</p>
</div>
</div>
<div id="interpreting-the-confidence-interval" class="section level2">
<h2><span class="header-section-number">9.5</span> Interpreting the confidence interval</h2>
<p>As shown above in Subsection <a href="9-confidence-intervals.html#percentile-method">9.3.1</a>, one range of plausible values for the population mean age of pennies in 2011, denoted by <span class="math inline">\(\mu\)</span>, is <span class="math inline">\([20.97, 29.25]\)</span>. Recall that this confidence interval is based on bootstrapping using <code>pennies_sample</code>. Note that the mean of <code>pennies</code> (21.152) does fall in this confidence interval. If we had a different sample of size 40 and constructed a confidence interval using the same method, would we be guaranteed that it contained the population parameter value as well? Let’s try it out:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pennies_sample2 &lt;-<span class="st"> </span>pennies <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sample_n</span>(<span class="dt">size =</span> <span class="dv">40</span>)</code></pre></div>
<p>Note the use of the <code>sample_n()</code> function in the <code>dplyr</code> package here. This does the same thing as <code>rep_sample_n(reps = 1)</code> but omits the extra <code>replicate</code> column.</p>
<p>We next create an <code>infer</code> pipeline to generate a percentile-based 95% confidence interval for <span class="math inline">\(\mu\)</span>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">percentile_ci2 &lt;-<span class="st"> </span>pennies_sample2 <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">specify</span>(<span class="dt">formula =</span> age_in_<span class="dv">2011</span> <span class="op">~</span><span class="st"> </span><span class="ot">NULL</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">generate</span>(<span class="dt">reps =</span> <span class="dv">1000</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">calculate</span>(<span class="dt">stat =</span> <span class="st">&quot;mean&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">get_ci</span>()
percentile_ci2</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["2.5%"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["97.5%"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"18.4","2":"25.3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>This new confidence interval also contains the value of <span class="math inline">\(\mu\)</span>. Let’s further investigate by repeating this process 100 times to get 100 different confidence intervals derived from 100 different samples of <code>pennies</code>. Each sample will have size of 40 just as the original sample. We will plot each of these confidence intervals as horizontal lines. We will also show a line corresponding to the known population value of 21.152 years.</p>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-323-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Of the 100 confidence intervals based on samples of size <span class="math inline">\(n = 40\)</span>, 96 of them captured the population mean <span class="math inline">\(\mu = 21.152\)</span>, whereas 4 of them did not include it. If we repeated this process of building confidence intervals more times with more samples, we’d expect 95% of them to contain the population mean. In other words, the procedure we have used to generate confidence intervals is “95% reliable” in that we can expect it to include the true population parameter 95% of the time if the process is repeated.</p>
<p>To further accentuate this point, let’s perform a similar procedure using 90% confidence intervals instead. This time we will use the standard error method instead of the percentile method for computing the confidence intervals.</p>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-324-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Of the 100 confidence intervals based on samples of size <span class="math inline">\(n = 40\)</span>, 87 of them captured the population mean <span class="math inline">\(\mu = 21.152\)</span>, whereas 13 of them did not include it. Repeating this process for more samples would result in us getting closer and closer to 90% of the confidence intervals including the true value. It is common to say while interpretting a confidence interval to be “95% confident” or “90% confident” that the true value falls within the range of the specified confidence interval. We will use this “confident” language throughout the rest of this chapter, but remember that it has more to do with a measure of reliability of the building process.</p>
<div id="back-to-our-pennies-example" class="section level4 unnumbered">
<h4>Back to our pennies example</h4>
<p>After this elaboration on what the level corresponds to in a confidence interval, let’s conclude by providing an interpretation of the original confidence interval result we found in Subsection <a href="9-confidence-intervals.html#percentile-method">9.3.1</a>.</p>
<p><strong>Interpretation:</strong> We are 95% confident that the true mean age of pennies in circulation in 2011 is between 20.972 and 29.252 years. This level of confidence is based on the percentile-based method including the true mean 95% of the time if many different samples (not just the one we used) were collected and confidence intervals were created.</p>
</div>
</div>
<div id="one-prop-ci" class="section level2">
<h2><span class="header-section-number">9.6</span> EXAMPLE: One proportion</h2>
<p>Let’s revisit our exercise of trying to estimate the proportion of red balls in the bowl from Chapter <a href="8-sampling.html#sampling">8</a>. We are now interested in determining a confidence interval for population parameter <span class="math inline">\(p\)</span>, the proportion of balls that are red out of the total <span class="math inline">\(N = 2400\)</span> red and white balls.</p>
<p>We will use the first sample reported from Ilyas and Yohan in Subsection <a href="8-sampling.html#student-shovels">8.2.2</a> for our point estimate. They observed 21 red balls out of the 50 in their shovel. This data is stored in the <code>tactile_shovel1</code> data frame in the <code>moderndive</code> package.</p>
<!-- Need to include this in the pkg! -->
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tactile_shovel1</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["color"],"name":[1],"type":["chr"],"align":["left"]}],"data":[{"1":"red"},{"1":"red"},{"1":"white"},{"1":"red"},{"1":"white"},{"1":"red"},{"1":"red"},{"1":"white"},{"1":"red"},{"1":"white"},{"1":"white"},{"1":"white"},{"1":"red"},{"1":"white"},{"1":"white"},{"1":"white"},{"1":"white"},{"1":"white"},{"1":"white"},{"1":"white"},{"1":"white"},{"1":"red"},{"1":"red"},{"1":"red"},{"1":"white"},{"1":"white"},{"1":"white"},{"1":"red"},{"1":"red"},{"1":"white"},{"1":"white"},{"1":"white"},{"1":"white"},{"1":"red"},{"1":"white"},{"1":"red"},{"1":"white"},{"1":"red"},{"1":"white"},{"1":"red"},{"1":"red"},{"1":"white"},{"1":"red"},{"1":"white"},{"1":"white"},{"1":"red"},{"1":"red"},{"1":"white"},{"1":"red"},{"1":"white"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div id="observed-statistic" class="section level3">
<h3><span class="header-section-number">9.6.1</span> Observed Statistic</h3>
<p>To compute the proportion that are red in this data we can use the <code>specify() %&gt;% calculate()</code> workflow. Note the use of the <code>success</code> argument here to clarify which of the two colors <code>&quot;red&quot;</code> or <code>&quot;white&quot;</code> we are interested in.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p_hat &lt;-<span class="st"> </span>tactile_shovel1 <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">specify</span>(<span class="dt">formula =</span> color <span class="op">~</span><span class="st"> </span><span class="ot">NULL</span>, <span class="dt">success =</span> <span class="st">&quot;red&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">calculate</span>(<span class="dt">stat =</span> <span class="st">&quot;prop&quot;</span>)
p_hat</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["stat"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.42"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="bootstrap-distribution-1" class="section level3">
<h3><span class="header-section-number">9.6.2</span> Bootstrap distribution</h3>
<p>Next we want to calculate many different bootstrap samples and their corresponding bootstrap statistic (the proportion of red balls). We’ve done 1000 in the past, but let’s go up to 10,000 now to better see the resulting distribution. Recall that this is done by including a <code>generate()</code> function call in the middle of our pipeline:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tactile_shovel1 <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">specify</span>(<span class="dt">formula =</span> color <span class="op">~</span><span class="st"> </span><span class="ot">NULL</span>, <span class="dt">success =</span> <span class="st">&quot;red&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">generate</span>(<span class="dt">reps =</span> <span class="dv">10000</span>)</code></pre></div>
<p>This results in 50 rows for each of the 10,000 replicates. Lastly, we finish the infer pipeline by adding back in the <code>calculate()</code> step.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_props &lt;-<span class="st"> </span>tactile_shovel1 <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">specify</span>(<span class="dt">formula =</span> color <span class="op">~</span><span class="st"> </span><span class="ot">NULL</span>, <span class="dt">success =</span> <span class="st">&quot;red&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">generate</span>(<span class="dt">reps =</span> <span class="dv">10000</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">calculate</span>(<span class="dt">stat =</span> <span class="st">&quot;prop&quot;</span>)</code></pre></div>
<p>Let’s <code>visualize()</code> what the resulting bootstrap distribution looks like as a histogram. We’ve adjusted the number of bins here as well to better see the resulting shape.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_props <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">visualize</span>(<span class="dt">bins =</span> <span class="dv">25</span>)</code></pre></div>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-332-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>We see that the resulting distribution is symmetric and bell-shaped so it doesn’t much matter which confidence interval method we choose. Let’s use the standard error method to create a 95% confidence interval.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">standard_error_ci &lt;-<span class="st"> </span>bootstrap_props <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">get_ci</span>(<span class="dt">type =</span> <span class="st">&quot;se&quot;</span>, <span class="dt">level =</span> <span class="fl">0.95</span>, <span class="dt">point_estimate =</span> p_hat)
standard_error_ci</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["lower"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["upper"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.284","2":"0.556"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_props <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">visualize</span>(<span class="dt">bins =</span> <span class="dv">25</span>, <span class="dt">endpoints =</span> standard_error_ci)</code></pre></div>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-334-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>We are 95% confident that the true proportion of red balls in the bowl is between 0.284 and years. This level of confidence is based on the standard error-based method including the true proportion 95% of the time if many different samples (not just the one we used) were collected and confidence intervals were created.</p>
</div>
<div id="theory-based-confidence-intervals" class="section level3">
<h3><span class="header-section-number">9.6.3</span> Theory-based confidence intervals</h3>
<p>When the bootstrap distribution has the nice symmetric, bell shape that we saw in the red balls example above, we can also use a formula to quantify the standard error. This provides another way to compute a confidence interval, but is a little more tedious and mathematical. The steps are outlined below. We’ve also shown how we can use the confidence interval (CI) interpretation in this case as well to support your understanding of this tricky concept.</p>
<div id="procedure-for-building-a-theory-based-ci-for-p" class="section level4 unnumbered">
<h4>Procedure for building a theory-based CI for <span class="math inline">\(p\)</span></h4>
<p>To construct a theory-based confidence interval for <span class="math inline">\(p\)</span>, the unknown true population proportion we</p>
<ol style="list-style-type: decimal">
<li>Collect a sample of size <span class="math inline">\(n\)</span></li>
<li>Compute <span class="math inline">\(\widehat{p}\)</span></li>
<li>Compute the standard error <span class="math display">\[\text{SE} = \sqrt{\frac{\widehat{p}(1-\widehat{p})}{n}}\]</span></li>
<li>Compute the margin of error <span class="math display">\[\text{MoE} = 1.96 \times \text{SE} =  1.96 \times \sqrt{\frac{\widehat{p}(1-\widehat{p})}{n}}\]</span></li>
<li>Compute both end points of the confidence interval:
<ul>
<li>The lower end point <code>lower_ci</code>: <span class="math display">\[\widehat{p} - \text{MoE} = \widehat{p} - 1.96\times\text{SE} = \widehat{p} - 1.96\times\sqrt{\frac{\widehat{p}(1-\widehat{p})}{n}}\]</span></li>
<li>The upper end point <code>upper_ci</code>: <span class="math display">\[\widehat{p} + \text{MoE} = \widehat{p} + 1.96\times\text{SE} = \widehat{p} + 1.96\times\sqrt{\frac{\widehat{p}(1-\widehat{p})}{n}}\]</span></li>
</ul></li>
<li>Alternatively, you can succinctly summarize a 95% confidence interval for <span class="math inline">\(p\)</span> using the <span class="math inline">\(\pm\)</span> symbol:</li>
</ol>
<p><span class="math display">\[
\widehat{p} \pm \text{MoE} = \widehat{p} \pm 1.96 \times \text{SE} = \widehat{p} \pm 1.96 \times \sqrt{\frac{\widehat{p}(1-\widehat{p})}{n}}
\]</span></p>
</div>
<div id="confidence-intervals-based-on-33-tactile-samples" class="section level4 unnumbered">
<h4>Confidence intervals based on 33 tactile samples</h4>
<p>Let’s load the tactile sampling data for the 33 groups from Chapter <a href="8-sampling.html#sampling">8</a>.</p>
<!-- Load tactile_prop_red into moderndive package too -->
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tactile_prop_red</code></pre></div>
<p>Let’s now apply the above procedure for constructing confidence intervals for <span class="math inline">\(p\)</span> using the data saved in <code>tactile_prop_red</code> by adding/modifying new columns using the <code>dplyr</code> package data wrangling tools seen in Chapter <a href="5-wrangling.html#wrangling">5</a>:</p>
<ol style="list-style-type: decimal">
<li>Rename <code>prop_red</code> to <code>p_hat</code>, the official name of the sample proportion</li>
<li>Make explicit the sample size <code>n</code> of <span class="math inline">\(n=50\)</span></li>
<li>the standard error <code>SE</code></li>
<li>the margin of error <code>MoE</code></li>
<li>the left endpoint of the confidence interval <code>lower_ci</code></li>
<li>the right endpoint of the confidence interval <code>upper_ci</code></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">conf_ints &lt;-<span class="st"> </span>tactile_prop_red <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">rename</span>(<span class="dt">p_hat =</span> prop_red) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(
    <span class="dt">n =</span> <span class="dv">50</span>,
    <span class="dt">SE =</span> <span class="kw">sqrt</span>(p_hat <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>p_hat) <span class="op">/</span><span class="st"> </span>n),
    <span class="dt">MoE =</span> <span class="fl">1.96</span> <span class="op">*</span><span class="st"> </span>SE,
    <span class="dt">lower_ci =</span> p_hat <span class="op">-</span><span class="st"> </span>MoE,
    <span class="dt">upper_ci =</span> p_hat <span class="op">+</span><span class="st"> </span>MoE
  )
conf_ints</code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-337">Table 9.1: </span>33 confidence intervals from 33 tactile samples of size n=50</caption>
<thead>
<tr class="header">
<th align="left">group</th>
<th align="right">red_balls</th>
<th align="right">p_hat</th>
<th align="right">n</th>
<th align="right">SE</th>
<th align="right">MoE</th>
<th align="right">lower_ci</th>
<th align="right">upper_ci</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Ilyas, Yohan</td>
<td align="right">21</td>
<td align="right">0.42</td>
<td align="right">50</td>
<td align="right">0.070</td>
<td align="right">0.137</td>
<td align="right">0.283</td>
<td align="right">0.557</td>
</tr>
<tr class="even">
<td align="left">Morgan, Terrance</td>
<td align="right">17</td>
<td align="right">0.34</td>
<td align="right">50</td>
<td align="right">0.067</td>
<td align="right">0.131</td>
<td align="right">0.209</td>
<td align="right">0.471</td>
</tr>
<tr class="odd">
<td align="left">Martin, Thomas</td>
<td align="right">21</td>
<td align="right">0.42</td>
<td align="right">50</td>
<td align="right">0.070</td>
<td align="right">0.137</td>
<td align="right">0.283</td>
<td align="right">0.557</td>
</tr>
<tr class="even">
<td align="left">Clark, Frank</td>
<td align="right">21</td>
<td align="right">0.42</td>
<td align="right">50</td>
<td align="right">0.070</td>
<td align="right">0.137</td>
<td align="right">0.283</td>
<td align="right">0.557</td>
</tr>
<tr class="odd">
<td align="left">Riddhi, Karina</td>
<td align="right">18</td>
<td align="right">0.36</td>
<td align="right">50</td>
<td align="right">0.068</td>
<td align="right">0.133</td>
<td align="right">0.227</td>
<td align="right">0.493</td>
</tr>
<tr class="even">
<td align="left">Andrew, Tyler</td>
<td align="right">19</td>
<td align="right">0.38</td>
<td align="right">50</td>
<td align="right">0.069</td>
<td align="right">0.135</td>
<td align="right">0.245</td>
<td align="right">0.515</td>
</tr>
<tr class="odd">
<td align="left">Julia</td>
<td align="right">19</td>
<td align="right">0.38</td>
<td align="right">50</td>
<td align="right">0.069</td>
<td align="right">0.135</td>
<td align="right">0.245</td>
<td align="right">0.515</td>
</tr>
<tr class="even">
<td align="left">Rachel, Lauren</td>
<td align="right">11</td>
<td align="right">0.22</td>
<td align="right">50</td>
<td align="right">0.059</td>
<td align="right">0.115</td>
<td align="right">0.105</td>
<td align="right">0.335</td>
</tr>
<tr class="odd">
<td align="left">Daniel, Caroline</td>
<td align="right">15</td>
<td align="right">0.30</td>
<td align="right">50</td>
<td align="right">0.065</td>
<td align="right">0.127</td>
<td align="right">0.173</td>
<td align="right">0.427</td>
</tr>
<tr class="even">
<td align="left">Josh, Maeve</td>
<td align="right">17</td>
<td align="right">0.34</td>
<td align="right">50</td>
<td align="right">0.067</td>
<td align="right">0.131</td>
<td align="right">0.209</td>
<td align="right">0.471</td>
</tr>
<tr class="odd">
<td align="left">Emily, Emily</td>
<td align="right">16</td>
<td align="right">0.32</td>
<td align="right">50</td>
<td align="right">0.066</td>
<td align="right">0.129</td>
<td align="right">0.191</td>
<td align="right">0.449</td>
</tr>
<tr class="even">
<td align="left">Conrad, Emily</td>
<td align="right">18</td>
<td align="right">0.36</td>
<td align="right">50</td>
<td align="right">0.068</td>
<td align="right">0.133</td>
<td align="right">0.227</td>
<td align="right">0.493</td>
</tr>
<tr class="odd">
<td align="left">Oliver, Erik</td>
<td align="right">17</td>
<td align="right">0.34</td>
<td align="right">50</td>
<td align="right">0.067</td>
<td align="right">0.131</td>
<td align="right">0.209</td>
<td align="right">0.471</td>
</tr>
<tr class="even">
<td align="left">Isabel, Nam</td>
<td align="right">21</td>
<td align="right">0.42</td>
<td align="right">50</td>
<td align="right">0.070</td>
<td align="right">0.137</td>
<td align="right">0.283</td>
<td align="right">0.557</td>
</tr>
<tr class="odd">
<td align="left">X, Claire</td>
<td align="right">15</td>
<td align="right">0.30</td>
<td align="right">50</td>
<td align="right">0.065</td>
<td align="right">0.127</td>
<td align="right">0.173</td>
<td align="right">0.427</td>
</tr>
<tr class="even">
<td align="left">Cindy, Kimberly</td>
<td align="right">20</td>
<td align="right">0.40</td>
<td align="right">50</td>
<td align="right">0.069</td>
<td align="right">0.136</td>
<td align="right">0.264</td>
<td align="right">0.536</td>
</tr>
<tr class="odd">
<td align="left">Kevin, James</td>
<td align="right">11</td>
<td align="right">0.22</td>
<td align="right">50</td>
<td align="right">0.059</td>
<td align="right">0.115</td>
<td align="right">0.105</td>
<td align="right">0.335</td>
</tr>
<tr class="even">
<td align="left">Nam, Isabelle</td>
<td align="right">21</td>
<td align="right">0.42</td>
<td align="right">50</td>
<td align="right">0.070</td>
<td align="right">0.137</td>
<td align="right">0.283</td>
<td align="right">0.557</td>
</tr>
<tr class="odd">
<td align="left">Harry, Yuko</td>
<td align="right">15</td>
<td align="right">0.30</td>
<td align="right">50</td>
<td align="right">0.065</td>
<td align="right">0.127</td>
<td align="right">0.173</td>
<td align="right">0.427</td>
</tr>
<tr class="even">
<td align="left">Yuki, Eileen</td>
<td align="right">16</td>
<td align="right">0.32</td>
<td align="right">50</td>
<td align="right">0.066</td>
<td align="right">0.129</td>
<td align="right">0.191</td>
<td align="right">0.449</td>
</tr>
<tr class="odd">
<td align="left">Ramses</td>
<td align="right">23</td>
<td align="right">0.46</td>
<td align="right">50</td>
<td align="right">0.070</td>
<td align="right">0.138</td>
<td align="right">0.322</td>
<td align="right">0.598</td>
</tr>
<tr class="even">
<td align="left">Joshua, Elizabeth, Stanley</td>
<td align="right">15</td>
<td align="right">0.30</td>
<td align="right">50</td>
<td align="right">0.065</td>
<td align="right">0.127</td>
<td align="right">0.173</td>
<td align="right">0.427</td>
</tr>
<tr class="odd">
<td align="left">Siobhan, Jane</td>
<td align="right">18</td>
<td align="right">0.36</td>
<td align="right">50</td>
<td align="right">0.068</td>
<td align="right">0.133</td>
<td align="right">0.227</td>
<td align="right">0.493</td>
</tr>
<tr class="even">
<td align="left">Jack, Will</td>
<td align="right">16</td>
<td align="right">0.32</td>
<td align="right">50</td>
<td align="right">0.066</td>
<td align="right">0.129</td>
<td align="right">0.191</td>
<td align="right">0.449</td>
</tr>
<tr class="odd">
<td align="left">Caroline, Katie</td>
<td align="right">21</td>
<td align="right">0.42</td>
<td align="right">50</td>
<td align="right">0.070</td>
<td align="right">0.137</td>
<td align="right">0.283</td>
<td align="right">0.557</td>
</tr>
<tr class="even">
<td align="left">Griffin, Y</td>
<td align="right">18</td>
<td align="right">0.36</td>
<td align="right">50</td>
<td align="right">0.068</td>
<td align="right">0.133</td>
<td align="right">0.227</td>
<td align="right">0.493</td>
</tr>
<tr class="odd">
<td align="left">Kaitlin, Jordan</td>
<td align="right">17</td>
<td align="right">0.34</td>
<td align="right">50</td>
<td align="right">0.067</td>
<td align="right">0.131</td>
<td align="right">0.209</td>
<td align="right">0.471</td>
</tr>
<tr class="even">
<td align="left">Ella, Garrett</td>
<td align="right">18</td>
<td align="right">0.36</td>
<td align="right">50</td>
<td align="right">0.068</td>
<td align="right">0.133</td>
<td align="right">0.227</td>
<td align="right">0.493</td>
</tr>
<tr class="odd">
<td align="left">Julie, Hailin</td>
<td align="right">15</td>
<td align="right">0.30</td>
<td align="right">50</td>
<td align="right">0.065</td>
<td align="right">0.127</td>
<td align="right">0.173</td>
<td align="right">0.427</td>
</tr>
<tr class="even">
<td align="left">Katie, Caroline</td>
<td align="right">21</td>
<td align="right">0.42</td>
<td align="right">50</td>
<td align="right">0.070</td>
<td align="right">0.137</td>
<td align="right">0.283</td>
<td align="right">0.557</td>
</tr>
<tr class="odd">
<td align="left">Mallory, Damani, Melissa</td>
<td align="right">21</td>
<td align="right">0.42</td>
<td align="right">50</td>
<td align="right">0.070</td>
<td align="right">0.137</td>
<td align="right">0.283</td>
<td align="right">0.557</td>
</tr>
<tr class="even">
<td align="left">Katie</td>
<td align="right">16</td>
<td align="right">0.32</td>
<td align="right">50</td>
<td align="right">0.066</td>
<td align="right">0.129</td>
<td align="right">0.191</td>
<td align="right">0.449</td>
</tr>
<tr class="odd">
<td align="left">Francis, Vignesh</td>
<td align="right">19</td>
<td align="right">0.38</td>
<td align="right">50</td>
<td align="right">0.069</td>
<td align="right">0.135</td>
<td align="right">0.245</td>
<td align="right">0.515</td>
</tr>
</tbody>
</table>
<p>Let’s plot:</p>
<ol style="list-style-type: decimal">
<li>These 33 confidence intervals for <span class="math inline">\(p\)</span>: from <code>lower_ci</code> to <code>upper_ci</code></li>
<li>The true population proportion <span class="math inline">\(p = 900 / 2400 = 0.375\)</span> with a red vertical line</li>
</ol>
<div class="figure" style="text-align: center"><span id="fig:tactile-conf-int"></span>
<img src="ismaykim_files/figure-html/tactile-conf-int-1.png" alt="33 confidence intervals based on 33 tactile samples of size n=50" width="\textwidth" />
<p class="caption">
Figure 9.2: 33 confidence intervals based on 33 tactile samples of size n=50
</p>
</div>
<p>We see that:</p>
<ul>
<li>In 31 cases, the confidence intervals “capture” the true <span class="math inline">\(p = 900 / 2400 = 0.375\)</span></li>
<li>In 2 cases, the confidence intervals do not “capture” the true <span class="math inline">\(p = 900 / 2400 = 0.375\)</span></li>
</ul>
<p>Thus, the confidence intervals capture the true proportion $31 / 33 = 93.939% of the time using this theory-based methodology.</p>
</div>
<div id="confidence-intervals-based-on-100-virtual-samples" class="section level4 unnumbered">
<h4>Confidence intervals based on 100 virtual samples</h4>
<p>Let’s say however, we repeated the above 100 times, not tactilely, but virtually. Let’s do this only 100 times instead of 1000 like we did before so that the results can fit on the screen. Again, the steps for compute a 95% confidence interval for <span class="math inline">\(p\)</span> are:</p>
<ol style="list-style-type: decimal">
<li>Collect a sample of size <span class="math inline">\(n = 50\)</span> as we did in Chapter <a href="8-sampling.html#sampling">8</a></li>
<li>Compute <span class="math inline">\(\widehat{p}\)</span>: the sample proportion red of these <span class="math inline">\(n=50\)</span> balls</li>
<li>Compute the standard error <span class="math inline">\(\text{SE} = \sqrt{\frac{\widehat{p}(1-\widehat{p})}{n}}\)</span></li>
<li>Compute the margin of error <span class="math inline">\(\text{MoE} = 1.96 \times \text{SE} = 1.96 \times \sqrt{\frac{\widehat{p}(1-\widehat{p})}{n}}\)</span></li>
<li>Compute both end points of the confidence interval:
<ul>
<li><code>lower_ci</code>: <span class="math inline">\(\widehat{p} - \text{MoE} = \widehat{p} - 1.96\times\text{SE} = \widehat{p} - 1.96\times\sqrt{\frac{\widehat{p}(1-\widehat{p})}{n}}\)</span></li>
<li><code>upper_ci</code>: <span class="math inline">\(\widehat{p} + \text{MoE} = \widehat{p} + 1.96\times\text{SE} = \widehat{p} +1.96\times\sqrt{\frac{\widehat{p}(1-\widehat{p})}{n}}\)</span></li>
</ul></li>
</ol>
<p>Run the following three steps, being sure to <code>View()</code> the resulting data frame after each step so you can convince yourself of what’s going on:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># First: Take 100 virtual samples of n=50 balls</span>
virtual_samples &lt;-<span class="st"> </span>bowl <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">rep_sample_n</span>(<span class="dt">size =</span> <span class="dv">50</span>, <span class="dt">reps =</span> <span class="dv">100</span>)

<span class="co"># Second: For each virtual sample compute the proportion red</span>
virtual_prop_red &lt;-<span class="st"> </span>virtual_samples <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(replicate) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">red =</span> <span class="kw">sum</span>(color <span class="op">==</span><span class="st"> &quot;red&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">prop_red =</span> red <span class="op">/</span><span class="st"> </span><span class="dv">50</span>)

<span class="co"># Third: Compute the 95% confidence interval as above</span>
virtual_prop_red &lt;-<span class="st"> </span>virtual_prop_red <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">rename</span>(<span class="dt">p_hat =</span> prop_red) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(
    <span class="dt">n =</span> <span class="dv">50</span>,
    <span class="dt">SE =</span> <span class="kw">sqrt</span>(p_hat<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>p_hat)<span class="op">/</span>n),
    <span class="dt">MoE =</span> <span class="fl">1.96</span> <span class="op">*</span><span class="st"> </span>SE,
    <span class="dt">lower_ci =</span> p_hat <span class="op">-</span><span class="st"> </span>MoE,
    <span class="dt">upper_ci =</span> p_hat <span class="op">+</span><span class="st"> </span>MoE
  )</code></pre></div>
<p>Here are the results:</p>
<div class="figure" style="text-align: center"><span id="fig:virtual-conf-int"></span>
<img src="ismaykim_files/figure-html/virtual-conf-int-1.png" alt="100 confidence intervals based on 100 virtual samples of size n=50" width="\textwidth" />
<p class="caption">
Figure 9.3: 100 confidence intervals based on 100 virtual samples of size n=50
</p>
</div>
<p>We see that of our 100 confidence intervals based on samples of size <span class="math inline">\(n=50\)</span>, 96 of them captured the true <span class="math inline">\(p = 900/2400\)</span>, whereas 4 of them missed. As we create more and more confidence intervals based on more and more samples, about 95% of these intervals will capture. In other words our procedure is “95% reliable.”</p>
<p>Theoretical methods like this have largely been used in the past since we didn’t have the computing power to perform the simulation-based methods such as bootstrapping. They are still commonly used though and if the normality assumptions are met, they can provide a nice option for finding confidence intervals and performing hypothesis tests as we will see in Chapter <a href="10-hypothesis-testing.html#hypothesis-testing">10</a>.</p>
</div>
</div>
</div>
<div id="example-comparing-two-proportions" class="section level2">
<h2><span class="header-section-number">9.7</span> EXAMPLE: Comparing two proportions</h2>
<p>If you see someone else yawn, are you more likely to yawn? In an <a href="http://www.discovery.com/tv-shows/mythbusters/mythbusters-database/yawning-contagious/">episode</a> of the show <em>Mythbusters</em>, they tested the myth that yawning is contagious. The snippet from the show is available to view on the Discovery Network website <a href="https://www.discovery.com/tv-shows/mythbusters/videos/is-yawning-contagious">here</a>.</p>
<p>Fifty adults who thought they were being considered for an appearance on the show were interviewed by a show recruiter (“confederate”) who either yawned or did not. Participants then sat by themselves in a large van and were asked to wait. While in the van, the Mythbusters watched via hidden camera to see if the unaware participants yawned. The data frame containing the results is available at <code>mythbusters_yawn</code> in the <code>moderndive</code> package. Let’s check it out.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mythbusters_yawn</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["subj"],"name":[1],"type":["int"],"align":["right"]},{"label":["group"],"name":[2],"type":["chr"],"align":["left"]},{"label":["yawn"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"1","2":"seed","3":"yes"},{"1":"2","2":"control","3":"yes"},{"1":"3","2":"seed","3":"no"},{"1":"4","2":"seed","3":"yes"},{"1":"5","2":"seed","3":"no"},{"1":"6","2":"control","3":"no"},{"1":"7","2":"seed","3":"yes"},{"1":"8","2":"control","3":"no"},{"1":"9","2":"control","3":"no"},{"1":"10","2":"seed","3":"no"},{"1":"11","2":"seed","3":"no"},{"1":"12","2":"control","3":"no"},{"1":"13","2":"control","3":"no"},{"1":"14","2":"seed","3":"yes"},{"1":"15","2":"seed","3":"no"},{"1":"16","2":"seed","3":"no"},{"1":"17","2":"seed","3":"no"},{"1":"18","2":"seed","3":"no"},{"1":"19","2":"control","3":"yes"},{"1":"20","2":"seed","3":"no"},{"1":"21","2":"seed","3":"no"},{"1":"22","2":"control","3":"no"},{"1":"23","2":"seed","3":"no"},{"1":"24","2":"control","3":"no"},{"1":"25","2":"control","3":"yes"},{"1":"26","2":"seed","3":"yes"},{"1":"27","2":"control","3":"yes"},{"1":"28","2":"seed","3":"no"},{"1":"29","2":"seed","3":"yes"},{"1":"30","2":"control","3":"no"},{"1":"31","2":"control","3":"no"},{"1":"32","2":"seed","3":"yes"},{"1":"33","2":"seed","3":"no"},{"1":"34","2":"control","3":"no"},{"1":"35","2":"seed","3":"yes"},{"1":"36","2":"control","3":"no"},{"1":"37","2":"seed","3":"yes"},{"1":"38","2":"seed","3":"no"},{"1":"39","2":"seed","3":"yes"},{"1":"40","2":"seed","3":"no"},{"1":"41","2":"seed","3":"no"},{"1":"42","2":"seed","3":"no"},{"1":"43","2":"seed","3":"no"},{"1":"44","2":"seed","3":"no"},{"1":"45","2":"seed","3":"no"},{"1":"46","2":"seed","3":"no"},{"1":"47","2":"control","3":"no"},{"1":"48","2":"seed","3":"no"},{"1":"49","2":"seed","3":"no"},{"1":"50","2":"seed","3":"no"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ul>
<li>The participant ID is stored in the <code>subj</code> variable with values of 1 to 50.</li>
<li>The <code>group</code> variable is either <code>&quot;seed&quot;</code> for when a confederate was trying to influence the participant or <code>&quot;control&quot;</code> if a confederate did not interact with the participant.</li>
<li>The <code>yawn</code> variable is either <code>&quot;yes&quot;</code> if the participant yawned or <code>&quot;no&quot;</code> if the participant did not yawn.</li>
</ul>
<p>We can use the <code>janitor</code> package to get a glimpse into this data in a table format:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mythbusters_yawn <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">tabyl</span>(group, yawn) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">adorn_percentages</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">adorn_pct_formatting</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="co"># To show original counts</span>
<span class="st">  </span><span class="kw">adorn_ns</span>()</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["group"],"name":[1],"type":["chr"],"align":["left"]},{"label":["no"],"name":[2],"type":["chr"],"align":["left"]},{"label":["yes"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"control","2":"75.0% (12)","3":"25.0%  (4)","_rn_":"1"},{"1":"seed","2":"70.6% (24)","3":"29.4% (10)","_rn_":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We are interested in comparing the proportion of those that yawned after seeing a seed versus those that yawned with no seed interaction. We’d like to see if the difference between these two proportions is significantly larger than 0. If so, we’d have evidence to support the claim that yawning is contagious based on this study.</p>
<p>In looking over this problem, we can make note of some important details to include in our <code>infer</code> pipeline:</p>
<ul>
<li>We are calling a <code>success</code> having a <code>yawn</code> value of <code>&quot;yes&quot;</code>.</li>
<li>Our response variable will always correspond to the variable used in the <code>success</code> so the response variable is <code>yawn</code>.</li>
<li>The explanatory variable is the other variable of interest here: <code>group</code>.</li>
</ul>
<p>To summarize, we are looking to see the examine the relationship between yawning and whether or not the participant saw a seed yawn or not.</p>
<div id="compute-the-point-estimate" class="section level3">
<h3><span class="header-section-number">9.7.1</span> Compute the point estimate</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mythbusters_yawn <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">specify</span>(<span class="dt">formula =</span> yawn <span class="op">~</span><span class="st"> </span>group)</code></pre></div>
<pre><code>Error in specify(., formula = yawn ~ group): A level of the response variable `yawn` needs to be specified for the `success` argument in `specify()`.</code></pre>
<p>Note that the <code>success</code> argument must be specified in situations such as this where the response variable has only two levels.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mythbusters_yawn <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">specify</span>(<span class="dt">formula =</span> yawn <span class="op">~</span><span class="st"> </span>group, <span class="dt">success =</span> <span class="st">&quot;yes&quot;</span>)</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["yawn"],"name":[1],"type":["fctr"],"align":["left"]},{"label":["group"],"name":[2],"type":["fctr"],"align":["left"]}],"data":[{"1":"yes","2":"seed"},{"1":"yes","2":"control"},{"1":"no","2":"seed"},{"1":"yes","2":"seed"},{"1":"no","2":"seed"},{"1":"no","2":"control"},{"1":"yes","2":"seed"},{"1":"no","2":"control"},{"1":"no","2":"control"},{"1":"no","2":"seed"},{"1":"no","2":"seed"},{"1":"no","2":"control"},{"1":"no","2":"control"},{"1":"yes","2":"seed"},{"1":"no","2":"seed"},{"1":"no","2":"seed"},{"1":"no","2":"seed"},{"1":"no","2":"seed"},{"1":"yes","2":"control"},{"1":"no","2":"seed"},{"1":"no","2":"seed"},{"1":"no","2":"control"},{"1":"no","2":"seed"},{"1":"no","2":"control"},{"1":"yes","2":"control"},{"1":"yes","2":"seed"},{"1":"yes","2":"control"},{"1":"no","2":"seed"},{"1":"yes","2":"seed"},{"1":"no","2":"control"},{"1":"no","2":"control"},{"1":"yes","2":"seed"},{"1":"no","2":"seed"},{"1":"no","2":"control"},{"1":"yes","2":"seed"},{"1":"no","2":"control"},{"1":"yes","2":"seed"},{"1":"no","2":"seed"},{"1":"yes","2":"seed"},{"1":"no","2":"seed"},{"1":"no","2":"seed"},{"1":"no","2":"seed"},{"1":"no","2":"seed"},{"1":"no","2":"seed"},{"1":"no","2":"seed"},{"1":"no","2":"seed"},{"1":"no","2":"control"},{"1":"no","2":"seed"},{"1":"no","2":"seed"},{"1":"no","2":"seed"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We next want to calculate the statistic of interest for our sample. This corresponds to the difference in the proportion of successes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mythbusters_yawn <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">specify</span>(<span class="dt">formula =</span> yawn <span class="op">~</span><span class="st"> </span>group, <span class="dt">success =</span> <span class="st">&quot;yes&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">calculate</span>(<span class="dt">stat =</span> <span class="st">&quot;diff in props&quot;</span>)</code></pre></div>
<pre><code>Error: Statistic is based on a difference; specify the `order` in which to subtract the levels of the explanatory variable. `order = c(&quot;first&quot;, &quot;second&quot;)` means `(&quot;first&quot; - &quot;second&quot;)` Check `?calculate` for details.</code></pre>
<p>We see another error here. To further check to make sure that R knows exactly what we are after, we need to provide the <code>order</code> in which R should subtract these proportions of successes. As the error message states, we’ll want to put <code>&quot;seed&quot;</code> first after <code>c()</code> and then <code>&quot;control&quot;</code>: <code>order = c(&quot;seed&quot;, &quot;control&quot;)</code>. Our point estimate is thus calculated:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">obs_diff &lt;-<span class="st"> </span>mythbusters_yawn <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">specify</span>(<span class="dt">formula =</span> yawn <span class="op">~</span><span class="st"> </span>group, <span class="dt">success =</span> <span class="st">&quot;yes&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">calculate</span>(<span class="dt">stat =</span> <span class="st">&quot;diff in props&quot;</span>, <span class="dt">order =</span> <span class="kw">c</span>(<span class="st">&quot;seed&quot;</span>, <span class="st">&quot;control&quot;</span>))
obs_diff</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["stat"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.0441"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>This value represents the proportion of those that yawned after seeing a seed yawn (0.2941) minus the proportion of those that yawned with not seeing a seed (0.25).</p>
</div>
<div id="bootstrap-distribution-2" class="section level3">
<h3><span class="header-section-number">9.7.2</span> Bootstrap distribution</h3>
<p>Our next step in building a confidence interval is to create a bootstrap distribution of statistics (differences in proportions of successes). We saw how it works with both a single variable in computing bootstrap means in Subsection <a href="9-confidence-intervals.html#bootstrap-process">9.1.3</a> and in computing bootstrap proportions in Section <a href="9-confidence-intervals.html#one-prop-ci">9.6</a>, but we haven’t yet worked with bootstrapping involving multiple variables though.</p>
<p>In the <code>infer</code> package, bootstrapping with multiple variables means that each <strong>row</strong> is potentially resampled. Let’s investigate this by looking at the first few rows of <code>mythbusters_yawn</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(mythbusters_yawn)</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["subj"],"name":[1],"type":["int"],"align":["right"]},{"label":["group"],"name":[2],"type":["chr"],"align":["left"]},{"label":["yawn"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"1","2":"seed","3":"yes"},{"1":"2","2":"control","3":"yes"},{"1":"3","2":"seed","3":"no"},{"1":"4","2":"seed","3":"yes"},{"1":"5","2":"seed","3":"no"},{"1":"6","2":"control","3":"no"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>When we bootstrap this data, we are potentially pulling the subject’s readings multiple times. Thus, we could see the entries of <code>&quot;seed&quot;</code> for <code>group</code> and <code>&quot;no&quot;</code> for <code>yawn</code> together in a new row in a bootstrap sample. This is further seen by exploring the <code>sample_n()</code> function in <code>dplyr</code> on this smaller 6 row data frame comprised of <code>head(mythbusters_yawn)</code>. The <code>sample_n()</code> function can perform this bootstrapping procedure and is similar to the <code>rep_sample_n()</code> function in <code>infer</code>, except that it is not <code>rep</code>eated but rather only performs one sample with or without replacement.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">2019</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(mythbusters_yawn) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sample_n</span>(<span class="dt">size =</span> <span class="dv">6</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["subj"],"name":[1],"type":["int"],"align":["right"]},{"label":["group"],"name":[2],"type":["chr"],"align":["left"]},{"label":["yawn"],"name":[3],"type":["chr"],"align":["left"]}],"data":[{"1":"5","2":"seed","3":"no"},{"1":"5","2":"seed","3":"no"},{"1":"2","2":"control","3":"yes"},{"1":"4","2":"seed","3":"yes"},{"1":"1","2":"seed","3":"yes"},{"1":"1","2":"seed","3":"yes"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We can see that in this bootstrap sample generated from the first six rows of <code>mythbusters_yawn</code>, we have some rows repeated. The same is true when we perform the <code>generate()</code> step in <code>infer</code> as done below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_distribution &lt;-<span class="st"> </span>mythbusters_yawn <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">specify</span>(<span class="dt">formula =</span> yawn <span class="op">~</span><span class="st"> </span>group, <span class="dt">success =</span> <span class="st">&quot;yes&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">generate</span>(<span class="dt">reps =</span> <span class="dv">1000</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">calculate</span>(<span class="dt">stat =</span> <span class="st">&quot;diff in props&quot;</span>, <span class="dt">order =</span> <span class="kw">c</span>(<span class="st">&quot;seed&quot;</span>, <span class="st">&quot;control&quot;</span>))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_distribution <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">visualize</span>(<span class="dt">bins =</span> <span class="dv">20</span>)</code></pre></div>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-349-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>This distribution is roughly symmetric and bell-shaped but isn’t quite there. Let’s use the percentile-based method to compute a 95% confidence interval for the true difference in the proportion of those that yawn with and without a seed presented. The arguments are explicitly listed here but remember they are the defaults and simply <code>get_ci()</code> can be used.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bootstrap_distribution <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">get_ci</span>(<span class="dt">type =</span> <span class="st">&quot;percentile&quot;</span>, <span class="dt">level =</span> <span class="fl">0.95</span>)</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["2.5%"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["97.5%"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"-0.219","2":"0.293"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The confidence interval shown here includes the value of 0. We’ll see in Chapter <a href="10-hypothesis-testing.html#hypothesis-testing">10</a> further what this means in terms of this difference being statistically significant or not, but let’s examine a bit here first. The range of plausible values for the difference in the proportion of that that yawned with and without a seed is between -0.219 and 0.293.</p>
<p>Therefore, we are not sure which proportion is larger. Some of the bootstrap statistics showed the proportion without a seed to be higher and others showed the proportion with a seed to be higher. If the confidence interval was entirely above zero, we would be relatively sure (about “95% confident”) that the seed group had a higher proportion of yawning than the control group.</p>
<p>Note that this all relates to the importance of denoting the <code>order</code> argument in the <code>calculate()</code> function. Since we specified <code>&quot;seed&quot;</code> and then <code>&quot;control&quot;</code> positive values for the statistic correspond to the <code>&quot;seed&quot;</code> proportion being higher, whereas negative values correspond to the <code>&quot;control&quot;</code> group being higher.</p>
<p>We, therefore, have evidence via this confidence interval suggesting that the conclusion from the Mythbusters show that “yawning is contagious” being “confirmed” is not statistically appropriate.</p>
<div class="learncheck">
<p>
<strong><em>Learning check</em></strong>
</p>
</div>
<p>Practice problems to come soon!</p>
<div class="learncheck">

</div>
</div>
</div>
<div id="conclusion-7" class="section level2">
<h2><span class="header-section-number">9.8</span> Conclusion</h2>
<div id="whats-to-come-6" class="section level3">
<h3><span class="header-section-number">9.8.1</span> What’s to come?</h3>
<p>This chapter introduced the notions of bootstrapping and confidence intervals as ways to build intuition about population parameters using only the original sample information. We also concluded with a glimpse into statistical significance and we’ll dig much further into this in Chapter <a href="10-hypothesis-testing.html#hypothesis-testing">10</a> up next!</p>
</div>
<div id="script-of-r-code-6" class="section level3">
<h3><span class="header-section-number">9.8.2</span> Script of R code</h3>
<p>An R script file of all R code used in this chapter is available <a href="https://moderndive.netlify.com/scripts/09-confidence-intervals.R">here</a>.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="8-sampling.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="10-hypothesis-testing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/moderndive/moderndive_book/edit/master/09-confidence-intervals.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
